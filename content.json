{"meta":{"title":"Gladdduck","subtitle":"","description":"","author":"syxue","url":"https://gladdduck.github.io","root":"/"},"pages":[{"title":"404 Not Foundï¼šè¯¥é¡µæ— æ³•æ˜¾ç¤º","date":"2023-09-19T02:30:05.466Z","updated":"2022-10-17T15:17:42.000Z","comments":false,"path":"/404.html","permalink":"https://gladdduck.github.io/404.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2022-10-22T00:58:31.965Z","updated":"2022-10-17T15:17:42.000Z","comments":false,"path":"categories/index.html","permalink":"https://gladdduck.github.io/categories/index.html","excerpt":"","text":""},{"title":"ä¹¦å•","date":"2022-10-22T00:58:31.965Z","updated":"2022-10-17T15:17:42.000Z","comments":false,"path":"books/index.html","permalink":"https://gladdduck.github.io/books/index.html","excerpt":"","text":""},{"title":"å…³äº","date":"2023-11-13T07:02:11.331Z","updated":"2023-11-13T07:02:11.331Z","comments":false,"path":"about/index.html","permalink":"https://gladdduck.github.io/about/index.html","excerpt":"","text":"è¿™æ˜¯æˆ‘. ç•¥ç•¥ç•¥ç•¥ç•¥"},{"title":"æ ‡ç­¾","date":"2022-10-22T00:58:31.967Z","updated":"2022-10-17T15:17:42.000Z","comments":false,"path":"tags/index.html","permalink":"https://gladdduck.github.io/tags/index.html","excerpt":"","text":""},{"title":"å‹æƒ…è¿æ¥","date":"2023-12-11T05:27:34.676Z","updated":"2023-12-11T05:27:34.676Z","comments":true,"path":"links/index.html","permalink":"https://gladdduck.github.io/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2022-10-22T00:58:31.966Z","updated":"2022-10-17T15:17:42.000Z","comments":false,"path":"repository/index.html","permalink":"https://gladdduck.github.io/repository/index.html","excerpt":"","text":""},{"title":"ç…§ç‰‡å¢™","date":"2023-12-11T06:24:04.153Z","updated":"2023-12-11T06:24:04.153Z","comments":false,"path":"picturewall/index.html","permalink":"https://gladdduck.github.io/picturewall/index.html","excerpt":"","text":".outer { column-count: 5; } img { width: 100%; transition: 0.2s linear; cursor: pointer; margin: 5px; } img:hover { box-shadow: 0px 0px 20px black; transform: scale(1.02); } .modal { display: none; position: fixed; z-index: 1; padding-top: 100px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.9); } .modal-content { margin: auto; display: block; width: 80%; max-width: 700px; } .modal-content img { width: 100%; height: auto; } &times; function openModal(img) { var modal = document.getElementById(\"myModal\"); var modalImg = document.getElementById(\"img01\"); modal.style.display = \"block\"; modalImg.src = img.src; modal.onclick = function() { closeModal(); }; } function closeModal() { document.getElementById(\"myModal\").style.display = \"none\"; }"},{"title":"","date":"2023-12-11T06:20:08.328Z","updated":"2023-12-11T06:20:08.328Z","comments":true,"path":"picturewall/test.html","permalink":"https://gladdduck.github.io/picturewall/test.html","excerpt":"","text":".outer { text-align: center; } .outer img { width: 200px; height: auto; margin: 5px; cursor: pointer; } .modal { display: none; position: fixed; z-index: 1; padding-top: 100px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.9); } .modal-content { margin: auto; display: block; width: 80%; max-width: 700px; } .modal-content img { width: 100%; height: auto; } &times; function openModal(img) { var modal = document.getElementById(\"myModal\"); var modalImg = document.getElementById(\"img01\"); modal.style.display = \"block\"; modalImg.src = img.src; modal.onclick = function() { closeModal(); }; } function closeModal() { document.getElementById(\"myModal\").style.display = \"none\"; }"}],"posts":[{"title":"","slug":"ç®—æ³•-ç¾å›¢ç¬”è¯•","date":"2024-03-18T13:28:14.565Z","updated":"2024-03-18T13:28:58.923Z","comments":true,"path":"2024/03/18/ç®—æ³•-ç¾å›¢ç¬”è¯•/","link":"","permalink":"https://gladdduck.github.io/2024/03/18/%E7%AE%97%E6%B3%95-%E7%BE%8E%E5%9B%A2%E7%AC%94%E8%AF%95/","excerpt":"","text":"title: 2024ç¾å›¢æ˜¥æ‹›ç¬”è¯• categories: å­¦ä¹ ç¬”è®° tags: å®ä¹ ç¬”è¯• toc: true # æ˜¯å¦å¯ç”¨å†…å®¹ç´¢å¼•","categories":[],"tags":[]},{"title":"Hadoopå­¦ä¹ ç¬”è®°","slug":"å®ä¹ -HadoopçŸ¥è¯†ç‚¹","date":"2024-03-16T08:26:52.655Z","updated":"2024-03-18T13:20:24.903Z","comments":true,"path":"2024/03/16/å®ä¹ -HadoopçŸ¥è¯†ç‚¹/","link":"","permalink":"https://gladdduck.github.io/2024/03/16/%E5%AE%9E%E4%B9%A0-Hadoop%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"","text":"Hadoopæ¦‚è¿° å¤§æ•°æ® å¤§é‡(Volume),å¤šæ ·(Variety),é«˜é€Ÿ(Velocity),ä»·å€¼(Volue) å…¨ä½“æ•°æ®å–ä»£éšæœºæ ·æœ¬ æ··æ‚æ€§å–ä»£ç²¾ç¡®æ€§ ç›¸å…³å…³ç³»å–ä»£å› æœå…³ç³» Hadoopçš„ä½“ç³» Hadoopæ˜¯å¯¹æµ·é‡æ•°æ®è¿›è¡Œå¤§è§„æ¨¡åˆ†å¸ƒå¼å¤„ç†çš„å¼€æºè½¯ä»¶æ¡†æ¶ HDFSâ€”åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼› MapReduceâ€”åˆ†å¸ƒå¼å¤„ç†æ¨¡å‹ï¼› HBaseâ€”åˆ†å¸ƒå¼æ•°æ®åº“ï¼ˆéSQLï¼‰ HCatalogâ€”Hadoopå†…éƒ¨æ•°æ®æ•´åˆå·¥å…·ï¼Œå®ç°ä¸åŒæ•°æ®å¤„ç†å·¥å…·çš„æ•°æ®ç±»å‹ç›¸äº’è½¬æ¢æœºåˆ¶ï¼› Pigâ€”æµå¼æ•°æ®çš„æ•°æ®å¤„ç†è¯­è¨€åŠå…¶è¿è¡Œç¯å¢ƒï¼› Hiveâ€”æ•°æ®ä»“åº“ç®¡ç†å·¥å…·ï¼Œæä¾›SQLæŸ¥è¯¢åŠŸèƒ½ï¼› ZooKeeperâ€”åˆ†å¸ƒå¼åè°ƒå™¨ã€‚ å¤§æ•°æ®ä¸äº‘è®¡ç®—å…³ç³» äº‘è®¡ç®—å°±æ˜¯æŠŠä¸€å¤§å †å»‰ä»·æœºå™¨ç»„ç»‡èµ·æ¥ï¼Œé€šè¿‡ç½‘ç»œå‘ç”¨æˆ·æä¾›æµ·é‡èµ„æºçš„é«˜æ€§èƒ½å¯é æœåŠ¡ã€‚ äº‘è®¡ç®—ä¸ºå¤§æ•°æ®å¤„ç†æä¾›äº†å¯èƒ½å’Œé€”å¾„ å¤§æ•°æ®ä¸ºäº‘è®¡ç®—å…·æœ‰çš„å¤§è§„æ¨¡ä¸åˆ†å¸ƒå¼è®¡ç®—èƒ½åŠ›æä¾›äº†åº”ç”¨ç©ºé—´ï¼Œåˆ©ç”¨äº‘è®¡ç®—è§£å†³äº†ä¼ ç»Ÿæ•°æ®ç®¡ç†ç³»ç»Ÿæ— æ³•è§£å†³çš„é—®é¢˜ åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFS åˆ†å¸ƒå¼è®¡ç®—æ¨¡å‹MapReduce é€šç”¨èµ„æºç®¡ç†ç³»ç»ŸYarn åˆ†å¸ƒå¼åè°ƒå™¨Zookeeper Zookerperç®€ä»‹ Zookeeperæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼çš„ï¼Œä¸ºåˆ†å¸ƒå¼æ¡†æ¶æä¾›åè°ƒæœåŠ¡çš„Apacheé¡¹ç›® æ˜¯ä¸€ä¸ªåŸºäºè§‚å¯Ÿè€…æ¨¡å¼è®¾è®¡çš„åˆ†å¸ƒå¼æœåŠ¡ç®¡ç†æ¡†æ¶ï¼Œå®ƒè´Ÿè´£å­˜å‚¨å’Œç®¡ç†å¤§å®¶éƒ½å…³å¿ƒçš„æ•°æ®ï¼Œç„¶åæ¥å—è§‚å¯Ÿè€…çš„æ³¨å†Œï¼Œä¸€æ—¦è¿™äº›æ•°æ®çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒZookeeperå°±å°†è´Ÿè´£é€šçŸ¥å·²ç»åœ¨Zookeeperä¸Šæ³¨å†Œçš„é‚£äº›è§‚å¯Ÿè€…åšå‡ºç›¸åº”çš„ååº”ã€‚ Zookerperæ¶æ„ ZooKeeperæ˜¯ä¸€ä¸ªç”±å¥‡æ•°ï¼ˆ2n+1ï¼‰å°åŒæ„æœåŠ¡å™¨ç»„æˆçš„é›†ç¾¤ï¼Œå®ƒé‡‡ç”¨ä¸»-ä»ç»“æ„ ä¸€å°ä¸»æœåŠ¡å™¨Leaderï¼Œè‹¥å¹²å°ä»æœåŠ¡å™¨Followerï¼Œåªè¦æœ‰è¶…è¿‡åŠæ•°çš„æœåŠ¡å™¨èƒ½å¤Ÿå·¥ä½œï¼ŒZooKeeperé›†ç¾¤å°±èƒ½æ­£å¸¸å·¥ä½œ é›†ç¾¤å†…æ‰€æœ‰æœåŠ¡å™¨å‡ä¿æŒåŒæ­¥ï¼Œéƒ½æ¥å—å®¢æˆ·ç«¯çš„è¯»å†™è¯·æ±‚ å¦‚æœZooKeeperé›†ç¾¤ä¸­çš„Leaderå‡ºç°äº†æ•…éšœï¼Œé‚£ä¹ˆFollowerä»¬å°±ä¼šé€šè¿‡ä¸€å®šçš„ç­–ç•¥ï¼Œé€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„Leaderï¼› LearderåŠŸèƒ½ï¼š å¯åŠ¨æˆ–é‡å¯æ—¶æ¢å¤æ•°æ® æ£€æµ‹Followerçš„å¿ƒè·³ ç»“æŸFollerå‘æ¥çš„è¯·æ±‚æ ¹æ®ä¸åŒçš„ç±»å‹åšå‡ºå¤„ç†ï¼Œæ¯”å¦‚å†™ FolloweråŠŸèƒ½ï¼š æ¥å—Leaderçš„æ¶ˆæ¯ï¼Œå¹¶å®Œæˆå·¥ä½œ å‘Leaderå‘é€å¿ƒè·³ æ¥å—å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œå¦‚æœä¸ºè¯»è¯·æ±‚ï¼Œç›´æ¥è¿”å›ç»“æœï¼Œå¦‚æœä¸ºå†™è¯·æ±‚ï¼Œè½¬å‘ç»™Leader Zookerperæ•°æ®æ¨¡å‹ Zookeeperç»´æŠ¤ä¸€ä¸ªç±»ä¼¼äºæ ‘çŠ¶çš„æ–‡ä»¶ç³»ç»Ÿ æ ‘çŠ¶ç»“æ„ä¸­æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹ï¼Œç§°ä¸º&quot;/&quot;ï¼Œå…¶ä»–èŠ‚ç‚¹å»ºç«‹åœ¨æ ¹èŠ‚ç‚¹ä¸Šï¼Œæ¯ä¸ªèŠ‚ç‚¹ç§°ä¸ºZNode æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥å­˜å‚¨ä¸è¶…è¿‡1MBçš„æ•°æ®ï¼ŒæŒä¹…æ€§çš„ZNodeè¿˜å¯ä»¥åœ¨åˆ›å»ºå­èŠ‚ç‚¹ ZNodeçš„ç±»å‹ï¼š æŒä¹…æ€§èŠ‚ç‚¹ï¼šä¸€æ—¦åˆ›å»ºï¼Œé™¤éä¸»åŠ¨åˆ é™¤ï¼Œå¦åˆ™ä¸€ç›´å­˜åœ¨ æŒä¹…æ€§é¡ºåºèŠ‚ç‚¹ï¼šä¸€æ—¦åˆ›å»ºï¼Œé™¤éä¸»åŠ¨åˆ é™¤ï¼Œå¦åˆ™ä¸€ç›´å­˜åœ¨ï¼ŒèŠ‚ç‚¹ååé¢ä¼šæœ‰ä¸€ä¸ªé€’å¢çš„åºå· ä¸´æ—¶èŠ‚ç‚¹ï¼šå®¢æˆ·ç«¯æ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹ä¼šè¢«åˆ é™¤ ä¸´æ—¶é¡ºåºèŠ‚ç‚¹ï¼šå®¢æˆ·ç«¯æ–­å¼€è¿æ¥åï¼Œè¯¥èŠ‚ç‚¹ä¼šè¢«åˆ é™¤ï¼ŒèŠ‚ç‚¹ååé¢ä¼šæœ‰ä¸€ä¸ªé€’å¢çš„åºå· ZNodeç»„æˆï¼š è®¿é—®æ§åˆ¶åˆ—è¡¨ï¼ˆACLï¼‰ï¼šæ§åˆ¶å¯¹ZNodeçš„è®¿é—®æƒé™ ZNodeè‡ªèº«çŠ¶æ€ä¿¡æ¯ï¼šåˆ›å»ºè€…IDç­‰ ZNodeæ•°æ®ï¼šå­˜å‚¨çš„æ•°æ® Zookeeperçš„ä¸€è‡´æ€§ ä¼šè¯ï¼ˆSessionï¼‰æœºåˆ¶ å½“å®¢æˆ·ç«¯æˆåŠŸè¿æ¥åˆ°ZooKeeperæ—¶ï¼Œå°±ä¸ä¹‹å»ºç«‹äº†ä¸€ä¸ªä¼šè¯ï¼Œå®¢æˆ·ç«¯é€šè¿‡å®šæ—¶å‘ZooKeeperå‘é€å¿ƒè·³æ¶ˆæ¯æ¥ä¿æŒä¼šè¯æœ‰æ•ˆ å¦‚æœZooKeeperåœ¨è§„å®šæ—¶é—´æ®µï¼ˆé»˜è®¤ä¸º180ç§’ï¼‰å†…æœªèƒ½æ”¶åˆ°æŸä¸ªå®¢æˆ·ç«¯çš„å¿ƒè·³æ¶ˆæ¯ï¼Œåˆ™ä½¿å…¶ä¼šè¯å¤±æ•ˆï¼Œå³å¯¼è‡´è¯¥å®¢æˆ·ç«¯ä¸ZooKeeperæ–­å¼€ å¦‚æœå› æœåŠ¡å™¨è´Ÿè½½è¿‡é‡ã€ç½‘ç»œé˜»å¡ç­‰å¯¼è‡´å®¢æˆ·ç«¯ä¸ZooKeeperé›†ç¾¤å†…æŸä¸ªæœåŠ¡å™¨æ–­å¼€ï¼Œå®¢æˆ·ç«¯åªè¦åœ¨è§„å®šæ—¶é—´æ®µå†…ä¸ZooKeeperé›†ç¾¤å†…çš„ä»»ä½•ä¸€ä¸ªæœåŠ¡å™¨è¿æ¥ä¸Šï¼Œè¯¥ä¼šè¯ä»ç„¶æœ‰æ•ˆã€‚ ç›‘è§†ï¼ˆWatcherï¼‰æœºåˆ¶ å®¢æˆ·ç«¯å¯ä»¥åœ¨æŸä¸ªZnodeä¸Šè®¾ç½®ä¸€ä¸ªWatcherï¼ˆç›‘è§†å™¨ï¼‰ï¼Œæ¥ç›‘è§†è¯¥Znodeçš„çŠ¶æ€ï¼› Watcherä¸€æ¬¡æ€§æœ‰æ•ˆ ä¸€æ—¦è¢«è®¾ç½®äº†Watcherçš„Znodeçš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼ŒZooKeeperæœåŠ¡ç«¯ä¼šå°†æ­¤äº‹ä»¶é€šçŸ¥è®¾ç½®Watcherçš„å®¢æˆ·ç«¯ï¼Œå¹¶æ ¹æ®äº‹ä»¶ç±»å‹è§¦å‘å›è°ƒå®¢æˆ·ç«¯äº‹å…ˆè®¾ç½®çš„å¤„ç†é€»è¾‘ Zookeeperçš„è‡ªèº«ä¸€è‡´æ€§ myid:Zookeeperé›†ç¾¤ä¸­æ¯ä¸ªæœåŠ¡å™¨çš„å”¯ä¸€æ ‡è¯†ï¼Œmyidæ–‡ä»¶ä¸­åªåŒ…å«ä¸€ä¸ªæ•°å­—ï¼Œè¿™ä¸ªæ•°å­—å°±æ˜¯è¿™ä¸ªæœåŠ¡å™¨çš„ç¼–å· ZXID: ZooKeeperä¸ºæ¯ä¸ªäº‹åŠ¡æ“ä½œåˆ†é…ä¸€ä¸ªå…¨å±€å•è°ƒé€’å¢çš„äº‹åŠ¡ç¼–å·ï¼ˆZXIDï¼‰ï¼Œæ¯ä¸ªZXIDå¯¹åº”äºä¸€æ¬¡äº‹åŠ¡æ“ä½œï¼Œå®ƒéšäº‹åŠ¡ä¸€èµ·è¢«è®°å…¥äº‹åŠ¡æ—¥å¿—. ZXIDæ˜¯ä¸€ä¸ª64ä½äºŒè¿›åˆ¶æ•°ï¼Œå…¶é«˜32ä½ä¸ºLeaderå‘¨æœŸçš„ç¼–å·ï¼Œç§°ä½œepochï¼Œæ–°é€‰å‡ºçš„Leaderçš„epochä¸ºå…¶å‰ä»»Leaderçš„epochå€¼åŠ 1 ZXIDçš„ä½32ä½æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„è®¡æ•°å™¨ï¼ŒLeaderåœ¨æ‰§è¡Œä¸€ä¸ªæ–°çš„äº‹åŠ¡æ“ä½œæ—¶ï¼Œéƒ½ä¼šå¯¹è¯¥è®¡æ•°å™¨ä½œåŠ 1æ“ä½œï¼Œå…¶ä¸epochç»„åˆæˆæ­¤äº‹åŠ¡æ“ä½œçš„ZXID æ¯å½“é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„Leaderæ—¶ï¼Œå°±ä»è¯¥Leaderçš„äº‹åŠ¡æ—¥å¿—å†…æŒ‘é€‰å‡ºæ•°å€¼æœ€å¤§çš„äº‹åŠ¡ç¼–å·ZXIDï¼Œå¯¹å…¶ä¸­çš„epochå€¼ä½œåŠ 1æ“ä½œï¼Œä»¥æ­¤ä½œä¸ºæ–°Leaderçš„å‘¨æœŸç¼–å·ï¼Œå¹¶å°†ä½32ä½ç½®0ï¼Œä»è€Œå½¢æˆæ–°çš„ZXID åŸå­å¹¿æ’­ZAB (ZooKeeper Atomic Broadcast) æ¢å¤æ¨¡å¼ï¼š ç³»ç»Ÿå¯åŠ¨æˆ–Leaderå‘ç”Ÿæ•…éšœæ—¶ï¼ŒZABè¿›å…¥æ¢å¤æ¨¡å¼ ç«‹å³è¿›è¡Œä¸€æ¬¡Leaderé€‰ä¸¾ï¼Œé€‰å‡ºä¸€ä¸ªæ–°çš„Leader è®©é›†ç¾¤ä¸­è‡³å°‘æœ‰è¶…è¿‡åŠæ•°çš„Followerä¸Leaderå…·æœ‰ç›¸åŒçš„ç³»ç»ŸçŠ¶æ€ï¼Œå³å®ç°æ•°æ®åŒæ­¥ ZABé€€å‡ºæ¢å¤æ¨¡å¼ï¼Œè¿›å…¥å¹¿æ’­æ¨¡å¼ å¹¿æ’­æ¨¡å¼ï¼ˆå†™æµç¨‹ï¼‰ï¼š Leaderæ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„äº‹åŠ¡æ“ä½œè¯·æ±‚æ—¶ï¼ŒLeaderé€šè¿‡ZABçš„å¹¿æ’­æ¨¡å¼å‘é›†ç¾¤å†…çš„æ‰€æœ‰Followerè¿›è¡Œæ¶ˆæ¯å¹¿æ’­ï¼Œå³å‘é€äº‹åŠ¡æ“ä½œè¯·æ±‚æ¶ˆæ¯ å„ä¸ªFolloweræ”¶åˆ°Leaderå¹¿æ’­ï¼ˆå‘é€ï¼‰çš„äº‹åŠ¡æ“ä½œè¯·æ±‚åï¼ŒæŠŠå°†è¦ä½œçš„äº‹åŠ¡æ“ä½œåŠå…¶ZXIDè®°å…¥å„è‡ªçš„äº‹åŠ¡æ—¥å¿—ï¼Œç„¶åå‘Leaderå›å¤ackï¼ˆç¡®è®¤ï¼‰æ¶ˆæ¯ è‹¥Leaderæ”¶ä¸åˆ°è¶…è¿‡åŠæ•°çš„Followerå›å¤çš„ackæ¶ˆæ¯ï¼Œåˆ™å–æ¶ˆæœ¬æ¬¡æ›´æ–°æ“ä½œ è‹¥Leaderæ”¶åˆ°è¶…è¿‡åŠæ•°çš„Followerå›å¤çš„ackï¼ˆç¡®è®¤ï¼‰æ¶ˆæ¯ï¼Œåˆ™å‘Followerä»¬è¿›è¡Œæ¶ˆæ¯å¹¿æ’­â€”å‘å®ƒä»¬å‘é€commitï¼ˆè®¸å¯ï¼‰æ¶ˆæ¯ Followeræ”¶åˆ°Leaderçš„commitæ¶ˆæ¯ï¼Œå°±çœŸæ­£æ‰§è¡Œæœ¬æ¬¡æ›´æ–°æ“ä½œï¼Œå³æ›´æ–°å†…å­˜æˆ–Znodeå†…çš„æ•°æ® æ•´ä¸ªZABçš„å¹¿æ’­æ¨¡å¼æ‰§è¡Œè¿‡ç¨‹æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œä¸èƒ½è¢«æ‰“æ–­ï¼Œå…¶ç»“æœåªæœ‰æˆåŠŸæˆ–å¤±è´¥ï¼Œä¸å­˜åœ¨ä¸­é—´çŠ¶æ€ Zookeeperçš„é€‰ä¸¾æœºåˆ¶ é€‰ä¸¾çš„åŸºæœ¬åŸåˆ™ é€‰ä¸¾å¼€å§‹æ—¶ï¼ŒZooKeeperé›†ç¾¤å†…å„å°æœåŠ¡å™¨ä¸Šçš„æ•°æ®ä¸ä¸€å®šä¼šå®Œå…¨ä¸€è‡´ï¼Œåœ¨é€‰å‡ºLeaderä¹‹åï¼Œå°±è¦ä»¥è¯¥Leaderä¸ºåŸºå‡†æ¥åŒæ­¥å…¶ä»–æœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼› åº”è¯¥æŠŠé›†ç¾¤å†…æ‹¥æœ‰æœ€æ–°æ•°æ®çš„æœåŠ¡å™¨é€‰ä¸ºLeaderï¼Œæ•…å¿…é¡»æŒ‘é€‰å…¶äº‹åŠ¡æ—¥å¿—ä¸­å…·æœ‰æœ€å¤§ZXIDçš„é‚£å°æœåŠ¡å™¨ä½œä¸ºLeaderï¼Œå› ä¸ºè¯¥æœåŠ¡å™¨è¿›è¡Œäº†æœ€æ–°çš„äº‹åŠ¡æ“ä½œï¼Œæ•…å…¶æ‹¥æœ‰çš„æ•°æ®æ˜¯æœ€æ–°çš„ï¼Œä»¥å…¶ä½œä¸ºåŸºå‡†æ¥æ¢å¤å’ŒåŒæ­¥æ•°æ®ï¼Œåˆ™å¯ä»¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ï¼› è‹¥å…·æœ‰æœ€å¤§ZXIDçš„æœåŠ¡å™¨ä¸æ­¢ä¸€ä¸ªï¼Œåˆ™é€‰å…¶ä¸­myidæœ€å¤§è€…ä¸ºLeader é€‰ä¸¾æµç¨‹ é›†ç¾¤å†…å„æœåŠ¡å™¨å‡è¿›å…¥LOOKINGçŠ¶æ€ï¼Œè¿›è¡Œä¸€è½®é€‰ä¸¾æŠ•ç¥¨ï¼Œå³å„æœåŠ¡å™¨å‡å‘å…¶ä»–æœåŠ¡å™¨å‘é€æŠ•ç¥¨æ¶ˆæ¯ï¼Œæ¶ˆæ¯çš„å†…å®¹ä¸ºè‡ªèº«çš„myidå’Œè‡ªèº«æœ€å¤§çš„ZXIDï¼Œä¹Ÿå°±æ˜¯æŠŠè‡ªèº«å®šä¸ºå€™é€‰Leaderï¼ˆäº‰ä½œLeaderï¼‰ å„æœåŠ¡å™¨æ¥æ”¶æŠ•ç¥¨æ¶ˆæ¯ï¼ˆåŒ…æ‹¬è‡ªå·±çš„ç¥¨ï¼‰ï¼Œä»ä¸­æŒ‘é€‰å‡ºå…·æœ‰æœ€å¤§ZXIDçš„æœåŠ¡å™¨ä½œä¸ºå€™é€‰Leader ï¼Œè‹¥è¿™æ ·çš„æœåŠ¡å™¨æœ‰å¤šä¸ªï¼Œåˆ™æŒ‘é€‰å…¶ä¸­myidæœ€å¤§è€… å„æœåŠ¡å™¨ç»Ÿè®¡æœ¬è½®æŠ•ç¥¨ä¸­å€™é€‰Leaderçš„å¾—ç¥¨æ•° è‹¥æœªè¿‡åŠæ•°ï¼Œåˆ™æŠŠå‰ä¸€æ­¥æŒ‘é€‰å‡ºçš„å€™é€‰Leaderçš„myidå’ŒZXIDè®°å…¥æŠ•ç¥¨æ¶ˆæ¯ï¼Œè¿›è¡Œä¸‹ä¸€è½®æŠ•ç¥¨ å¦‚æœå€™é€‰Leaderå¾—ç¥¨æ•°è¿‡åŠï¼Œåˆ™åˆ¤åˆ«å€™é€‰Leaderæ˜¯å¦æ˜¯è‡ªèº«ï¼Œè‹¥æ˜¯ï¼Œåˆ™è¯¥æœåŠ¡å™¨è¿›å…¥LEADINGçŠ¶æ€ï¼Œå¦åˆ™è¯¥æœåŠ¡å™¨è¿›å…¥FOLLOWINGçŠ¶æ€ ### Zookeeperçš„æ“ä½œ Shellæ“ä½œ 1234567891011121314151617181920212223242526# æŸ¥çœ‹èŠ‚ç‚¹ls /# æŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯ls -s /# åˆ›å»ºæ°¸ä¹…èŠ‚ç‚¹create /node1 &quot;data1&quot;# åˆ›å»ºæ°¸ä¹…é¡ºåºèŠ‚ç‚¹create -s /node2 &quot;data2&quot;# åˆ›å»ºä¸´æ—¶èŠ‚ç‚¹create -e /node3 &quot;data3&quot;# åˆ›å»ºä¸´æ—¶é¡ºåºèŠ‚ç‚¹create -s -e /node4 &quot;data4&quot;# æŸ¥çœ‹èŠ‚ç‚¹æ•°æ®get -s /node1# æŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯stat /node1# ä¿®æ”¹èŠ‚ç‚¹æ•°æ®set /node1 &quot;data1-1&quot;# åˆ é™¤èŠ‚ç‚¹delete /node1# åˆ é™¤èŠ‚ç‚¹å¹¶é€’å½’åˆ é™¤å­èŠ‚ç‚¹deleteall /node1 APIæ“ä½œ 1234567891011121314151617181920212223// åˆ›å»ºç›‘è§†ç‚¹// 1. åˆ›å»ºé…ç½®å¯¹è±¡private String connectString = &quot;hadoop102:2181,hadoop103:2181,hadoop104:2181&quot;;private int sessionTimeout = 2000;private ZooKeeper zkClient;// 2. åˆ›å»ºzookeeperçš„è¿æ¥zkClient = new ZooKeeper(connectString, sessionTimeout, new Watcher() &#123; @Override public void process(WatchedEvent watchedEvent) &#123; System.out.println(&quot;é»˜è®¤å›è°ƒå‡½æ•°&quot;); &#125;&#125;);// 3. ä½¿ç”¨è‡ªå®šä¹‰çš„ç›‘è§†zk.exists(&quot;/path/to/znode&quot;, new Watcher() &#123; @Override public void process(WatchedEvent event) &#123; // å¤„ç†ç›‘è§†äº‹ä»¶çš„é€»è¾‘ &#125;&#125;);// 4. ä½¿ç”¨é»˜è®¤çš„ç›‘è§†zk.exists(&quot;/path/to/znode&quot;, true); åˆ†å¸ƒå¼æ•°æ®åº“HBase ç®€ä»‹ HBaseæ˜¯ä¸€ç§ä»¥HDFSä¸ºä¾æ®çš„åˆ†å¸ƒå¼å¯æ‰©å±•NoSQLåˆ—æ—æ•°æ®åº“ NoSQLç†è®ºåŸºç¡€: CAPç†è®ºä¸BASEç†è®º ä¼ ç»Ÿå…³ç³»æ•°æ®åº“æŠ€æœ¯çš„æ ¸å¿ƒç‰¹å¾ï¼šäº‹åŠ¡æ“ä½œå¿…é¡»éµå¾ªACIDï¼ˆåŸå­æ€§Atomicityã€ä¸€è‡´æ€§Consistancyã€éš”ç¦»æ€§Isolationã€æŒä¹…æ€§Durabilityï¼‰åŸåˆ™ï¼Œå…·æœ‰å¼ºäº‹åŠ¡ã€å¼ºä¸€è‡´æ€§ã€‚ NoSQLæ•°æ®åº“çš„ç‰¹ç‚¹ï¼šNoSQLæ–¹æ¡ˆå¼±åŒ–äº‹åŠ¡å¤„ç†çš„ACIDç‰¹æ€§ï¼Œä¸€èˆ¬ä¸æŒæ”¯ä¼ ç»Ÿæ•°æ®åº“çš„SQLæŸ¥è¯¢è¯­è¨€ CAPç†è®ºï¼šåœ¨è®¾è®¡å’Œéƒ¨ç½²åˆ†å¸ƒå¼åº”ç”¨æ—¶ï¼Œå­˜åœ¨ä¸‰ä¸ªæ ¸å¿ƒçš„ç³»ç»Ÿéœ€æ±‚ï¼š Cï¼šConsistencyï¼ˆä¸€è‡´æ€§ï¼‰â€”åœ¨å¯¹æ•°æ®è¿›è¡Œæ›´æ–°å’Œåˆ é™¤æ“ä½œåï¼Œç”¨æˆ·éƒ½èƒ½çœ‹åˆ°ç›¸åŒçš„æ•°æ®è§†å›¾ã€‚ Aï¼šAvailabilityï¼ˆå¯ç”¨æ€§ï¼‰â€”å¯ç”¨æ€§ä¸»è¦æ˜¯æŒ‡ç³»ç»Ÿèƒ½å¤Ÿå¾ˆå¥½åœ°ä¸ºç”¨æˆ·æœåŠ¡ï¼Œä¸å‡ºç°ç”¨æˆ·æ“ä½œå¤±è´¥æˆ–è€…è®¿é—®è¶…æ—¶ç­‰ç”¨æˆ·ä½“éªŒä¸ä½³çš„æƒ…å†µï¼ˆæ¯”å¦‚ç”±å¼ºä¸€è‡´æ€§å¸¦æ¥çš„å‰¯ä½œç”¨ï¼‰ã€‚ Pï¼šPartition Toleranceï¼ˆåˆ†åŒºå®¹é”™æ€§ï¼‰â€”åˆ†åŒºå®¹é”™æ€§å’Œå¯æ‰©å±•æ€§æ˜¯ç´§å¯†ç›¸å…³çš„ï¼Œå¥½çš„åˆ†åŒºå®¹é”™æ€§è¦æ±‚ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå°±åƒæ˜¯ä¸€ä¸ªè¿è½¬æ­£å¸¸çš„æ•´ä½“ï¼Œå½“ç³»ç»Ÿä¸­æœ‰éƒ¨åˆ†ç½‘ç»œæˆ–èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œä»ç„¶èƒ½å¤Ÿä¾é ç³»ç»Ÿä¸­å…¶ä½™å®Œå¥½çš„éƒ¨åˆ†æ¥ä¿è¯ç³»ç»Ÿæ­£å¸¸è¿ä½œã€‚ CAPç†è®ºçš„æ ¸å¿ƒï¼šä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶å¾ˆå¥½åœ°æ»¡è¶³ä¸€è‡´æ€§Cï¼Œå¯ç”¨æ€§Aã€åˆ†åŒºå®¹é”™æ€§Pè¿™ä¸‰ä¸ªéœ€æ±‚ï¼Œæœ€å¤šåªèƒ½åŒæ—¶è¾ƒå¥½åœ°æ»¡è¶³å…¶ä¸­çš„ä¸¤ä¸ªéœ€æ±‚ã€‚ OldSQLä¸ºäº†ä¸é™ä½å¯ç”¨æ€§ï¼Œé€šå¸¸å¯¹æ•°æ®é‡‡ç”¨ä¸åˆ†æ•£å­˜å‚¨çš„ç­–ç•¥ï¼Œä½¿å¯æ‰©å±•æ€§ï¼ˆå³åˆ†åŒºå®¹é”™æ€§Pï¼‰å—åˆ°é™åˆ¶ï¼Œå¯çœ‹ä½œä¿è¯Cã€Aï¼Œæ”¾å¼ƒPï¼› NoSQLä¸ºäº†è·å¾—å¯æ‰©å±•æ€§ï¼Œåˆä¸é™ä½å¯ç”¨æ€§ï¼Œåœ¨è®¾è®¡ä¸­å°±ä¼šå¼±åŒ–ç”šè‡³å»é™¤äº‹åŠ¡çš„ACIDè¦æ±‚ï¼Œå¯çœ‹ä½œä¿è¯Aã€Pï¼Œæ”¾å¼ƒCã€‚ BASE (BA,S,E) ç†è®ºï¼šç‰ºç‰²å¼ºä¸€è‡´æ€§ï¼Œè·å¾—å¯ç”¨æ€§æˆ–å¯é æ€§ï¼Œè¡¨ç°ä¸ºä»¥ä¸‹ä¸‰ç‚¹ï¼š BAï¼šBasically Availabilityï¼ˆåŸºæœ¬å¯ç”¨ï¼‰ Sï¼šSoft Stateï¼ˆè½¯çŠ¶æ€ï¼‰â€”å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œè€Œè¿™ä¸ªä¸­é—´çŠ¶æ€ä¸ä¼šå½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§ã€‚ç¡¬çŠ¶æ€â€æ˜¯æŒ‡ä¸¥æ ¼éµå¾ªACIDåŸåˆ™çš„äº‹åŠ¡åŠŸèƒ½ï¼› E: Eventually Consistencyï¼ˆæœ€ç»ˆä¸€è‡´æ€§ï¼‰â€”ç³»ç»Ÿä¸­çš„æ•°æ®ç»è¿‡ä¸€æ®µæ—¶é—´åï¼Œæœ€ç»ˆä¼šè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚ HBaseé€»è¾‘ç»“æ„ HBaseçš„é€»è¾‘ç»“æ„å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªäºŒç»´çš„è¡¨æ ¼ç»“æ„,è¡Œä»£è¡¨RowKey(å”¯ä¸€,æŒ‰RowKeyæ’åº),åˆ—ä»£è¡¨åˆ—æ—,å…¶ä¸­åˆ—æ—ä¸‹é¢å¯ä»¥æœ‰å¤šä¸ªåˆ—é™å®šç¬¦,æ¯ä¸ªåˆ—é™å®šç¬¦ä¸‹é¢å­˜å‚¨ä¸€ä¸ªå€¼,è¿™ä¸ªå€¼å¯ä»¥æ˜¯å¤šä¸ªç‰ˆæœ¬çš„,æ¯ä¸ªç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ªæ—¶é—´æˆ³,æ—¶é—´æˆ³æ˜¯ä¸€ä¸ª64ä½çš„æ•´æ•°,ä»£è¡¨äº†è¿™ä¸ªç‰ˆæœ¬çš„æ—¶é—´,æ—¶é—´æˆ³è¶Šå¤§,ç‰ˆæœ¬è¶Šæ–° HBaseç‰©ç†ç»“æ„ HBaseçš„ç‰©ç†ç»“æ„æ˜¯åŸºäºHDFSçš„,æ¯ä¸ªè¡¨éƒ½ä¼šæœ‰ä¸€ä¸ªå¯¹åº”çš„ç›®å½•,ç›®å½•ä¸‹é¢æœ‰ä¸¤ä¸ªå­ç›®å½•,åˆ†åˆ«æ˜¯dataå’Œwal,å…¶ä¸­dataç›®å½•å­˜å‚¨äº†HFileæ–‡ä»¶,è€Œwalç›®å½•å­˜å‚¨äº†WALæ–‡ä»¶(Write-Ahead-Log,é¢„å†™æ—¥å¿—). HBaseçš„RegionServerå’ŒHMasterä¸è´Ÿè´£å­˜å‚¨æ•°æ®,åªè´Ÿè´£ç®¡ç†æ•°æ®,è€Œå®é™…çš„æ•°æ®å­˜å‚¨åœ¨HDFSä¸Š HBaseæ•°æ®æ¨¡å‹ Namespace: å‘½åç©ºé—´,ç±»ä¼¼äºå…³ç³»æ•°æ®åº“ä¸­çš„databaseæ¦‚å¿µ.å‘½åç©ºé—´ä¸‹å¯ä»¥æœ‰å¤šä¸ªè¡¨,HBaseè‡ªå¸¦ä¸¤ä¸ªå‘½åç©ºé—´,åˆ†åˆ«æ˜¯defaultå’Œhbase,hbaseä¸­å­˜æ”¾çš„æ˜¯HBaseå†…ç½®çš„è¡¨,å…¶ä¸­metaè¡¨å­˜æ”¾äº†æ‰€æœ‰è¡¨çš„å…ƒæ•°æ®ä¿¡æ¯ Table: è¡¨,ç±»ä¼¼äºå…³ç³»æ•°æ®åº“ä¸­çš„tableæ¦‚å¿µ,è¡¨ä¸­å­˜æ”¾çš„æ˜¯å¤šè¡Œæ•°æ®,æ¯è¡Œæ•°æ®éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„RowKey,è¡¨ä¸­çš„æ•°æ®æ˜¯æŒ‰ç…§RowKeyè¿›è¡Œæ’åºçš„ Row: HBaseè¡¨ä¸­çš„æ¯è¡Œæ•°æ®éƒ½ç”±ä¸€ä¸ªRowKeyå’Œå¤šä¸ªColumnï¼ˆåˆ—ï¼‰ç»„æˆï¼Œæ•°æ®æ˜¯æŒ‰ç…§RowKeyçš„å­—å…¸é¡ºåºå­˜å‚¨çš„ï¼Œå¹¶ä¸”æŸ¥è¯¢æ•°æ®æ—¶åªèƒ½æ ¹æ®RowKeyè¿›è¡Œæ£€ç´¢ï¼Œæ‰€ä»¥RowKeyçš„è®¾è®¡ååˆ†é‡è¦ Cell: ç”±{rowkey, columnFamilyï¼šcolumnQualifier, timestamp} å”¯ä¸€ç¡®å®šçš„å•å…ƒã€‚Cellä¸ºç©ºæ—¶,ä¸ä¼šå­˜å‚¨åœ¨HBaseä¸­. åŸºæœ¬æ¶æ„ MasteræœåŠ¡å™¨è´Ÿè´£ç®¡ç†æ‰€æœ‰RegionæœåŠ¡å™¨å’Œæ•°æ®è¡¨(hbase:meta) å…¶æœ¬èº«ä¸å­˜å‚¨HBaseä¸­çš„æ•°æ®ï¼› æ¥æ”¶ç”¨æˆ·å¯¹è¡¨æ ¼åˆ›å»ºä¿®æ”¹åˆ é™¤çš„å‘½ä»¤å¹¶æ‰§è¡Œ ç›‘æ§regionæ˜¯å¦éœ€è¦è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œæ•…éšœè½¬ç§»å’Œregionçš„æ‹†åˆ† RegionæœåŠ¡å™¨æ˜¯HBaseä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼š RegionæœåŠ¡å™¨æ˜¯HBaseçš„è¯»å†™èŠ‚ç‚¹ï¼Œå®ƒä¸ºç”¨æˆ·æä¾›å¯¹æ•°æ®è¡¨æ•°æ®çš„è¯»å†™æœåŠ¡ ä¸€å¼ æ•°æ®è¡¨è¢«åˆ’åˆ†æˆ(æ¨ªå‘åˆ’åˆ†)å¤šä¸ªHRegionï¼Œè¿™äº›HRegionè¢«åˆ†å¸ƒåˆ°RegionæœåŠ¡å™¨é›†ç¾¤å†…è¿›è¡Œç®¡ç† HRegionæ˜¯ä¸€ä¸ªHBaseè¡¨æ¨ªå‘åˆ‡å‰²çš„ç»“æœ: åœ¨HRegionä¸­,æ¯ä¸ªåˆ—æ—åˆè¢«åˆ†ä¸ºä¸€ä¸ªStore.æ¯ä¸ªStoreä¸­å­˜å‚¨äº†ä¸€ä¸ªåˆ—æ—çš„æ•°æ®,ä¸åŒ…å«ç©ºå…ƒç´  Storeä¸­åŒ…å«ä¸€ä¸ªMemStore,ä¸€ä¸ªBlock Cacheå’Œå¤šä¸ªHFile,MemStoreè´Ÿè´£ç¼“å­˜å†™å…¥çš„æ•°æ®(æœ‰åº,æ¯æ¬¡flushéƒ½å›å½¢æˆä¸€ä¸ªHFile),Block Cacheè´Ÿè´£ç¼“å­˜è¯»å–çš„æ•°æ®,HFileæ˜¯HBaseä¸­çš„æ•°æ®å­˜å‚¨æ–‡ä»¶ Zookeeperç›‘è§†RegionæœåŠ¡å™¨å’ŒMasteræœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€ å„ä¸ªRegionæœåŠ¡å™¨ä¼šåœ¨ZooKeeperçš„ZèŠ‚ç‚¹/serverä¸Šå»ºç«‹ä¸´æ—¶æ€§é¡ºåºèŠ‚ç‚¹ï¼ŒMasteræœåŠ¡å™¨åœ¨/serverä¸Šè®¾ç½®Watcherï¼Œå¯ä»¥éšæ—¶æ„ŸçŸ¥åˆ°å„ä¸ªRegionæœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€ï¼› å½“å‰çš„Active MasteræœåŠ¡å™¨åœ¨ZooKeeperä¸Šå»ºç«‹ä¸´æ—¶æ€§ZèŠ‚ç‚¹/Masterï¼Œå„ä¸ªRegionæœåŠ¡å™¨å’ŒMasteré›†ç¾¤å†…çš„å…¶å®ƒæœåŠ¡å™¨å‡åœ¨/Masterä¸Šè®¾ç½®Watcherï¼Œå®ƒä»¬å¯ä»¥éšæ—¶æ„ŸçŸ¥åˆ°å½“å‰çš„Active MasteræœåŠ¡å™¨çš„å·¥ä½œï¼ˆè¿è¡Œï¼‰çŠ¶æ€ï¼› HBaseæ“ä½œ Shellæ“ä½œ åŸºæœ¬æ“ä½œ 1234# åˆ›å»ºå‘½åç©ºé—´create_namespace &#x27;ns1&#x27;# æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´list_namespace DDLæ“ä½œ 12345678910111213141516171819# åˆ›å»ºè¡¨# åœ¨ns1å‘½åç©ºé—´ä¸‹åˆ›å»ºè¡¨table1,åˆ—æ—ä¸ºcf1,cf2create &#x27;ns1:table1&#x27;, &#x27;cf1&#x27;, &#x27;cf2&#x27;# åœ¨ns1å‘½åç©ºé—´ä¸‹åˆ›å»ºè¡¨table1,åˆ—æ—ä¸ºcf1,cf2,å¹¶æŒ‡å®šç‰ˆæœ¬æ•°create &#x27;ns1:table1&#x27;, &#123;NAME =&gt; &#x27;cf1&#x27;, VERSIONS =&gt; 3&#125;, &#123;NAME =&gt; &#x27;cf2&#x27;, VERSIONS =&gt; 5&#125;# æŸ¥çœ‹è¡¨list# æŸ¥çœ‹è¡¨è¯¦æƒ…describe &#x27;ns1:table1&#x27;# åˆ é™¤è¡¨disable &#x27;ns1:table1&#x27;drop &#x27;ns1:table1&#x27;# ä¿®æ”¹è¡¨# ä¿®æ”¹è¡¨çš„åˆ—æ—çš„ç‰ˆæœ¬æ•°alter &#x27;ns1:table1&#x27;, &#123;NAME =&gt; &#x27;cf1&#x27;, VERSIONS =&gt; 5&#125;# åˆ é™¤è¡¨çš„åˆ—æ—alter &#x27;ns1:table1&#x27;, &#x27;delete&#x27; =&gt; &#x27;cf1&#x27;alter &#x27;ns1:table1&#x27;, &#123;NAME =&gt; &#x27;cf1&#x27;, METHOD =&gt; &#x27;delete&#x27;&#125; DMLæ“ä½œ 12345678910111213141516171819202122232425262728# æ’å…¥æ•°æ®# å¦‚æœé‡å¤å†™å…¥ç›¸åŒrowKeyï¼Œç›¸åŒåˆ—çš„æ•°æ®ï¼Œä¼šå†™å…¥å¤šä¸ªç‰ˆæœ¬è¿›è¡Œè¦†ç›–ã€‚# å‘ns1:table1è¡¨ä¸­æ’å…¥ä¸€è¡Œæ•°æ®,è¡Œé”®ä¸ºrow1,åˆ—æ—ä¸ºcf1,åˆ—é™å®šç¬¦ä¸ºcol1,å€¼ä¸ºvalue1put &#x27;ns1:table1&#x27;, &#x27;row1&#x27;, &#x27;cf1:col1&#x27;, &#x27;value1&#x27;# è¯»å–æ•°æ®get# è¯»å–ns1:table1è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®,è¡Œé”®ä¸ºrow1get &#x27;ns1:table1&#x27;, &#x27;row1&#x27;# è¯»å–ns1:table1è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®,è¡Œé”®ä¸ºrow1,åˆ—æ—ä¸ºcf1get &#x27;ns1:table1&#x27;, &#x27;row1&#x27;, &#123;COLUMN =&gt; &#x27;cf1&#x27;&#125;# è¯»å–æ•°æ®scan# è¯»å–ns1:table1è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®scan &#x27;ns1:table1&#x27;# è¯»å–ns1:table1è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®,å¹¶æŒ‡å®šåˆ—æ—scan &#x27;ns1:table1&#x27;, &#123;COLUMN =&gt; &#x27;cf1&#x27;&#125;# è¯»å–ns1:table1è¡¨ä¸­çš„æ‰€æœ‰æ•°æ®,ä»row1å¼€å§‹,åˆ°row2ç»“æŸscan &#x27;ns1:table1&#x27;, &#123;STARTROW =&gt; &#x27;row1&#x27;, ENDROW =&gt; &#x27;row2&#x27;&#125;# åˆ é™¤æ•°æ®# åˆ é™¤ns1:table1è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®,è¡Œé”®ä¸ºrow1delete &#x27;ns1:table1&#x27;, &#x27;row1&#x27;# åˆ é™¤ns1:table1è¡¨ä¸­çš„ä¸€è¡Œæ•°æ®,è¡Œé”®ä¸ºrow1,åˆ—ä¸ºcf1ä¸­çš„namedelete &#x27;ns1:table1&#x27;, &#x27;row1&#x27;, &#x27;cf1ï¼šname&#x27;# åˆ é™¤æ•°æ®çš„æ‰€æœ‰ç‰ˆæœ¬deleteall &#x27;ns1:table1&#x27;, &#x27;row1&#x27;, &#x27;cf1ï¼šname&#x27;# æ‰§è¡Œå‘½ä»¤ä¼šæ ‡è®°æ•°æ®ä¸ºè¦åˆ é™¤ï¼Œä¸ä¼šç›´æ¥å°†æ•°æ®å½»åº•åˆ é™¤ï¼Œåˆ é™¤æ•°æ®åªåœ¨ç‰¹å®šæ—¶æœŸæ¸…ç†ç£ç›˜æ—¶è¿›è¡Œ APIæ“ä½œ HBaseçš„å®¢æˆ·ç«¯è¿æ¥ç”±ConnectionFactoryç±»æ¥åˆ›å»ºï¼Œç”¨æˆ·ä½¿ç”¨å®Œæˆä¹‹åéœ€è¦æ‰‹åŠ¨å…³é—­è¿æ¥ã€‚åŒæ—¶è¿æ¥æ˜¯ä¸€ä¸ªé‡é‡çº§çš„ï¼Œæ¨èä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ä¸€ä¸ªè¿æ¥ï¼Œå¯¹HBaseçš„å‘½ä»¤é€šè¿‡è¿æ¥ä¸­çš„ä¸¤ä¸ªå±æ€§Admin(DDL)å’ŒTable(DML)æ¥å®ç°ã€‚ 123456789101112131415// åˆ›å»ºè¿æ¥//1. åˆ›å»ºé…ç½®å¯¹è±¡Configuration conf = new Configuration();// 2. æ·»åŠ é…ç½®å‚æ•°conf.set(&quot;hbase.zookeeper.quorum&quot;,&quot;hadoop102,hadoop103,hadoop104&quot;);// 3. åˆ›å»ºhbaseçš„è¿æ¥// é»˜è®¤ä½¿ç”¨åŒæ­¥è¿æ¥Connection connection = ConnectionFactory.createConnection(conf);// å¯ä»¥ä½¿ç”¨å¼‚æ­¥è¿æ¥// ä¸»è¦å½±å“åç»­çš„DMLæ“ä½œCompletableFuture&lt;AsyncConnection&gt; asyncConnection = ConnectionFactory.createAsyncConnection(conf);// 4. ä½¿ç”¨è¿æ¥System.out.println(connection);// 5. å…³é—­è¿æ¥connection.close(); HBaseåœ¨APIæ“ä½œæ—¶ä½¿ç”¨äº†è£…é¥°è€…ï¼ˆè®¾è®¡å¸ˆï¼‰æ¨¡å¼ã€‚å› ä¸ºshellå‘½ä»¤çš„å‚æ•°å¾ˆå¤šï¼Œæ‰€ä»¥åœ¨APIä¸­ä½¿ç”¨äº†è£…é¥°è€…æ¨¡å¼ï¼Œå°†å‚æ•°å°è£…æˆå¯¹è±¡ï¼Œç„¶åé€šè¿‡å¯¹è±¡çš„æ–¹æ³•æ¥å®ç°shellå‘½ä»¤çš„åŠŸèƒ½ã€‚ HBaseä¸€äº›åŸç† HBaseæ¶æ„ hbase:meta è¡¨ä¸­å­˜å‚¨äº† Hbase é›†ç¾¤ä¸­å…¨éƒ¨è¡¨çš„æ‰€æœ‰çš„Hregion ä¿¡æ¯,åœ¨listå‘½ä»¤ä¸­è¢«è¿‡æ»¤æ‰äº† StoreFileä¿å­˜å®é™…æ•°æ®çš„ç‰©ç†æ–‡ä»¶ï¼ŒStoreFileä»¥HFileçš„å½¢å¼å­˜å‚¨åœ¨HDFSä¸Šã€‚æ¯ä¸ªStoreä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªStoreFileï¼ˆHFileï¼‰ï¼Œæ•°æ®åœ¨æ¯ä¸ªStoreFileä¸­éƒ½æ˜¯æœ‰åºçš„ã€‚ MemStoreå†™ç¼“å­˜ï¼Œç”±äºHFileä¸­çš„æ•°æ®è¦æ±‚æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥æ•°æ®æ˜¯å…ˆå­˜å‚¨åœ¨MemStoreä¸­ï¼Œæ’å¥½åºåï¼Œç­‰åˆ°è¾¾åˆ·å†™æ—¶æœºæ‰ä¼šåˆ·å†™åˆ°HFileï¼Œæ¯æ¬¡åˆ·å†™éƒ½ä¼šå½¢æˆä¸€ä¸ªæ–°çš„HFileã€‚ WALç”±äºæ•°æ®è¦ç»MemStoreæ’åºåæ‰èƒ½åˆ·å†™åˆ°HFileï¼Œä½†æŠŠæ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ä¼šæœ‰å¾ˆé«˜çš„æ¦‚ç‡å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ•°æ®ä¼šå…ˆå†™åœ¨ä¸€ä¸ªå«åšWrite-Ahead logfileçš„æ–‡ä»¶ä¸­ï¼Œç„¶åå†å†™å…¥MemStoreä¸­ã€‚æ‰€ä»¥åœ¨ç³»ç»Ÿå‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œæ•°æ®å¯ä»¥é€šè¿‡è¿™ä¸ªæ—¥å¿—æ–‡ä»¶é‡å»ºã€‚ Store HBaseçš„å†™æµç¨‹ Clientå…ˆè®¿é—®zookeeperï¼Œè·å–hbase:metaè¡¨ä½äºå“ªä¸ªRegionServerã€‚ è®¿é—®å¯¹åº”çš„Region Serverï¼Œè·å–hbase:metaè¡¨ï¼Œæ ¹æ®è¯»è¯·æ±‚çš„namespace:table/rowkeyï¼ŒæŸ¥è¯¢å‡ºç›®æ ‡æ•°æ®ä½äºå“ªä¸ªRegionServerä¸­çš„å“ªä¸ªRegionä¸­ã€‚å¹¶å°†è¯¥tableçš„regionä¿¡æ¯ä»¥åŠmetaè¡¨çš„ä½ç½®ä¿¡æ¯ç¼“å­˜åœ¨å®¢æˆ·ç«¯çš„meta cacheï¼Œæ–¹ä¾¿ä¸‹æ¬¡è®¿é—®ã€‚ ä¸ç›®æ ‡RegionServerè¿›è¡Œé€šè®¯ï¼› å°†æ•°æ®é¡ºåºå†™å…¥ï¼ˆè¿½åŠ ï¼‰åˆ°WAL(HLog)ï¼› å°†æ•°æ®å†™å…¥å¯¹åº”çš„MemStoreï¼Œæ•°æ®ä¼šåœ¨MemStoreè¿›è¡Œæ’åºï¼› å‘å®¢æˆ·ç«¯å‘é€ackï¼› ç­‰è¾¾åˆ°MemStoreçš„åˆ·å†™æ—¶æœºåï¼Œå°†æ•°æ®åˆ·å†™åˆ°HFileã€‚ åœ¨æ­¥éª¤4ï¼Œ5ï¼Œæºç çš„æ­¥éª¤æ˜¯å…ˆå†™å…¥HLogï¼Œåœ¨å†™å…¥MemStoreï¼Œç„¶åå†åŒæ­¥HLogã€‚å¦‚æœHLogå¦‚æœå†™å…¥å¤±è´¥ï¼Œå°±ä¼šäº‹åŠ¡å›æ»šã€‚ HBaseçš„è¯»æµç¨‹ è¯¯åŒºï¼šHBaseçš„è¯»æµç¨‹å¹¶ä¸æ˜¯åªè¯»BlockCacheçš„æ•°æ®ï¼Œè€ƒè™‘è¿™ç§æƒ…å†µ: ç¬¬ä¸€æ¬¡å†™æ•°æ®çš„æ—¶å€™æˆåŠŸå†™å…¥ï¼Œå¹¶flushç½—ç›˜äº† ç¬¬äºŒæ¬¡å†™æ•°æ®çš„æ—¶å€™å†™å…¥äº†MemStoreï¼Œä½†æ˜¯æ­¤æ—¶æŠŠtsè®¾ç½®ä¸ºäº†æ¯”ç¬¬ä¸€æ¬¡å†™çš„tså°ï¼Œä½†æ˜¯æ²¡æœ‰ç½—ç›˜ å¦‚æœåªè¯»BlockCacheï¼Œé‚£ä¹ˆç¬¬äºŒæ¬¡å†™çš„æ•°æ®å°±ä¼šè¢«è¯»åˆ°ï¼Œè¿™æ ·å°±ä¼šå‡ºç°æ•°æ®è¯»å–ä¸æ˜¯æœ€æ–°çš„æƒ…å†µã€‚ Clientå…ˆè®¿é—®zookeeperï¼Œè·å–hbase:metaè¡¨ä½äºå“ªä¸ªRegionServerã€‚ è®¿é—®å¯¹åº”çš„Region Serverï¼Œè·å–hbase:metaè¡¨ï¼Œæ ¹æ®è¯»è¯·æ±‚çš„namespace:table/rowkeyï¼ŒæŸ¥è¯¢å‡ºç›®æ ‡æ•°æ®ä½äºå“ªä¸ªRegionServerä¸­çš„å“ªä¸ªRegionä¸­ã€‚å¹¶å°†è¯¥tableçš„regionä¿¡æ¯ä»¥åŠmetaè¡¨çš„ä½ç½®ä¿¡æ¯ç¼“å­˜åœ¨å®¢æˆ·ç«¯çš„meta cacheï¼Œæ–¹ä¾¿ä¸‹æ¬¡è®¿é—®ã€‚ ä¸ç›®æ ‡RegionServerè¿›è¡Œé€šè®¯ï¼› åˆ†åˆ«åœ¨BlockCacheï¼ˆè¯»ç¼“å­˜ï¼‰ï¼ŒMemStoreå’ŒStoreFileï¼ˆHFileï¼‰ä¸­æŸ¥è¯¢ç›®æ ‡æ•°æ®ï¼Œå¹¶å°†æŸ¥åˆ°çš„æ‰€æœ‰æ•°æ®è¿›è¡Œåˆå¹¶ã€‚æ­¤å¤„æ‰€æœ‰æ•°æ®æ˜¯æŒ‡åŒä¸€æ¡æ•°æ®çš„ä¸åŒç‰ˆæœ¬ï¼ˆtimestampï¼‰æˆ–è€…ä¸åŒçš„ç±»å‹ï¼ˆPut/Deleteï¼‰ å°†ä»æ–‡ä»¶ä¸­æŸ¥è¯¢åˆ°çš„æ•°æ®å—ï¼ˆBlockï¼ŒHFileæ•°æ®å­˜å‚¨å•å…ƒï¼Œé»˜è®¤å¤§å°ä¸º64KBï¼‰ç¼“å­˜åˆ°BlockCacheã€‚ å°†åˆå¹¶åçš„æœ€ç»ˆç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚ HBaseçš„Flushæ“ä½œ Flushæ“ä½œçš„åŸºæœ¬å•ä½æ˜¯HRegionï¼Œå³å¯¹HRegionçš„æ‰€æœ‰MemStoreå‡è¿›è¡ŒFlushæ“ä½œï¼Œå¹¶å„è‡ªå½¢æˆå•ç‹¬çš„StoreFile MemStoreä¸­çš„æ•°æ®è¾¾åˆ°é˜ˆå€¼ï¼ˆ128Mï¼‰åï¼Œå…¶æ‰€åœ¨regionçš„æ‰€æœ‰memstoreéƒ½ä¼šåˆ·å†™ã€‚ åˆ°è¾¾è‡ªåŠ¨åˆ·å†™çš„æ—¶é—´ï¼ˆé»˜è®¤1å°æ—¶ï¼‰ï¼Œæœ€åä¸€æ¬¡åˆ·å†™çš„æ—¶é—´åˆ°å½“å‰æ—¶é—´é—´éš”è¶…è¿‡äº†è‡ªåŠ¨åˆ·å†™çš„æ—¶é—´é—´éš”ã€‚ HRegionçš„æ‰€æœ‰MemStoreä¸­çš„æ•°æ®æ€»é‡åˆ°è¾¾é˜ˆå€¼ï¼ˆJVM heapçš„40%ï¼‰åï¼Œä¹Ÿä¼šè§¦å‘Flushæ“ä½œã€‚ å½“é˜ˆå€¼åˆ°ä½ä½çº¿ï¼ˆæ€»é˜ˆå€¼çš„95%ï¼ŒJVM heapçš„38%ï¼‰æ—¶ï¼Œregionä¼šæŒ‰ç…§å…¶æ‰€æœ‰memstoreçš„å¤§å°é¡ºåºï¼ˆç”±å¤§åˆ°å°ï¼‰ä¾æ¬¡è¿›è¡Œåˆ·å†™ã€‚ç›´åˆ°region serverä¸­æ‰€æœ‰memstoreçš„æ€»å¤§å°å‡å°åˆ°ä¸Šè¿°å€¼ä»¥ä¸‹ã€‚ å½“é˜ˆå€¼åˆ°é«˜ä½çº¿æ—¶ï¼Œregionä¼šåŒæ—¶é˜»æ­¢ç»§ç»­å¾€æ‰€æœ‰çš„memstoreå†™æ•°æ®ã€‚ HBaseçš„Compactionæ“ä½œ Compactionåˆå¹¶çš„åŸå› ï¼š StoreFileæ˜¯åªè¯»æ–‡ä»¶ï¼Œå…¶å†…å®¹ä¸èƒ½è¢«æ›´æ–°ï¼ˆå¢åŠ ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰ï¼Œä»¥æ­¤æå‡è¡¨æ•°æ®çš„å®‰å…¨æ€§ å¦‚æœè¦æ›´æ–°StoreFileå†…çš„è¡¨æ•°æ®ï¼Œåˆ™å¿…é¡»ä»¥æ–°å¢StoreFileçš„å½¢å¼è¿›è¡Œï¼ŒæŠŠæ¬²æ›´æ–°çš„æ•°æ®ï¼ˆåŒ…å«å±æ€§æˆ–ç‰ˆæœ¬å·ï¼‰å†™å…¥æ–°å¢çš„StoreFileä¸­ ï¼ˆHBaseä¸åœçš„åˆ·å†™ï¼Œå¯¼è‡´å­˜å‚¨ç›®å½•ä¸­æœ‰è¿‡å¤šçš„æ•°æ®æ–‡ä»¶ï¼Œæ–‡ä»¶å¤ªå¤šä¼šå¯¼è‡´ç»´æŠ¤å›°éš¾ã€é™ä½æ•°æ®æŸ¥è¯¢æ€§èƒ½å’Œæ•ˆç‡ã€‚å¯¹ä¸€å †çš„æ–‡ä»¶è¿›è¡ŒI/Oæ“ä½œï¼Œè€—æ—¶å¤ªå¤šã€‚æ‰€ä»¥HBaseå®šæœŸä¼šå¯¹è¿™äº›çç¢çš„æ–‡ä»¶è¿›è¡Œæ•´ç†ï¼Œå³åˆå¹¶Compactionã€‚ï¼‰ Compactionåˆå¹¶çš„æ­¥éª¤ï¼š åˆ†ä¸ºä¸‰æ­¥ï¼šæ’åºæ–‡ä»¶ã€åˆå¹¶æ–‡ä»¶ã€ä»£æ›¿åŸæ–‡ä»¶æœåŠ¡ã€‚ HBaseé¦–å…ˆä»å¾…åˆå¹¶çš„æ–‡ä»¶ä¸­è¯»å‡ºHFileä¸­çš„key-value,å†æŒ‰ç…§ç”±å°åˆ°å¤§çš„é¡ºåºå†™å…¥ä¸€ä¸ªæ–°æ–‡ä»¶(storeFile)ä¸­ã€‚è¿™ä¸ªæ–°æ–‡ä»¶å°†ä»£æ›¿æ‰€æœ‰ä¹‹å‰çš„æ–‡ä»¶ï¼Œå¯¹å¤–æä¾›æœåŠ¡ã€‚ Compactionæ“ä½œåˆ†ä¸ºä¸¤ç§ï¼š Minor Compactionï¼šåªåˆå¹¶ç›¸é‚»çš„ï¼ˆ3ä¸ªï¼‰å°æ–‡ä»¶ï¼Œä¸ä¼šåˆå¹¶æ‰€æœ‰çš„æ–‡ä»¶ï¼Œä¸ä¼šæ¸…ç†è¿‡æœŸå’Œåˆ é™¤çš„æ•°æ®ã€‚ major Compactionï¼šåˆå¹¶æ‰€æœ‰çš„æ–‡ä»¶ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚ Compactionå¤§åˆå¹¶æ—¶ï¼Œæ¸…ç©ºä»¥ä¸‹æ•°æ®ï¼š æ ‡è®°ä¸ºåˆ é™¤çš„æ•°æ®ã€‚ å½“æˆ‘ä»¬åˆ é™¤æ•°æ®æ—¶ï¼ŒHBaseå¹¶æ²¡æœ‰æŠŠè¿™äº›æ•°æ®ç«‹å³åˆ é™¤ï¼Œè€Œæ˜¯å°†è¿™äº›æ•°æ®æ‰“äº†ä¸€ä¸ªä¸ªæ ‡è®°ï¼Œç§°ä¸ºâ€œå¢“ç¢‘â€æ ‡è®°ã€‚åœ¨HBaseåˆå¹¶æ—¶ï¼Œä¼šå°†è¿™äº›å¸¦æœ‰å¢“ç¢‘æ ‡è®°çš„æ•°æ®åˆ é™¤ã€‚ TTLè¿‡æœŸæ•°æ® TTL(time to live)æŒ‡æ•°æ®åŒ…åœ¨ç½‘ç»œä¸­çš„æ—¶é—´ã€‚å¦‚æœåˆ—æ—ä¸­è®¾ç½®äº†TTLè¿‡æœŸæ—¶é—´ï¼Œåˆ™åœ¨åˆå¹¶çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°è¿‡æœŸçš„æ•°æ®å°†è¢«åˆ é™¤ã€‚ ç‰ˆæœ¬åˆå¹¶ è‹¥ç‰ˆæœ¬å·è¶…è¿‡äº†åˆ—æ—ä¸­é¢„å…ˆè®¾å®šçš„ç‰ˆæœ¬å·ï¼Œåˆ™å°†æœ€æ—©çš„ä¸€æ¡æ•°æ®åˆ é™¤ã€‚ Compactionåˆå¹¶çš„è§¦å‘æ¡ä»¶ï¼š å†…å­˜ä¸­çš„æ•°æ®flushåˆ·å†™åˆ°ç¡¬ç›˜ä¸Šä»¥åï¼Œä¼šå¯¹å½“å‰Storeä¸­çš„æ–‡ä»¶è¿›è¡Œåˆ¤æ–­ï¼Œå½“æ•°é‡è¾¾åˆ°é˜ˆå€¼ï¼Œåˆ™ä¼šè§¦å‘Compactionã€‚ Compaction Checkerçº¿ç¨‹å®šæœŸæ£€æŸ¥æ˜¯å¦è§¦å‘Compactionï¼ŒCheckerä¼šä¼˜å…ˆæ£€æŸ¥æ–‡ä»¶æ•°é‡æ˜¯å¦å¤§äºé˜ˆå€¼ï¼Œå†åˆ¤æ–­æ˜¯å¦æ»¡è¶³major Compactionçš„æ¡ä»¶çš„æ—¶é—´èŒƒå›´å†…ï¼ˆ7å¤©ï¼‰ï¼Œå¦‚æœæ»¡è¶³ï¼Œåˆ™è§¦å‘ä¸€æ¬¡å¤§åˆå¹¶Major Compactionã€‚ æ‰‹åŠ¨åˆå¹¶ HBaseçš„Splitæ“ä½œ SplitåŸå› ï¼š éšç€HRegionå†…çš„æ•°æ®è¢«æŒç»­è¿½åŠ ï¼ŒStoreFileæ–‡ä»¶çš„æ•°é‡å’Œé•¿åº¦ä¼šä¸æ–­å¢å¤§ï¼Œç”±æ­¤å¼•èµ·Storeçš„ä¸æ–­å¢å¤§ï¼Œä»è€Œå¯¼è‡´HRegionçš„é•¿åº¦æŒç»­å¢å¤§ï¼› Splitæ¡ä»¶ï¼š å½“1ä¸ªregionä¸­çš„æŸä¸ªStoreä¸‹æ‰€æœ‰StoreFileçš„æ€»å¤§å°è¶…è¿‡Min(R^2 * â€œhbase.hregion.memstore.flush.sizeâ€,&quot; hbase.hregion.max.filesize &quot;) å°±ä¼šæ‹†åˆ†ï¼Œå…¶ä¸­Rä¸ºå½“å‰RegionServerä¸­å±äºè¯¥tableçš„regionä¸ªæ•° å…·ä½“çš„åˆ‡åˆ†ç­–ç•¥ä¸ºï¼š ç¬¬ä¸€æ¬¡splitï¼š1^3 * 256 = 256MB ç¬¬äºŒæ¬¡splitï¼š2^3 * 256 = 2048MB ç¬¬ä¸‰æ¬¡splitï¼š3^3 * 256 = 6912MB ç¬¬å››æ¬¡splitï¼š4^3 * 256 = 16384MB &gt; 10GBï¼Œ å› æ­¤å–è¾ƒå°çš„å€¼10GB åé¢æ¯æ¬¡splitçš„sizeéƒ½æ˜¯10GBäº†ã€‚ Splitè¿‡ç¨‹ï¼š Regionçš„æ‹†åˆ†æ˜¯ç”±HRegionServerå®Œæˆçš„ï¼Œåœ¨æ“ä½œä¹‹å‰éœ€è¦é€šè¿‡ZKæ±‡æŠ¥masterï¼Œä¿®æ”¹å¯¹åº”çš„Metaè¡¨ä¿¡æ¯æ·»åŠ ä¸¤åˆ—infoï¼šsplitAå’Œinfoï¼šsplitBä¿¡æ¯ã€‚ä¹‹åéœ€è¦æ“ä½œHDFSä¸Šé¢å¯¹åº”çš„æ–‡ä»¶ï¼ŒæŒ‰ç…§æ‹†åˆ†åçš„RegionèŒƒå›´è¿›è¡Œæ ‡è®°åŒºåˆ†ï¼Œå®é™…æ“ä½œä¸ºåˆ›å»ºæ–‡ä»¶å¼•ç”¨ï¼Œä¸ä¼šæŒªåŠ¨æ•°æ®ã€‚åˆšå®Œæˆæ‹†åˆ†çš„æ—¶å€™ï¼Œä¸¤ä¸ªRegionéƒ½ç”±åŸå…ˆçš„RegionServerç®¡ç†ã€‚ä¹‹åæ±‡æŠ¥ç»™Masterï¼Œç”±Masterå°†ä¿®æ”¹åçš„ä¿¡æ¯å†™å…¥åˆ°Metaè¡¨ä¸­ã€‚ç­‰å¾…ä¸‹ä¸€æ¬¡è§¦å‘è´Ÿè½½å‡è¡¡æœºåˆ¶ï¼Œæ‰ä¼šä¿®æ”¹Regionçš„ç®¡ç†æœåŠ¡è€…ï¼Œè€Œæ•°æ®è¦ç­‰åˆ°ä¸‹ä¸€æ¬¡å‹ç¼©æ—¶ï¼Œæ‰ä¼šå®é™…è¿›è¡Œç§»åŠ¨ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://gladdduck.github.io/tags/Hadoop/"}]},{"title":"Kaggle-OTTOæ¯”èµ›å›é¡¾","slug":"å®ä¹ -Kaggle-OTTOæ¯”èµ›å›é¡¾","date":"2024-03-14T10:50:22.943Z","updated":"2024-03-16T05:34:08.341Z","comments":true,"path":"2024/03/14/å®ä¹ -Kaggle-OTTOæ¯”èµ›å›é¡¾/","link":"","permalink":"https://gladdduck.github.io/2024/03/14/%E5%AE%9E%E4%B9%A0-Kaggle-OTTO%E6%AF%94%E8%B5%9B%E5%9B%9E%E9%A1%BE/","excerpt":"","text":"1. æ¯”èµ›ä»»åŠ¡ The goal of this competition is to predict e-commerce clicks, cart additions, and orders. Youâ€™ll build a multi-objective recommender system based on previous events in a user session. è¿™åœºæ¯”èµ›çš„ç›®æ ‡æ˜¯é¢„æµ‹ç”µå­å•†åŠ¡ç‚¹å‡»é‡ã€è´­ç‰©è½¦æ·»åŠ é‡å’Œè®¢å•ã€‚æ‚¨å°†åŸºäºç”¨æˆ·ä¼šè¯ä¸­ä»¥å‰çš„äº‹ä»¶æ„å»ºä¸€ä¸ªå¤šç›®æ ‡æ¨èç³»ç»Ÿã€‚ The training data contains full e-commerce session information. For each session in the test data, your task it to predict the aid values for each session type thats occur after the last timestamp ts in the test session. In other words, the test data contains sessions truncated by timestamp, and you are to predict what occurs after the point of truncation. è®­ç»ƒæ•°æ®åŒ…å«å®Œæ•´çš„ç”µå­å•†åŠ¡ä¼šè¯ä¿¡æ¯ã€‚å¯¹äºæµ‹è¯•æ•°æ®ä¸­çš„æ¯ä¸ªä¼šè¯ï¼Œæ‚¨çš„ä»»åŠ¡æ˜¯é¢„æµ‹æµ‹è¯•ä¼šè¯ä¸­æœ€åä¸€ä¸ªæ—¶é—´æˆ³tsä¹‹åå‡ºç°çš„æ¯ä¸ªä¼šè¯ç±»å‹çš„å•†å“ç¼–å·(20ä¸ª)ã€‚æ¢å¥è¯è¯´ï¼Œæµ‹è¯•æ•°æ®åŒ…å«æŒ‰æ—¶é—´æˆ³æˆªæ–­çš„ä¼šè¯ï¼Œæ‚¨è¦é¢„æµ‹æˆªæ–­ç‚¹ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆã€‚ æ€»ç»“: ç»™å®šæ¯ä¸ªç”¨æˆ·æ¯ä¸ªæ—¶åˆ»çš„è¡Œä¸º(ç‚¹å‡»,åŠ è´­,ä»˜æ¬¾)çš„å•†å“ç¼–å·,ç»™å‡ºä¸‹ä¸€ä¸ªæ—¶åˆ»,è¯¥ç”¨æˆ·ä¸‰ç§è¡Œä¸ºæœ€å¯èƒ½çš„20ä¸ªå•†å“ç¼–å·. 2. æ•°æ®é›† æ•°æ®æè¿°: 2,899,779 sessions 1,855,603 items 216,716,096 events 194,720,954 clicks 16,896,191 carts 5,098,951 orders è®­ç»ƒæ•°æ®: æäº¤æ ·ä¾‹æ–‡ä»¶: 3. æ€è·¯ Candidate Generation Candidate Generationæ–¹æ³• åŸå› :åƒè¿™ä¸ªæ•°æ®é‡çš„æ•°æ®ç›´æ¥æ”¾åˆ°æ¨¡å‹é‡Œæ˜¯ä¸å¯èƒ½çš„äº‹,æ‰€ä»¥æŒ‰ç…§ä¸Šé¢çš„æµç¨‹ä¸€æ­¥æ­¥æ¥. Step 1 - Generate Candidates ç”¨æ¥é€‰æ‹©å€™é€‰å•†å“çš„ä¸€äº›æ ‡å‡†ï¼š ä»¥å‰è´­ä¹°çš„ç‰©å“ å›è´­çš„ç‰©å“ æ€»ä½“ä¸Šæœ€å—æ¬¢è¿çš„é¡¹ç›® åŸºäºæŸç§èšç±»æŠ€æœ¯çš„ç›¸ä¼¼é¡¹ç›® åŸºäºå…±åŒè®¿é—®çŸ©é˜µç­‰ç±»ä¼¼é¡¹ç›® Step 2 - ReRank and Choose 20 é€šè¿‡ä¸Šä¸€æ­¥,å•†å“ä¼šå°‘å¾ˆå¤š,ç„¶åå¯ä»¥æŒ‰ç…§ä¸€äº›è§„åˆ™æ¥é€‰æ‹©20ä¸ªå•†å“. Ranker Model Handcrafted Rules What is the co-visitation matrix, really? What is the co-visitation matrix, really? It is very interesting to think of modern techniques in the context of their roots. â€œRadek is a _â€.å½“æˆ‘ä»¬é¢„æµ‹æ¨ªçº¿ä¸Šçš„è¯çš„æ—¶å€™, ä¸‰å…ƒæ¨¡å‹ä¼šä»&quot;Radek&quot;, â€œisâ€, and â€œaâ€ çœ‹,ç„¶åç»Ÿè®¡å“ªä¸ªå•è¯å’Œç€ä¸‰ä¸ªå•è¯å‡ºç°çš„æ¬¡æ•°æœ€å¤š. ä½†æ˜¯å¯èƒ½å¹¶æ²¡æœ‰é‚£ä¹ˆå¤šçš„&quot;Radek&quot;, â€œisâ€, and &quot;a&quot;çš„å‡ºç°è¿‡. æ‰€ä»¥è¿™å°±æ˜¯RNN(or word2vec)çš„å‡ºç°,ä»–ä»¬ä¼šçœ‹ â€œRadek was an _â€, &quot;Tommy is a __&quot;ä½œä¸ºä¾‹å­. é‚£ä¹ˆï¼Œè¿™ä¸å…±è®¿çŸ©é˜µæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ å…±è®¿é—®çŸ©é˜µç»Ÿè®¡ä¸¤ä¸ªåŠ¨ä½œåœ¨éå¸¸æ¥è¿‘çš„æƒ…å†µä¸‹çš„å…±å‡ºç°ã€‚ å¦‚æœç”¨æˆ·è´­ä¹°äº†aï¼Œåœ¨è´­ä¹°Båä¸ä¹…ï¼Œæˆ‘ä»¬å°†è¿™äº›å€¼å­˜å‚¨åœ¨ä¸€èµ·ã€‚ æˆ‘ä»¬è®¡ç®—è®¡æ•°ï¼Œå¹¶æ ¹æ®æœ€è¿‘çš„å†å²æ¥ä¼°è®¡æœªæ¥è¡ŒåŠ¨çš„æ¦‚ç‡ã€‚ ç†è§£å…±åŒè®¿é—®çŸ©é˜µæ–¹æ³•ä¸­å‘ç”Ÿçš„äº‹æƒ…æ˜¯éå¸¸é‡è¦çš„â€¦ Candidate ReRank Model - [LB 0.575] Candidate ReRank Model - LB 0.575 Step 1 - Generate Candidates å¯¹æ¯ä¸€ä¸ªç”¨æˆ·ç”Ÿæˆå€™é€‰å•†å“,äº”ç§æ–¹æ³•: ç”¨æˆ·ç‚¹å‡»ã€è´­ç‰©è½¦ã€è®¢å•çš„ç”¨æˆ·å†å²è®°å½• æµ‹è¯•æ•°æ®ä¸€å‘¨å†…æœ€å—æ¬¢è¿çš„20æ¬¡ç‚¹å‡»ã€è´­ç‰©è½¦ã€è®¢å• ç‚¹å‡»/è´­ç‰©è½¦/è®¢å•åˆ°è´­ç‰©è½¦/è®¢å• çš„å…±åŒè®¿é—®çŸ©é˜µ(å¸¦æœ‰ç±»å‹æƒé‡) ç§°ä¸ºbuy2buyçš„è´­ç‰©è½¦/è®¢å•åˆ°è´­ç‰©è½¦/è®¢å•çš„å…±è®¿é—®çŸ©é˜µ ç‚¹å‡»/è´­ç‰©è½¦/è®¢å•ä¸ç‚¹å‡»çš„å…±è®¿é—®çŸ©é˜µï¼ˆå¸¦æ—¶é—´æƒé‡ï¼‰ Step 2 - ReRank and Choose 20 ä»ä¸Šé¢çš„å€™é€‰åˆ—è¡¨ä¸­é€‰æ‹©20ä¸ªä½œä¸ºæœ€ç»ˆé¢„æµ‹ç»“æœ,é€‰å–çš„é¡ºåºä¸º: æœ€è¿‘è®¿é—®è¿‡çš„é¡¹ç›® ä»¥å‰å¤šæ¬¡è®¿é—®çš„é¡¹ç›® ä»¥å‰åœ¨è´­ç‰©è½¦æˆ–è®¢å•ä¸­çš„é¡¹ç›® è´­ç‰©è½¦/è®¢å•åˆ°è´­ç‰©è½¦/è®¢å•çš„å…±åŒè®¿é—®çŸ©é˜µ å½“å‰çƒ­é—¨é¡¹ç›® å€™é€‰å•†å“ç”Ÿæˆ â€œCarts Ordersâ€ Co-visitation Matrix - Type Weighted 12345678910111213141516171819202122232425262728&quot;&quot;&quot;æ„å»ºæ€è·¯:æŒ‰ç…§ç”¨æˆ·å’Œæ—¶é—´è¿›è¡Œæ’åºdf.groupby(&#x27;session&#x27;).cumcount()æ±‚å‡ºæ¯ä¸ªç”¨æˆ·çš„è¡Œæ•°ä¿ç•™æ¯ä¸ªç”¨æˆ·æœ€è¿‘çš„30ä¸ªè¡Œä¸ºdf.merge(df, on=&#x27;session&#x27;)åˆ›å»ºæ¯ä¸ªç”¨æˆ·çš„è¡Œä¸ºå¯¹å…¶ä»–è¡Œä¸ºçš„å…³ç³»(ç›®çš„æ˜¯æ„å»ºå•†å“å’Œå•†å“çš„å…³ç³»)ç­›é€‰å‡ºæ—¶é—´é—´éš”å°äº1å¤© ä¸”å•†å“ç¼–å·ä¸ç›¸åŒçš„è¡Œ,åˆ é™¤é‡å¤çš„å€¼æ ¹æ®è¡Œä¸ºçš„æƒé‡ç³»æ•°,å¯¹å•†å“ä¹‹é—´çš„å…³ç³»è¿›è¡Œèµ‹å€¼å¾—åˆ°äº†æ¯ä¸ªå•†å“ä¹‹é—´çš„æƒé‡ç³»æ•°&quot;&quot;&quot;# type_weight = &#123;0:1, 1:6, 2:3&#125;df = df.sort_values([&#x27;session&#x27;, &#x27;ts&#x27;], ascending=[True, False]) # æ ¹æ®&#x27;session&#x27;å’Œ&#x27;ts&#x27;æ’åºæ•°æ®æ¡†ï¼Œå…ˆå‡åºæ’&#x27;session&#x27;å†é™åºæ’&#x27;ts&#x27;# ä½¿ç”¨SESSIONçš„TAILdf = df.reset_index(drop=True) # é‡è®¾ç´¢å¼•å¹¶åˆ é™¤åŸç´¢å¼•df[&#x27;n&#x27;] = df.groupby(&#x27;session&#x27;).cumcount() # å¯¹&#x27;session&#x27;è¿›è¡Œåˆ†ç»„è®¡æ•°df = df.loc[df.n &lt; 30].drop(&#x27;n&#x27;, axis=1) # ä¿ç•™æ¯ä¸ª&#x27;session&#x27;ç»„çš„å‰30è¡Œï¼Œç„¶ååˆ é™¤è®¡æ•°åˆ—&#x27;n&#x27;# åˆ›å»ºå¯¹å…³ç³»df = df.merge(df, on=&#x27;session&#x27;) # åœ¨&#x27;session&#x27;åˆ—ä¸Šåˆå¹¶æ•°æ®æ¡†è‡ªèº«ï¼Œåˆ›å»ºå¯¹å…³ç³»df = df.loc[((df.ts_x - df.ts_y).abs() &lt; 24 * 60 * 60) &amp; (df.aid_x != df.aid_y)] # é€‰æ‹©æ—¶é—´é—´éš”å°äº1å¤©ä¸”&#x27;aid_x&#x27;ä¸ç­‰äº&#x27;aid_y&#x27;çš„è¡Œ# å†…å­˜ç®¡ç†ï¼Œåˆ†éƒ¨è®¡ç®—df = df.loc[(df.aid_x &gt;= PART*SIZE) &amp; (df.aid_x &lt; (PART+1)*SIZE)] # æ ¹æ®&#x27;aid_x&#x27;å€¼è¿›è¡Œåˆ†å—å¤„ç†# åˆ†é…æƒé‡df = df[[&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;type_y&#x27;]].drop_duplicates([&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;]) # æ ¹æ®æŒ‡å®šåˆ—å»é™¤é‡å¤è¡Œï¼Œé€‰æ‹©æŒ‡å®šåˆ—df[&#x27;wgt&#x27;] = df.type_y.map(type_weight) # æ ¹æ®&#x27;type_y&#x27;æ˜ å°„æƒé‡å€¼åˆ°&#x27;wgt&#x27;åˆ—df = df[[&#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;wgt&#x27;]] # ä¿ç•™&#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;wgt&#x27;ä¸‰åˆ—df.wgt = df.wgt.astype(&#x27;float32&#x27;) # å°†&#x27;wgt&#x27;åˆ—è½¬æ¢ä¸ºfloat32ç±»å‹df = df.groupby([&#x27;aid_x&#x27;, &#x27;aid_y&#x27;]).wgt.sum() # æ ¹æ®&#x27;aid_x&#x27;, &#x27;aid_y&#x27;åˆ†ç»„ï¼Œå¹¶æ±‚&#x27;wgt&#x27;åˆ—çš„å’Œ â€œBuy2Buyâ€ Co-visitation Matrix 123456789101112131415161718192021222324252627282930&quot;&quot;&quot;æ„å»ºæ€è·¯:æŒ‰ç…§ç”¨æˆ·å’Œæ—¶é—´è¿›è¡Œæ’åºdf.groupby(&#x27;session&#x27;).cumcount()æ±‚å‡ºæ¯ä¸ªç”¨æˆ·çš„è¡Œæ•°ä¿ç•™æ¯ä¸ªç”¨æˆ·æœ€è¿‘çš„30ä¸ªè¡Œä¸ºdf.merge(df, on=&#x27;session&#x27;)åˆ›å»ºæ¯ä¸ªç”¨æˆ·çš„è¡Œä¸ºå¯¹å…¶ä»–è¡Œä¸ºçš„å…³ç³»(ç›®çš„æ˜¯æ„å»ºå•†å“å’Œå•†å“çš„å…³ç³»)ç­›é€‰å‡ºæ—¶é—´é—´éš”å°äº14å¤© ä¸”å•†å“ç¼–å·ä¸ç›¸åŒçš„è¡Œ,åˆ é™¤é‡å¤çš„å€¼æƒé‡å…¨éƒ¨æ˜¯1(åŠ è´­å’ŒåŠ è´­ä¹‹é—´çš„å…³ç³»),å¯¹å•†å“å’Œå•†å“ä¹‹é—´çš„å…³ç³»è¿›è¡Œåˆ†ç»„æ±‚å’Œå¾—åˆ°äº†æ¯ä¸ªå•†å“ä¹‹é—´çš„æƒé‡ç³»æ•°&quot;&quot;&quot;# df = df.loc[df[&#x27;type&#x27;].isin([1,2])] # ä»…ä¿ç•™è´­ç‰©è½¦å’Œè®¢å•df = df.sort_values([&#x27;session&#x27;,&#x27;ts&#x27;],ascending=[True,False]) # æŒ‰&#x27;session&#x27;å’Œ&#x27;ts&#x27;é™åºæ’åº# ä½¿ç”¨SESSIONçš„TAILdf = df.reset_index(drop=True) # é‡æ–°è®¾ç½®ç´¢å¼•å¹¶ä¸¢å¼ƒåŸç´¢å¼•df[&#x27;n&#x27;] = df.groupby(&#x27;session&#x27;).cumcount() # è®¡ç®—æ¯ä¸ª&#x27;session&#x27;ç»„çš„è¡Œæ•°# ä¿ç•™ç”¨æˆ·æœ€è¿‘çš„30ä¸ªè¡Œä¸ºdf = df.loc[df.n&lt;30].drop(&#x27;n&#x27;,axis=1) # ä»…ä¿ç•™æ¯ä¸ª&#x27;session&#x27;ç»„çš„å‰30è¡Œï¼Œå¹¶åˆ é™¤&#x27;n&#x27;åˆ—# åˆ›å»ºæˆå¯¹å…³ç³»df = df.merge(df, on=&#x27;session&#x27;) # åœ¨&#x27;session&#x27;ä¸Šåˆå¹¶æ•°æ®æ¡†è‡ªèº«ï¼Œåˆ›å»ºæˆå¯¹å…³ç³»df = df.loc[((df.ts_x - df.ts_y).abs() &lt; 14 * 24 * 60 * 60) &amp; (df.aid_x != df.aid_y)] # ç­›é€‰å‡ºæ—¶é—´é—´éš”å°äº14å¤©ä¸”&#x27;aid_x&#x27;ä¸ç­‰äº&#x27;aid_y&#x27;çš„è¡Œ# å†…å­˜ç®¡ç†ï¼Œåˆ†éƒ¨è®¡ç®—df = df.loc[(df.aid_x &gt;= PART*SIZE) &amp; (df.aid_x &lt; (PART+1)*SIZE)] # æ ¹æ®&#x27;aid_x&#x27;çš„å€¼å¯¹æ•°æ®æ¡†è¿›è¡Œåˆ†å—å¤„ç†# åˆ†é…æƒé‡df = df[[&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;type_y&#x27;]].drop_duplicates([&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;]) # æ ¹æ®&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;åˆ—å»é™¤é‡å¤è¡Œï¼Œå¹¶é€‰æ‹©æŒ‡å®šåˆ—df[&#x27;wgt&#x27;] = 1 # æ·»åŠ &#x27;wgt&#x27;åˆ—ï¼Œå¹¶èµ‹å€¼ä¸º1df = df[[&#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;wgt&#x27;]] # ä»…ä¿ç•™&#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;wgt&#x27;ä¸‰åˆ—df.wgt = df.wgt.astype(&#x27;float32&#x27;) # å°†&#x27;wgt&#x27;åˆ—çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºfloat32df = df.groupby([&#x27;aid_x&#x27;, &#x27;aid_y&#x27;]).wgt.sum() # æ ¹æ®&#x27;aid_x&#x27;, &#x27;aid_y&#x27;åˆ†ç»„ï¼Œå¹¶å¯¹&#x27;wgt&#x27;åˆ—æ±‚å’Œ â€œClicksâ€ Co-visitation Matrix - Time Weighted 1234567891011121314151617181920212223242526272829&quot;&quot;&quot;æ„å»ºæ€è·¯:æŒ‰ç…§ç”¨æˆ·å’Œæ—¶é—´è¿›è¡Œæ’åºdf.groupby(&#x27;session&#x27;).cumcount()æ±‚å‡ºæ¯ä¸ªç”¨æˆ·çš„è¡Œæ•°ä¿ç•™æ¯ä¸ªç”¨æˆ·æœ€è¿‘çš„30ä¸ªè¡Œä¸ºdf.merge(df, on=&#x27;session&#x27;)åˆ›å»ºæ¯ä¸ªç”¨æˆ·çš„è¡Œä¸ºå¯¹å…¶ä»–è¡Œä¸ºçš„å…³ç³»(ç›®çš„æ˜¯æ„å»ºå•†å“å’Œå•†å“çš„å…³ç³»)ç­›é€‰å‡ºæ—¶é—´é—´éš”å°äº1å¤© ä¸”å•†å“ç¼–å·ä¸ç›¸åŒçš„è¡Œ,åˆ é™¤é‡å¤çš„å€¼æŒ‰æ—¶é—´é¡ºåºå¯¹å•†å“å’Œå•†å“ä¹‹é—´çš„å…³ç³»è¿›è¡Œèµ‹å€¼,æ—¶é—´è¶Šè¿‘æƒé‡è¶Šå¤§å¾—åˆ°äº†æ¯ä¸ªå•†å“ä¹‹é—´çš„æƒé‡ç³»æ•°&quot;&quot;&quot;# df = df.sort_values([&#x27;session&#x27;, &#x27;ts&#x27;], ascending=[True, False]) # æŒ‰&#x27;session&#x27;å’Œ&#x27;ts&#x27;æ’åºï¼Œ&#x27;session&#x27;å‡åºï¼Œ&#x27;ts&#x27;é™åº# ä½¿ç”¨SESSIONçš„TAILdf = df.reset_index(drop=True) # é‡ç½®ç´¢å¼•å¹¶åˆ é™¤æ—§ç´¢å¼•df[&#x27;n&#x27;] = df.groupby(&#x27;session&#x27;).cumcount() # å¯¹&#x27;session&#x27;è¿›è¡Œè®¡æ•°df = df.loc[df.n &lt; 30].drop(&#x27;n&#x27;, axis=1) # ä¿ç•™æ¯ä¸ª&#x27;session&#x27;ç»„çš„å‰30è¡Œï¼Œç„¶ååˆ é™¤è®¡æ•°åˆ—# åˆ›å»ºå¯¹å…³ç³»df = df.merge(df, on=&#x27;session&#x27;) # åœ¨&#x27;session&#x27;ä¸Šåˆå¹¶æ•°æ®æ¡†è‡ªèº«ï¼Œåˆ›å»ºå¯¹å…³ç³»df = df.loc[((df.ts_x - df.ts_y).abs() &lt; 24 * 60 * 60) &amp; (df.aid_x != df.aid_y)] # é€‰æ‹©æ—¶é—´é—´éš”å°äº1å¤©ä¸”&#x27;aid_x&#x27;ä¸ç­‰äº&#x27;aid_y&#x27;çš„è¡Œ# å†…å­˜ç®¡ç†ï¼Œåˆ†éƒ¨è®¡ç®—df = df.loc[(df.aid_x &gt;= PART*SIZE) &amp; (df.aid_x &lt; (PART+1)*SIZE)] # æ ¹æ®&#x27;aid_x&#x27;çš„å€¼å¯¹æ•°æ®æ¡†è¿›è¡Œåˆ†å—å¤„ç†# åˆ†é…æƒé‡df = df[[&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;ts_x&#x27;]].drop_duplicates([&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;]) # æ ¹æ®æŒ‡å®šåˆ—å»é™¤é‡å¤è¡Œdf[&#x27;wgt&#x27;] = 1 + 3*(df.ts_x - 1659304800) / (1662328791 - 1659304800) # æ ¹æ®å…¬å¼è®¡ç®—æƒé‡df = df[[&#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;wgt&#x27;]] # ä¿ç•™&#x27;aid_x&#x27;, &#x27;aid_y&#x27;, &#x27;wgt&#x27;ä¸‰åˆ—df.wgt = df.wgt.astype(&#x27;float32&#x27;) # å°†&#x27;wgt&#x27;åˆ—çš„æ•°æ®ç±»å‹è½¬æ¢ä¸ºfloat32df = df.groupby([&#x27;aid_x&#x27;, &#x27;aid_y&#x27;]).wgt.sum() # æ ¹æ®&#x27;aid_x&#x27;, &#x27;aid_y&#x27;åˆ†ç»„ï¼Œå¹¶å¯¹&#x27;wgt&#x27;åˆ—æ±‚å’Œ 12345678910111213141516171819# å•†å“çš„çŸ©é˜µæ„å»ºå®Œæˆä¹‹åéƒ½ç»å†ä¸‹é¢çš„æ­¥éª¤tmp = tmp.reset_index()# æŒ‰ç…§æƒé‡è¿›è¡Œæ’åºtmp = tmp.sort_values([&#x27;aid_x&#x27;,&#x27;wgt&#x27;],ascending=[True,False])tmp = tmp.reset_index(drop=True)# ä¿ç•™æ¯ä¸ªå•†å“çš„å‰15(ä¸å®š)ä¸ªå…³ç³»tmp[&#x27;n&#x27;] = tmp.groupby(&#x27;aid_x&#x27;).aid_y.cumcount()tmp = tmp.loc[tmp.n&lt;15].drop(&#x27;n&#x27;,axis=1)tmp.groupby(&#x27;aid_x&#x27;).aid_y.apply(list).to_dict()&#x27;&#x27;&#x27;æ€»ç»“:1. &quot;Carts Orders&quot; Co-visitation Matrix - Type Weightedå«ä¹‰:æ ¹æ®ç”¨æˆ·çš„å†å²è¡Œä¸ºåˆ†é…å•†å“ä¹‹é—´çš„æƒé‡ç³»æ•°å¯¹åº”top_20_buys2. &quot;Buy2Buy&quot; Co-visitation Matrixå«ä¹‰:æ ¹æ®ç”¨æˆ·çš„åŠ è´­å’Œè´­ä¹°è¡Œä¸ºåˆ†é…å•†å“ä¹‹é—´çš„æƒé‡ç³»æ•°å¯¹åº”top_20_buy2buy3. &quot;Clicks&quot; Co-visitation Matrix - Time Weightedå«ä¹‰:æ ¹æ®ç”¨æˆ·çš„è¡Œä¸ºæ—¶é—´åˆ†é…å•†å“ä¹‹é—´çš„æƒé‡ç³»æ•°å¯¹åº”top_20_clicks&#x27;&#x27;&#x27; é‡æ’åä¸æœ€ç»ˆé€‰æ‹© 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263type_weight_multipliers = &#123;0: 1, 1: 6, 2: 3&#125;def suggest_clicks(df): # USER HISTORY AIDS AND TYPES aids = df.aid.tolist() # è·å–ç”¨æˆ·å†å²å•†å“id ty = df.type.tolist() # è·å–ç”¨æˆ·å†å²è¡Œä¸º unique_aids = list(dict.fromkeys(aids[::-1])) # è·å–ä¸é‡å¤çš„å•†å“id # å¦‚æœå†å²å•†å“idå¤§äºç­‰äº20ä¸ª,åˆ™è¿”å›å‰20ä¸ªå•†å“id if len(unique_aids) &gt;= 20: # æ ¹æ®å•†å“idå‡ºç°çš„æ—¶é—´,å¯¹å•†å“idè¿›è¡Œæ’åº weights = np.logspace(0.1, 1, len(aids), base=2, endpoint=True) - 1 # è®°å½•å•†å“id:æƒé‡ aids_temp = Counter() # å•†å“,æƒé‡,ç±»å‹ for aid, w, t in zip(aids, weights, ty): # idæƒé‡=æ—¶é—´æƒé‡*ç±»å‹æƒé‡ aids_temp[aid] += w * type_weight_multipliers[t] # è¿”å›æƒé‡æœ€å¤§çš„å‰20ä¸ªå•†å“id sorted_aids = [k for k,v in aids_temp.most_common(20)] return sorted_aids # å¦‚æœä¸å¤Ÿ20ä¸ª, ä»ç‚¹å‡»æœ€é«˜çš„å•†å“å…³ç³»ä¸­æ‰¾åˆ°æœ€è¿‘ç‚¹å‡»çš„å•†å“ ç„¶åå–å‡ºæœ€å…³è”çš„20ä¸ªå•†å“ aids2 = list(itertools.chain(*[top_20_clicks[aid] for aid in unique_aids if aid in top_20_click])) # ä»æœ€è¿‘ç‚¹å‡»çš„å•†å“çš„æœ€å…³è”çš„å•†å“ä¸­æ‰¾æ‰“å‡ºç°æ¬¡æ•°æœ€å¤šçš„å•†å“ top_aids2 = [aid2 for aid2, cnt in Counter(aids2).most_common(20) if aid2 not in unique_aids] # å°†è¿™äº›å•†å“å’Œç”¨æˆ·å†å²å•†å“åˆå¹¶ result = unique_aids + top_aids2[:20 - len(unique_aids)] # å¦‚æœå†å²å•†å“åŠ ä¸Šæœ€å…³è”çš„å•†å“è¿˜ä¸å¤Ÿ20ä¸ª,åˆ™ä»testä¸­çš„å†å²æ•°æ®ä¸­æ‰¾åˆ°ç‚¹å‡»æœ€é«˜çš„å•†å“ return result + list(top_clicks)[:20 - len(result)]def suggest_buys(df): # USER HISTORY AIDS AND TYPES aids = df.aid.tolist() # è·å–ç”¨æˆ·å†å²å•†å“id ty = df.type.tolist() # è·å–ç”¨æˆ·å†å²è¡Œä¸º unique_aids = list(dict.fromkeys(aids[::-1])) # è·å–æ‰€æœ‰è¡Œä¸ºä¸é‡å¤çš„å•†å“id # åªä¿ç•™ç”¨æˆ·å†å²åŠ è´­å’Œè´­ä¹°çš„è¡Œä¸º(å•†å“id) df = df.loc[(df[&#x27;type&#x27;] == 1) | (df[&#x27;type&#x27;] == 2)] # è·å–åŠ è´­å’Œè´­ä¹°çš„ä¸é‡å¤å•†å“id unique_buys = list(dict.fromkeys(df.aid.tolist()[::-1])) # å¦‚æœå†å²è¡Œä¸ºå•†å“idå¤§äºç­‰äº20ä¸ª,åˆ™æ ¹æ®å†å²è¡Œä¸ºè¿”å›å•†å“id if len(unique_aids) &gt;= 20: # æ—¶é—´æƒé‡ weights = np.logspace(0.5, 1, len(aids), base=2, endpoint=True) - 1 aids_temp = Counter() # idæƒé‡=æ—¶é—´æƒé‡*ç±»å‹æƒé‡ for aid, w, t in zip(aids, weights, types): aids_temp[aid] += w * type_weight_multipliers[t] # æ‰¾åˆ°ä¸ç”¨æˆ·å†å²è´­ä¹°/åŠ è´­è¡Œä¸ºæœ€ç›¸å…³çš„20ä¸ªå•†å“id aids3 = list(itertools.chain(*[top_20_buy2buy[aid] for aid in unique_buys if aid in top_20_buy2buy])) # å¯¹è¿™äº›å•†å“idçš„æƒé‡å¢åŠ 0.1 for aid in aids3: aids_temp[aid] += 0.1 # è¿”å›æƒé‡æœ€å¤§çš„å‰20ä¸ªå•†å“id sorted_aids = [k for k, v in aids_temp.most_common(20)] return sorted_aids # æ‰¾åˆ°ä¸ç”¨æˆ·å†å²æ‰€æœ‰è¡Œä¸ºçš„å•†å“è¡Œä¸ºä¸Šæœ€ç›¸å…³çš„20ä¸ªå•†å“id aids2 = list(itertools.chain(*[top_20_buys[aid] for aid in unique_aids if aid in top_20_buys])) # æ‰¾åˆ°ä¸ç”¨æˆ·å†å²è´­ä¹°/åŠ è´­è¡Œä¸ºçš„å•†å“æœ€ç›¸å…³çš„20ä¸ªå•†å“id aids3 = list(itertools.chain(*[top_20_buy2buy[aid] for aid in unique_buys if aid in top_20_buy2buy])) # å¯¹è¿™äº›å•†å“å‡ºç°çš„æ¬¡æ•°è¿›è¡Œç»Ÿè®¡ top_aids2 = [aid2 for aid2, cnt in Counter(aids2 + aids3).most_common(20) if aid2 not in unique_aids] # è·å–æœ€ç»ˆç»“æœ,å†å²è¡Œä¸ºå•†å“id+æœ€ç›¸å…³çš„å•†å“id result = unique_aids + top_aids2[:20 - len(unique_aids)] # å¦‚æœè¿™äº›å•†å“è¿˜ä¸å¤Ÿ20ä¸ª,åˆ™ä»testä¸­çš„å†å²æ•°æ®ä¸­æ‰¾åˆ°è´­ä¹°æœ€é«˜çš„å•†å“ return result + list(top_orders)[:20 - len(result)] 12345678910111213141516# ç”Ÿæˆé¢„æµ‹ç»“æœpred_df_clicks = test_df.sort_values([&quot;session&quot;, &quot;ts&quot;]).groupby([&quot;session&quot;]).apply( lambda x: suggest_clicks(x))pred_df_buys = test_df.sort_values([&quot;session&quot;, &quot;ts&quot;]).groupby([&quot;session&quot;]).apply( lambda x: suggest_buys(x))clicks_pred_df = pd.DataFrame(pred_df_clicks.add_suffix(&quot;_clicks&quot;), columns=[&quot;labels&quot;]).reset_index()orders_pred_df = pd.DataFrame(pred_df_buys.add_suffix(&quot;_orders&quot;), columns=[&quot;labels&quot;]).reset_index()carts_pred_df = pd.DataFrame(pred_df_buys.add_suffix(&quot;_carts&quot;), columns=[&quot;labels&quot;]).reset_index()pred_df = pd.concat([clicks_pred_df, orders_pred_df, carts_pred_df])pred_df.columns = [&quot;session_type&quot;, &quot;labels&quot;]pred_df[&quot;labels&quot;] = pred_df.labels.apply(lambda x: &quot; &quot;.join(map(str,x)))pred_df.to_csv(&quot;submission.csv&quot;, index=False)pred_df.head() Co-visitation Matrix Co-visitation Matrix Step 1 - Generate Candidates æ€»ä¼šæœ‰ä¸€äº›å•†å“æ˜¯ç»å¸¸ç‚¹å‡»çš„å¹¶ä¸”ä¸€èµ·ä¹°,åˆ©ç”¨è¿™ä¸ªæ€æƒ³æ„å»ºä¸€ä¸ªååŒçŸ©é˜µ é¦–å…ˆï¼Œæˆ‘ä»¬æŸ¥çœ‹åŒä¸€ä¼šè¯ä¸­åœ¨æ—¶é—´ä¸Šå½¼æ­¤æ¥è¿‘ï¼ˆ&lt;1å¤©ï¼‰çš„æ‰€æœ‰äº‹ä»¶å¯¹ã€‚æˆ‘ä»¬è®¡ç®—å…±åŒè®¿é—®çŸ©é˜µMaid1ï¼Œaid2M_{aid1ï¼Œaid2}Maid1ï¼Œaid2â€‹é€šè¿‡å¯¹æ‰€æœ‰ä¼šè¯ä¸­çš„æ¯å¯¹äº‹ä»¶å¯¹çš„å…¨å±€æ•°é‡è¿›è¡Œè®¡æ•°ã€‚ å¯¹äºæ¯ä¸ªå•†å“id,æˆ‘ä»¬å‘ç°å‰20ä¸ªæœ€é¢‘ç¹çš„aid2=argsortï¼ˆM[aid]ï¼‰[âˆ’20:]aid2=argsortï¼ˆM[aid]ï¼‰[-20:]aid2=argsortï¼ˆM[aid]ï¼‰[âˆ’20:] Step 2 - ReRank and Choose 20 ä»ä¸Šé¢çš„å€™é€‰åˆ—è¡¨ä¸­é€‰æ‹©å‡ºç°é¢‘ç‡æœ€é«˜çš„20ä¸ªä½œä¸ºæœ€ç»ˆé¢„æµ‹ç»“æœ å€™é€‰å•†å“ç”Ÿæˆ 123456789101112131415161718192021222324252627282930import sys # å¯¼å…¥sysæ¨¡å—import gc # å¯¼å…¥gcæ¨¡å—def gen_pairs(df): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨äºç”Ÿæˆpairs df = df.query(&#x27;session % @SAMPLING == 0&#x27;).groupby(&#x27;session&#x27;, as_index=False, sort=False).apply(lambda g: g.tail(30)).reset_index(drop=True) # æ ¹æ®æ¡ä»¶ç­›é€‰æ•°æ®å¹¶æˆªå–æ¯ä¸ªä¼šè¯çš„æœ€å30æ¡è®°å½• df = pd.merge(df, df, on=&#x27;session&#x27;) # åœ¨ä¼šè¯ä¸Šè¿›è¡Œè‡ªè¿æ¥ pairs = df.query(&#x27;abs(ts_x - ts_y) &lt; 24 * 60 * 60 * 1000 and aid_x != aid_y&#x27;)[[&#x27;session&#x27;, &#x27;aid_x&#x27;, &#x27;aid_y&#x27;]].drop_duplicates() # ç­›é€‰æ»¡è¶³æ¡ä»¶çš„æ•°æ®å¯¹ return pairs[[&#x27;aid_x&#x27;, &#x27;aid_y&#x27;]].values # è¿”å›æ•°æ®å¯¹ä¸­çš„&#x27;aid_x&#x27;å’Œ&#x27;aid_y&#x27;å€¼def gen_aid_pairs(): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”Ÿæˆaid_pairs all_pairs = defaultdict(lambda: Counter()) # åˆå§‹åŒ–ä¸€ä¸ªç©ºå­—å…¸ç”¨äºå­˜å‚¨æ‰€æœ‰æ•°æ®é…å¯¹ all_pair_chunks = [] # åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨ç”¨äºå­˜å‚¨æ‰€æœ‰çš„æ•°æ®å— with tqdm(glob.glob(&#x27;../input/otto-chunk-data-inparquet-format/*_parquet/*&#x27;), desc=&#x27;Chunks&#x27;) as prog: # ä½¿ç”¨tqdmæ¥å±•ç¤ºè¿›åº¦æ¡ï¼Œå¹¶éå†æ–‡ä»¶ for idx, chunk_file in enumerate(prog): # éå†æ–‡ä»¶ with multiprocessing.Pool() as p: # åˆ›å»ºå¤šè¿›ç¨‹æ±  chunk = pd.read_parquet(chunk_file).drop(columns=[&#x27;type&#x27;]) # ä»parquetæ–‡ä»¶ä¸­è¯»å–æ•°æ®å— pair_chunks = p.map(gen_pairs, np.array_split(chunk, 120)) # å°†æ•°æ®å—æ‹†åˆ†å¹¶ä½¿ç”¨gen_pairså‡½æ•°ç”Ÿæˆæ•°æ®å¯¹ pair_chunks = np.concatenate(pair_chunks, axis=0) # å°†æ•°æ®å—è¿æ¥æˆä¸€ä¸ªæ•°ç»„ all_pair_chunks.append(pair_chunks) # å°†æ•°æ®å—æ·»åŠ åˆ°æ•°æ®å—åˆ—è¡¨ä¸­ if DEBUG and idx &gt;= 3: # å¦‚æœå¤„äºDEBUGæ¨¡å¼ä¸”ç´¢å¼•å¤§äºç­‰äº3æ—¶ï¼Œè·³å‡ºå¾ªç¯ break del chunk, pair_chunks # åˆ é™¤æ•°æ®å—å’Œæ•°æ®å¯¹ gc.collect() # å›æ”¶å†…å­˜ df = pd.DataFrame(data=np.concatenate(all_pair_chunks), columns=[&#x27;aid1&#x27;, &#x27;aid2&#x27;]) # åˆ›å»ºåŒ…å«æ‰€æœ‰æ•°æ®å¯¹çš„æ•°æ®æ¡† top_aids = df.groupby(&#x27;aid1&#x27;).apply(lambda df: Counter(df.aid2).most_common(40)).to_dict() # æ ¹æ®&#x27;aid1&#x27;åˆ†ç»„ï¼Œå¹¶è·å–å‰40ä¸ªæœ€å¸¸è§çš„&#x27;aid2&#x27;å€¼ return top_aids # è¿”å›æ¯ä¸ª&#x27;aid1&#x27;å¯¹åº”çš„å‰40ä¸ªæœ€å¸¸è§çš„&#x27;aid2&#x27;å€¼çš„å­—å…¸# top_aidsçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š# &#123;aid1: [(aid2, count), (aid2, count), ...], aid1: [(aid2, count), (aid2, count), ...], ...&#125; é‡æ’åä¸æœ€ç»ˆé€‰æ‹© 123456789101112131415161718192021222324import itertoolsdef suggest_aids(df): # é€‰æ‹©ç”¨æˆ·æœ€åæ“ä½œçš„20ä¸ªå•†å“id aids = df.tail(20).aid.tolist() if len(aids) &gt;= 20: return aids # æœ€åçš„è¡Œä¸ºä¸å¤Ÿ20ä¸ª,å°±ä»top_40_cntä¸­æ‰¾åˆ°ä¸ç”¨æˆ·æœ€åè¡Œä¸ºæœ€ç›¸å…³çš„å•†å“ aids = set(aids) new_aids = Counter() for aid in aids: new_aids.update(top_40_cnt.get(aid, Counter())) # é€‰å–å‡ºç°æ¬¡æ•°æœ€å¤šçš„å•†å“ top_aids2 = [aid2 for aid2, cnt in new_aids.most_common(20) if aid2 not in aids] return list(aids) + top_aids2[:20 - len(aids)]pred_df = test_df.sort_values([&quot;session&quot;, &quot;type&quot;, &quot;ts&quot;]).groupby([&quot;session&quot;]).apply( lambda x: suggest_aids(x))################### BELOW IS CODE ADDED BY CHRIS# å°†click, order, cartçš„é¢„æµ‹ç»“æœåˆ†å¼€å¤„ç† How To Build a GBT Ranker Model ğŸ† Training an XGBoost Ranker on the GPU ğŸ”¥ğŸ”¥ğŸ”¥ ğŸ’¡ [polars] Proof of concept: LGBM RankerğŸ§ªğŸ§ªğŸ§ª How To Build a GBT Ranker Model Step 1 - Generate Candidates ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•ç”Ÿæˆå€™é€‰å•†å“åˆ—è¡¨ æ¯è¡Œä¸€ä¸ªsessionä¸€ä¸ªaid,æ•°æ®å†…å®¹å¦‚ä¸‹ session (i.e. user) aid (i.e. item) user features item features user-item interaction features click target (i.e 0 or 1) cart target (i.e. 0 or 1) order target (i.e. 0 or 1) Step 2 - ReRank and Choose 20 ä½¿ç”¨GBTæ¨¡å‹æœ€ç»ˆçš„20ä¸ªå•†å“è¿›è¡Œé¢„æµ‹ Step 1 æ„å»ºæ¨¡å‹çš„æ•°æ®é›†:è®­ç»ƒæ•°æ®æ˜¯å…¬å¼€æ•°æ®çš„å‰ä¸‰å‘¨,éªŒè¯æ•°æ®æ˜¯ç¬¬å››å‘¨. éªŒè¯æ•°æ®åˆè¢«åˆ†ä¸ºvalid A å’Œvalid B, Bæ˜¯ground truth å¯¹æ¯ä¸ªsessionå…ˆç»™å‡º50ä¸ªå€™é€‰å•†å“id,ç„¶åå¾—åˆ°äº†ä¸€ä¸ª(number_of_session * 50, 2)å¤§å°çš„dataframe,ç±»ä¼¼: | session | aid | | â€” | â€” | | 1 | 1234 | | 1 | 9841 | | 2 | 5845 | | 2 | 8984 | Setp 2 åˆ›å»ºå•†å“ç‰¹å¾(item feature),ä½¿ç”¨è®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®A 123item_features = train.groupby(&#x27;aid&#x27;).agg(&#123;&#x27;aid&#x27;:&#x27;count&#x27;,&#x27;session&#x27;:&#x27;nunique&#x27;,&#x27;type&#x27;:&#x27;mean&#x27;&#125;)item_features.columns = [&#x27;item_item_count&#x27;,&#x27;item_user_count&#x27;,&#x27;item_buy_ratio&#x27;]# åˆ†åˆ«æ˜¯å•†å“-å•†å“çš„å…³ç³»,å•†å“-ç”¨æˆ·çš„ç«çƒ­åº¦,å•†å“-è´­ä¹°ç³»æ•°æ¦‚ç‡ Setp 3 åˆ›å»ºç”¨æˆ·ç‰¹å¾(user feature),ä½¿ç”¨éªŒè¯æ•°æ®A 123user_features = train.groupby(&#x27;session&#x27;).agg(&#123;&#x27;session&#x27;:&#x27;count&#x27;,&#x27;aid&#x27;:&#x27;nunique&#x27;,&#x27;type&#x27;:&#x27;mean&#x27;&#125;)user_features.columns = [&#x27;user_user_count&#x27;,&#x27;user_item_count&#x27;,&#x27;user_buy_ratio&#x27;]# åˆ†åˆ«æ˜¯ç”¨æˆ·-ç”¨æˆ·çš„å…³ç³»,ç”¨æˆ·-å•†å“çš„è´­ä¹°äº†,ç”¨æˆ·-è´­ä¹°ç³»æ•°æ¦‚ç‡ Setp 4 åˆ›å»ºç”¨æˆ·-å•†å“äº¤äº’ç‰¹å¾(user-item interaction feature),ä½¿ç”¨éªŒè¯æ•°æ®A æ€è·¯å¾ˆå¤šæ²¡æœ‰å…·ä½“ç»™å‡º.ä¾‹å¦‚: åˆ›å»ºç”¨æˆ·-å•†å“ç‚¹å‡»äº¤äº’ç‰¹å¾ | session | aid | item_click| | â€” | â€” | â€” | Setp 5 å°†ç‰¹å¾æ·»åŠ åˆ°candidate dataframeä¸­ 12candidates = candidates.merge(item_features, left_on=&#x27;aid&#x27;, right_index=True, how=&#x27;left&#x27;).fillna(-1)candidates = candidates.merge(user_features, left_on=&#x27;session&#x27;, right_index=True, how=&#x27;left&#x27;).fillna(-1) ç„¶åcandidate dataframeç±»ä¼¼: session aid item_feat1 item_feat2 user_feat1 user_feat2 1 1234 1 2 3 4 1 9841 5 6 7 8 2 5845 9 10 11 12 2 8984 13 14 15 16 Setp 6 æ„å»ºground truth,ä¾‹å¦‚test_labels.parquet: | session | type | ground_truth | | â€” | â€” | â€” | | 1 | carts | [5456,4545,98741,2355] | | 2 | carts | [1257,8653,2547] | ç„¶åå°†å…¶è½¬æ¢ä¸ºå¦‚ä¸‹: session aid cart 1 5456 1 1 4545 1 1 98741 1 ç„¶åå°†å…¶åˆå¹¶åˆ°candidate dataframeä¸­ 1candidates = candidates.merge(cart_target,on=[&#x27;user&#x27;,&#x27;item&#x27;],how=&#x27;left&#x27;).fillna(0) candidates dataframeç±»ä¼¼: session aid item_feat1 item_feat2 user_feat1 user_feat2 cart 1 1234 1 2 3 4 0 1 9841 5 6 7 8 1 2 5845 9 10 11 12 0 2 8984 13 14 15 16 1 Setp 7 è®­ç»ƒ,ä¸é€‚ç”¨userå’Œaidåˆ—: 12345678910111213141516171819202122232425import xgboost as xgb # å¯¼å…¥XGBooståº“from sklearn.model_selection import GroupKFold # ä»sklearnåº“ä¸­å¯¼å…¥GroupKFoldæ¨¡å—skf = GroupKFold(n_splits=5) # ä½¿ç”¨GroupKFoldæ–¹æ³•åˆ’åˆ†æ•°æ®é›†ä¸º5æŠ˜äº¤å‰éªŒè¯# groupså‚æ•°çš„ä½œç”¨æ˜¯æŒ‡å®šç”¨äºåˆ†ç»„çš„ç‰¹å¾åˆ—ã€‚åœ¨GroupKFoldäº¤å‰éªŒè¯ä¸­ï¼Œé€šè¿‡æŒ‡å®šgroupså‚æ•°ï¼Œå¯ä»¥ç¡®ä¿åœ¨äº¤å‰éªŒè¯è¿‡ç¨‹ä¸­ï¼ŒåŒä¸€ç»„å†…çš„æ•°æ®æ ·æœ¬ä¸ä¼šåŒæ—¶å‡ºç°åœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸­ï¼Œä»¥é¿å…æ•°æ®æ³„éœ²å’Œæé«˜æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚åœ¨è¿™é‡Œï¼Œcandidates[&#x27;user&#x27;]åˆ—è¢«ç”¨ä½œåˆ†ç»„çš„ç‰¹å¾åˆ—ï¼Œä»¥ç¡®ä¿æ¯ä¸ªç”¨æˆ·çš„æ•°æ®åœ¨äº¤å‰éªŒè¯æ—¶èƒ½å¤Ÿä¿æŒç‹¬ç«‹ã€‚for fold, (train_idx, valid_idx) in enumerate(skf.split(candidates, candidates[&#x27;click&#x27;], groups=candidates[&#x27;user&#x27;])): # éå†æ¯ä¸€ä¸ªäº¤å‰éªŒè¯æŠ˜æ•° X_train = candidates.loc[train_idx, FEATURES] # è·å–è®­ç»ƒé›†ç‰¹å¾æ•°æ® y_train = candidates.loc[train_idx, &#x27;click&#x27;] # è·å–è®­ç»ƒé›†æ ‡ç­¾æ•°æ® X_valid = candidates.loc[valid_idx, FEATURES] # è·å–éªŒè¯é›†ç‰¹å¾æ•°æ® y_valid = candidates.loc[valid_idx, &#x27;click&#x27;] # è·å–éªŒè¯é›†æ ‡ç­¾æ•°æ® # å¦‚æœæœ‰50ä¸ªå€™é€‰é¡¹ï¼Œåˆ™ä½¿ç”¨50ä¸ªä½œä¸ºåˆ†ç»„ä¿¡æ¯# åˆ›å»ºä¸€ä¸ªXGBoostä¸­çš„DMatrixå¯¹è±¡ï¼Œç”¨äºå­˜å‚¨è®­ç»ƒé›†çš„ç‰¹å¾æ•°æ®ã€æ ‡ç­¾æ•°æ®ä»¥åŠåˆ†ç»„ä¿¡æ¯ã€‚# åˆ›å»ºDMatrixå¯¹è±¡ï¼Œå¯ä»¥ä½¿è®­ç»ƒæ•°æ®æ›´é«˜æ•ˆåœ°ä¼ é€’ç»™XGBoostæ¨¡å‹ï¼Œå¹¶ä¸”èƒ½å¤Ÿåˆ©ç”¨åˆ†ç»„ä¿¡æ¯ä¼˜åŒ–æ¨¡å‹çš„å­¦ä¹ è¿‡ç¨‹ã€‚ dtrain = xgb.DMatrix(X_train, y_train, group=[50] * (len(train_idx)//50) ) # åˆ›å»ºè®­ç»ƒé›†çš„DMatrix dvalid = xgb.DMatrix(X_valid, y_valid, group=[50] * (len(valid_idx)//50) ) # åˆ›å»ºéªŒè¯é›†çš„DMatrix xgb_parms = &#123;&#x27;objective&#x27;:&#x27;rank:pairwise&#x27;, &#x27;tree_method&#x27;:&#x27;gpu_hist&#x27;&#125; # è®¾ç½®XGBoostçš„å‚æ•° model = xgb.train(xgb_parms, dtrain=dtrain, evals=[(dtrain,&#x27;train&#x27;),(dvalid,&#x27;valid&#x27;)], num_boost_round=1000, verbose_eval=100) # è®­ç»ƒXGBoostæ¨¡å‹ model.save_model(f&#x27;XGB_fold&#123;fold&#125;_click.xgb&#x27;) # ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹ Setp 8 æ¨ç†:ä¸ºäº†è¿›è¡Œæ¨ç†ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å€™é€‰æ•°æ®å¸§ï¼Œä½†è¿™æ¬¡æ˜¯æ ¹æ®Kaggleçš„æµ‹è¯•æ•°æ®ã€‚ç„¶åï¼Œæˆ‘ä»¬ä»Kaggleè®­ç»ƒçš„æ‰€æœ‰4å‘¨åŠ ä¸ŠKaggleæµ‹è¯•çš„1å‘¨ä¸­åˆ¶ä½œé¡¹ç›®ç‰¹å¾(item feature)ã€‚æˆ‘ä»¬é€šè¿‡Kaggleæµ‹è¯•åˆ¶ä½œç”¨æˆ·ç‰¹å¾(user feature)ã€‚æˆ‘ä»¬å°†è¿™äº›ç‰¹å¾åˆå¹¶åˆ°æˆ‘ä»¬çš„å€™é€‰è€…ä¸­ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¿å­˜çš„æ¨¡å‹æ¥æ¨æ–­ç‚¹å‡»é‡çš„é¢„æµ‹ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡å¯¹é¢„æµ‹è¿›è¡Œæ’åºå¹¶é€‰æ‹©20ä¸ªã€‚ 1234567891011121314151617181920212223preds = np.zeros(len(test_candidates)) # åˆå§‹åŒ–ä¸€ä¸ªå…¨é›¶æ•°ç»„ç”¨äºå­˜å‚¨é¢„æµ‹å€¼for fold in range(5): # éå†5ä¸ªäº¤å‰éªŒè¯æŠ˜æ•° model = xgb.Booster() # åˆ›å»ºä¸€ä¸ªXGBoostæ¨¡å‹ model.load_model(f&#x27;XGB_fold&#123;fold&#125;_click.xgb&#x27;) # è½½å…¥è®­ç»ƒå¥½çš„XGBoostæ¨¡å‹ model.set_param(&#123;&#x27;predictor&#x27;: &#x27;gpu_predictor&#x27;&#125;) # è®¾ç½®æ¨¡å‹å‚æ•°ä¸ºGPUåŠ é€Ÿé¢„æµ‹ dtest = xgb.DMatrix(data=test_candidates[FEATURES]) # åˆ›å»ºæµ‹è¯•é›†çš„DMatrixå¯¹è±¡# ç»“æœæ˜¯æ¯ä¸ªå€™é€‰å€¼çš„é¢„æµ‹å¾—åˆ†ï¼ˆæ¦‚ç‡ï¼‰ preds += model.predict(dtest)/5 # å¯¹æµ‹è¯•é›†è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†ç»“æœç´¯åŠ æ±‚å¹³å‡predictions = test_candidates[[&#x27;user&#x27;,&#x27;item&#x27;]].copy() # å¤åˆ¶æµ‹è¯•é›†çš„&#x27;user&#x27;å’Œ&#x27;item&#x27;åˆ—ä½œä¸ºé¢„æµ‹ç»“æœçš„åŸºç¡€predictions[&#x27;pred&#x27;] = preds # å°†é¢„æµ‹ç»“æœæ·»åŠ åˆ°predictionsä¸­predictions = predictions.sort_values([&#x27;user&#x27;,&#x27;pred&#x27;], ascending=[True,False]).reset_index(drop=True) # å¯¹é¢„æµ‹ç»“æœæŒ‰&#x27;user&#x27;å’Œ&#x27;pred&#x27;è¿›è¡Œæ’åºï¼Œå¹¶é‡ç½®ç´¢å¼•predictions[&#x27;n&#x27;] = predictions.groupby(&#x27;user&#x27;).item.cumcount().astype(&#x27;int8&#x27;) # æ ¹æ®&#x27;user&#x27;åˆ†ç»„åï¼Œè®¡ç®—æ¯ä¸ªç”¨æˆ·çš„æ¡ç›®æ•°é‡ä½œä¸ºåºå·predictions = predictions.loc[predictions.n&lt;20] # ä¿ç•™æ¯ä¸ªç”¨æˆ·å‰20ä¸ªé¢„æµ‹ç»“æœsub = predictions.groupby(&#x27;user&#x27;).item.apply(list) # æ ¹æ®ç”¨æˆ·åˆ†ç»„ï¼Œå°†é¢„æµ‹ç»“æœè½¬æ¢ä¸ºåˆ—è¡¨sub = sub.to_frame().reset_index() # å°†é¢„æµ‹ç»“æœè½¬æ¢ä¸ºDataFrameæ ¼å¼sub.item = sub.item.apply(lambda x: &quot; &quot;.join(map(str,x))) # å°†åˆ—è¡¨ä¸­çš„æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²sub.columns = [&#x27;session_type&#x27;,&#x27;labels&#x27;] # é‡å‘½åDataFrameçš„åˆ—åsub.session_type = sub.session_type.astype(&#x27;str&#x27;)+ &#x27;_clicks&#x27; # ä¿®æ”¹&#x27;session_type&#x27;åˆ—çš„æ•°æ®ç±»å‹ ğŸ’¡ Word2Vec How-to [training and submission]ğŸš€ğŸš€ğŸš€ ğŸ’¡ Word2Vec How-to [training and submission]ğŸš€ğŸš€ğŸš€ A session where one action follows another action is very much like a sentence! ç±»ä¼¼åœ°ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³åœ¨ä¸€ä¸ªç´§å¯†çš„åºåˆ—ä¸­å‡ºç°çš„å•†å“idå¯èƒ½æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ã€‚ æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨word2vecæ¨¡å‹æ¥è®­ç»ƒå•†å“idçš„åµŒå…¥å‘é‡ï¼Œç„¶åä½¿ç”¨è¿™äº›å‘é‡æ¥è®¡ç®—å•†å“idä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚ è¿™æ ·ç»™å®šä¸€ä¸ªå•†å“çš„idå°±å¯ä»¥æ‰¾åˆ°å’Œå¥¹ç±»ä¼¼çš„å•†å“idã€‚ ä½¿ç”¨word2vecç›´æ¥è·å–20ä¸ªå•†å“ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758# å°†ç”¨æˆ·çš„æ‰€æœ‰è¡Œä¸ºçš„å•†å“idè½¬æ¢ä¸ºä¸€ä¸ªå¥å­,[&#x27;aid1&#x27;,&#x27;aid2&#x27;,&#x27;aid3&#x27;,&#x27;aid4&#x27;]sentences_df = pl.concat([train, test]).groupby(&#x27;session&#x27;).agg( pl.col(&#x27;aid&#x27;).alias(&#x27;sentence&#x27;))sentences = sentences_df[&#x27;sentence&#x27;].to_list()# è®­ç»ƒword2vecæ¨¡å‹w2vec = Word2Vec(sentences=sentences, vector_size=32, min_count=1, workers=4)# æ„å»ºaidåˆ°ç´¢å¼•çš„æ˜ å°„å­—å…¸aid2idx = &#123;aid: i for i, aid in enumerate(w2vec. index_to_key)&#125; # åˆ›å»ºä¸€ä¸ªAnnoyç´¢å¼•å¯¹è±¡ï¼ŒæŒ‡å®šå‘é‡ç»´åº¦ä¸º32ï¼Œè·ç¦»åº¦é‡æ–¹å¼ä¸ºæ¬§æ°è·ç¦»index = AnnoyIndex(32, &#x27;euclidean&#x27;) # éå†aid2idxå­—å…¸for aid, idx in aid2idx.items(): index.add_item(idx, w2vec.wv.vectors[idx]) # å°†å‘é‡æ·»åŠ åˆ°Annoyç´¢å¼•å¯¹è±¡ä¸­ index.build(10) # æ„å»ºAnnoyç´¢å¼•ï¼Œå…¶ä¸­10è¡¨ç¤ºæ„å»ºç´¢å¼•æ—¶è¦ä½¿ç”¨çš„æ ‘çš„æ•°é‡# indexå­˜å‚¨çš„æ˜¯ ç´¢å¼•-&gt;å‘é‡# aid2idxå­˜å‚¨çš„æ˜¯ å•†å“id-&gt;ç´¢å¼•sample_sub = pd.read_csv(&#x27;../input/otto-recommender-system//sample_submission.csv&#x27;) # ä»CSVæ–‡ä»¶ä¸­è¯»å–sample_subæ•°æ®&#x27;&#x27;&#x27;é€‰æ‹©æœ€è¿‘çš„20ä¸ªå•†å“&#x27;&#x27;&#x27;# ä»æµ‹è¯•é›†ä¸­è·å–æ¯ä¸ªç”¨æˆ·çš„AIDåˆ—è¡¨å’Œç±»å‹åˆ—è¡¨test_session_AIDs = test.to_pandas().reset_index(drop=True).groupby(&#x27;session&#x27;)[&#x27;aid&#x27;].apply(list)test_session_types = test.to_pandas().reset_index(drop=True).groupby(&#x27;session&#x27;)[&#x27;type&#x27;].apply(list)labels = [] # åˆå§‹åŒ–ä¸€ä¸ªç©ºåˆ—è¡¨ç”¨äºå­˜å‚¨æ ‡ç­¾ç»“æœtype_weight_multipliers = &#123;0: 1, 1: 6, 2: 3&#125; # å®šä¹‰ç±»å‹æƒé‡for AIDs, types in zip(test_session_AIDs, test_session_types): # éå†æµ‹è¯•é›†ä¸­çš„æ¯ä¸ªç”¨æˆ·çš„AIDå’Œç±»å‹ if len(AIDs) &gt;= 20: # å¦‚æœAIDæ•°é‡å¤§äºç­‰äº20 # å¦‚æœæˆ‘ä»¬æœ‰è¶³å¤Ÿçš„AIDï¼ˆå¤§äºç­‰äº20ï¼‰æˆ‘ä»¬ä¸éœ€è¦æŸ¥æ‰¾å€™é€‰é¡¹ï¼æˆ‘ä»¬åªéœ€ä½¿ç”¨æ—§çš„é€»è¾‘ weights=np.logspace(0.1,1,len(AIDs),base=2, endpoint=True)-1 # æ ¹æ®AIDæ•°é‡ç”Ÿæˆå¯¹åº”çš„æƒé‡ aids_temp=defaultdict(lambda: 0) # åˆå§‹åŒ–ä¸€ä¸ªé»˜è®¤å€¼ä¸º0çš„å­—å…¸ for aid,w,t in zip(AIDs,weights,types): # éå†AIDï¼Œæƒé‡å’Œç±»å‹ aids_temp[aid]+= w * type_weight_multipliers[t] # æ ¹æ®AIDå’Œç±»å‹è®¡ç®—åŠ æƒå¾—åˆ† sorted_aids=[k for k, v in sorted(aids_temp.items(), key=lambda item: -item[1])] # æŒ‰ç…§åŠ æƒå¾—åˆ†å¯¹AIDè¿›è¡Œæ’åº labels.append(sorted_aids[:20]) # å°†å‰20ä¸ªAIDæ·»åŠ åˆ°æ ‡ç­¾ä¸­ else: # å¦‚æœAIDæ•°é‡å°äº20 # è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰20ä¸ªAIDè¦è¾“å‡º-æˆ‘ä»¬å°†ä½¿ç”¨word2vecåµŒå…¥æ¥ç”Ÿæˆå€™é€‰é¡¹ï¼ AIDs = list(dict.fromkeys(AIDs[::-1])) # ç§»é™¤é‡å¤é¡¹å¹¶åè½¬AIDåˆ—è¡¨ # è·å–æ—¶é—´æœ€è¿‘çš„AID most_recent_aid = AIDs[0] # most_recent_aidæ˜¯å•†å“id,aid2idx[most_recent_aid]æ‹¿åˆ°å¯¹åº”çš„ç´¢å¼• # index.get_nns_by_item(aid2idx[most_recent_aid], 21)æ ¹æ®ç´¢å¼•è·å–å‘é‡å¹¶è®¡ç®—æœ€è¿‘çš„21ä¸ªå•†å“ # å¯»æ‰¾ä¸€äº›é‚»å±… nns = [w2vec.wv.index_to_key[i] for i in index.get_nns_by_item(aid2idx[most_recent_aid], 21)[1:]] # ä½¿ç”¨Annoyç´¢å¼•æ‰¾åˆ°æœ€è¿‘é‚»çš„AID labels.append((AIDs+nns)[:20]) # å°†AIDå’Œé‚»å±…çš„AIDç»„åˆï¼Œå–å‰20ä¸ªä½œä¸ºæ ‡ç­¾ ä½¿ç”¨word2vec è·å–å€™é€‰å•†å“ å’Œcovisiation matrixç±»ä¼¼,ä½¿ç”¨word2vecå¯ä»¥è·å–æœ€ç›¸å…³çš„å•†å“ æ•°æ®ä¸º: session aid type 1 10 0 1 20 0 2 20 1 2 30 0 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061å‡å¦‚é€šè¿‡ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å·²ç»ç±»ä¼¼çš„è·å–åˆ°äº†æœ€ç›¸å…³çš„å•†å“| session | aid || --- | --- || 1 | 11 | | 1 | 20 || 2 | 25 | | 2 | 6 | é‚£ä¹ˆä¸‹é¢è¿˜æœ‰å‡ ä¸ªæ­¥éª¤1. Step 1: Add ordering information to our candidates.word2vecæ¨¡å‹æ˜¯æŒ‰ç…§ç›¸ä¼¼åº¦è¯„åˆ†æ¥æ’åºçš„,æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€äº›æ’åºä¿¡æ¯| session | aid | rank || --- | --- | --- || 1 | 11 | 1 || 1 | 20 | 2 || 2 | 25 | 1 || 2 | 6 | 2 |2. å°†è¿™äº›ä¿¡æ¯åˆå¹¶åˆ°candidatesä¸­| session | aid | rank | type || --- | --- | --- | --- || 1 | 11 | 1 | null || 1 | 20 | 2 | 0 || 1 | 10 | null | 0 || 2 | 25 | 1 | null || 2 | 6 | 2 | null || 2 | 20 | null | 1 || 2 | 30 | null | 0 |3. ä½¿ç”¨Rankeræ¨¡å‹è¿›è¡Œé¢„æµ‹,### ğŸ’¡ [2 methods] How-to ensemble predictions ğŸ…ğŸ…ğŸ…[ğŸ’¡ [2 methods] How-to ensemble predictions ğŸ…ğŸ…ğŸ…](https://www.kaggle.com/code/radek1/2-methods-how-to-ensemble-predictions)å¯¹é¢„æµ‹ç»“æœé›†æˆ:- æŠ•ç¥¨é›†æˆ(voting ensemble)- åŠ æƒæŠ•ç¥¨é›†æˆ(voting ensemble with weights),å¯¹å¥½ç»“æœæœ‰æ›´å¤§çš„æƒé‡```pythondef read_sub(path, weight=1): # å®šä¹‰ä¸€ä¸ªå‡½æ•°ç”¨äºåŠ è½½å’Œé¢„å¤„ç†æäº¤ç»“æœ &#x27;&#x27;&#x27;a helper function for loading and preprocessing submissions&#x27;&#x27;&#x27; return ( pl.read_csv(path) # ä»è·¯å¾„ä¸­è¯»å–CSVæ–‡ä»¶ .with_column(pl.col(&#x27;labels&#x27;).str.split(by=&#x27; &#x27;)) # å°†&#x27;labels&#x27;åˆ—æŒ‰ç©ºæ ¼æ‹†åˆ†ä¸ºåˆ—è¡¨ .with_column(pl.lit(weight).alias(&#x27;vote&#x27;)) # æ–°å¢åä¸º&#x27;vote&#x27;çš„åˆ—ï¼Œå…¶ä¸­å¡«å……æƒé‡å€¼ .explode(&#x27;labels&#x27;) # å±•å¼€&#x27;labels&#x27;åˆ—ä¸­çš„åˆ—è¡¨ .rename(&#123;&#x27;labels&#x27;: &#x27;aid&#x27;&#125;) # é‡å‘½å&#x27;labels&#x27;ä¸º&#x27;aid&#x27; .with_column(pl.col(&#x27;aid&#x27;).cast(pl.UInt32)) # å°†&#x27;aid&#x27;åˆ—è½¬æ¢ä¸ºUInt32ç±»å‹ .with_column(pl.col(&#x27;vote&#x27;).cast(pl.UInt8)) # å°†&#x27;vote&#x27;åˆ—è½¬æ¢ä¸ºUInt8ç±»å‹ )# æœ‰æ— æƒé‡subs = [read_sub(path) for path in paths]subs = [read_sub(path, weight) for path, weight in zip(paths, [1, 0.55, 0.55])] è¯»å–åçš„æ•°æ®ä¸º: session_type aid vote 1_clicks 1234 1 1_clicks 9841 1 2_clicks 5845 1 ç”±äºå†…å­˜é™åˆ¶,åªèƒ½è¿›è¡Œjoin: 12subs = subs[0].join(subs[1], how=&#x27;outer&#x27;, on=[&#x27;session_type&#x27;, &#x27;aid&#x27;]).join(subs[2], how=&#x27;outer&#x27;, on=[&#x27;session_type&#x27;, &#x27;aid&#x27;], suffix=&#x27;_right2&#x27;)subs.head() åˆå¹¶åçš„æ•°æ® session_type aid vote vote_right vote_right2 1_clicks 1234 1 1 1 1_clicks 9841 1 null 1 2_clicks 5845 1 1 null 2_clicks 8984 1 null null ç”¨0å¡«å……nullå€¼,ç„¶åå¯¹voteæ±‚å’Œ,æ’åº: 1234567subs = (subs .fill_null(0) .with_column((pl.col(&#x27;vote&#x27;) + pl.col(&#x27;vote_right&#x27;) + pl.col(&#x27;vote_right2&#x27;)).alias(&#x27;vote_sum&#x27;)) .drop([&#x27;vote&#x27;, &#x27;vote_right&#x27;, &#x27;vote_right2&#x27;]) .sort(by=&#x27;vote_sum&#x27;) .reverse()) æ•°æ®å¦‚ä¸‹: session_type aid vote_sum 1_clicks 1234 3 2_clicks 5845 2 1_clicks 9841 2 ç„¶åå¯¹æ¯ä¸ªç±»å‹é€‰æ‹©å‰20ä¸ªå•†å“,ç„¶åèšåˆæˆæ•°ç»„: 12345preds = subs.groupby(&#x27;session_type&#x27;).agg([ pl.col(&#x27;aid&#x27;).head(20).alias(&#x27;labels&#x27;)])preds = preds.with_column(pl.col(&#x27;labels&#x27;).apply(lambda lst: &#x27; &#x27;.join([str(aid) for aid in lst]))) ğŸ’¡Matrix Factorization [PyTorch+Merlin Dataloader] ä¸word2vecç±»ä¼¼,ä½¿ç”¨çŸ©é˜µåˆ†è§£æ¥è·å–å•†å“çš„åµŒå…¥å‘é‡ ğŸ’¡Matrix Factorization with GPU [PyTorch+Merlin Dataloader] ä½¿ç”¨Pytorchçš„Embeddingå±‚æ¥è®­ç»ƒå•†å“çš„åµŒå…¥å‘é‡,ç„¶åä½¿ç”¨è¿™äº›å‘é‡æ¥è®¡ç®—å•†å“idä¹‹é—´çš„ç›¸ä¼¼åº¦. 123456# æ„å»ºaid_pairstrain_pairs = cudf.concat([train, test])[[&#x27;session&#x27;, &#x27;aid&#x27;]]del train, testtrain_pairs[&#x27;aid_next&#x27;] = train_pairs.groupby(&#x27;session&#x27;).aid.shift(-1)train_pairs = train_pairs[[&#x27;aid&#x27;, &#x27;aid_next&#x27;]].dropna().reset_index(drop=True) aid aid_next 1 2 2 3 3 4 123456789101112131415161718192021222324252627282930313233343536import torchfrom torch import nn# WordEmbeddingæ¨¡å‹class MatrixFactorization(nn.Module): def __init__(self, n_aids, n_factors): super().__init__() self.aid_factors = nn.Embedding(n_aids, n_factors, sparse=True) def forward(self, aid1, aid2): aid1 = self.aid_factors(aid1) aid2 = self.aid_factors(aid2) return (aid1 * aid2).sum(dim=1)# è¯„ä»·æŒ‡æ ‡class AverageMeter(object): &quot;&quot;&quot;Computes and stores the average and current value&quot;&quot;&quot; def __init__(self, name, fmt=&#x27;:f&#x27;): self.name = name self.fmt = fmt self.reset() def reset(self): self.val = 0 self.avg = 0 self.sum = 0 self.count = 0 def update(self, val, n=1): self.val = val self.sum += val * n self.count += n self.avg = self.sum / self.count def __str__(self): fmtstr = &#x27;&#123;name&#125; &#123;val&#x27; + self.fmt + &#x27;&#125; (&#123;avg&#x27; + self.fmt + &#x27;&#125;)&#x27; return fmtstr.format(**self.__dict__) 12345678910111213141516171819202122232425262728293031323334# è®­ç»ƒmodel.to(&#x27;cuda&#x27;)for epoch in range(num_epochs): for batch, _ in train_dl_merlin: model.train() losses = AverageMeter(&#x27;Loss&#x27;, &#x27;:.4e&#x27;) aid1, aid2 = batch[&#x27;aid&#x27;], batch[&#x27;aid_next&#x27;] aid1 = aid1.to(&#x27;cuda&#x27;) aid2 = aid2.to(&#x27;cuda&#x27;) output_pos = model(aid1, aid2) output_neg = model(aid1, aid2[torch.randperm(aid2.shape[0])]) output = torch.cat([output_pos, output_neg]) targets = torch.cat([torch.ones_like(output_pos), torch.zeros_like(output_pos)]) loss = criterion(output, targets) losses.update(loss.item()) optimizer.zero_grad() loss.backward() optimizer.step() model.eval() with torch.no_grad(): accuracy = AverageMeter(&#x27;accuracy&#x27;) for batch, _ in valid_dl_merlin: aid1, aid2 = batch[&#x27;aid&#x27;], batch[&#x27;aid_next&#x27;] output_pos = model(aid1, aid2) output_neg = model(aid1, aid2[torch.randperm(aid2.shape[0])]) accuracy_batch = torch.cat([output_pos.sigmoid() &gt; 0.5, output_neg.sigmoid() &lt; 0.5]).float().mean() accuracy.update(accuracy_batch, aid1.shape[0]) print(f&#x27;&#123;epoch+1:02d&#125;: * TrainLoss &#123;losses.avg:.3f&#125; * Accuracy &#123;accuracy.avg:.3f&#125;&#x27;) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455# è·å–åµŒå…¥å¹¶è®¡ç®—ç›¸ä¼¼åº¦embeddings = model.aid_factors.weight.detach().cpu().numpy()knn = NearestNeighbors(n_neighbors=21, metric=&#x27;euclidean&#x27;)knn.fit(embeddings)_, aid_nns = knn.kneighbors(embeddings)sample_sub = pd.read_csv(&#x27;../input/otto-recommender-system//sample_submission.csv&#x27;)test = cudf.read_parquet(&#x27;../input/otto-full-optimized-memory-footprint/test.parquet&#x27;)session_types = [&#x27;clicks&#x27;, &#x27;carts&#x27;, &#x27;orders&#x27;]gr = test.reset_index(drop=True).to_pandas().groupby(&#x27;session&#x27;)test_session_AIDs = gr[&#x27;aid&#x27;].apply(list)test_session_types = gr[&#x27;type&#x27;].apply(list)labels = []type_weight_multipliers = &#123;0: 1, 1: 6, 2: 3&#125;for AIDs, types in zip(test_session_AIDs, test_session_types): if len(AIDs) &gt;= 20: # if we have enough aids (over equals 20) we don&#x27;t need to look for candidates! we just use the old logic weights=np.logspace(0.1,1,len(AIDs),base=2, endpoint=True)-1 aids_temp=defaultdict(lambda: 0) for aid,w,t in zip(AIDs,weights,types): aids_temp[aid]+= w * type_weight_multipliers[t] sorted_aids=[k for k, v in sorted(aids_temp.items(), key=lambda item: -item[1])] labels.append(sorted_aids[:20]) else: # here we don&#x27;t have 20 aids to output -- we will use approximate nearest neighbor search and our embeddings # to generate candidates! AIDs = list(dict.fromkeys(AIDs[::-1])) # let&#x27;s grab the most recent aid most_recent_aid = AIDs[0] # and look for some neighbors! nns = list(aid_nns[most_recent_aid]) labels.append((AIDs+nns)[:20])labels_as_strings = [&#x27; &#x27;.join([str(l) for l in lls]) for lls in labels]predictions = pd.DataFrame(data=&#123;&#x27;session_type&#x27;: test_session_AIDs.index, &#x27;labels&#x27;: labels_as_strings&#125;)prediction_dfs = []for st in session_types: modified_predictions = predictions.copy() modified_predictions.session_type = modified_predictions.session_type.astype(&#x27;str&#x27;) + f&#x27;_&#123;st&#125;&#x27; prediction_dfs.append(modified_predictions)submission = pd.concat(prediction_dfs).reset_index(drop=True)submission.to_csv(&#x27;submission.csv&#x27;, index=False) 226th (?!) Place Solution &amp; Two-cents from a First-timer 226th (?!) Place Solution &amp; Two-cents from a First-timer Item Co-visitation Matrix entirely based one Chrisâ€™ notebook Order matrix: Click/cart/order to click/cart/order with type weighting Buy2buy matrix: Cart/order to cart/order Click matrix: click/cart/order to clicks with time weighting Feature Feneration Item features (for each aid) Count of events (click/cart/order) Sum of event weight Quarter of day (QoD) with most events (0-3) Day of week (DoW) with most events (0-6) User features (for each session) Count of events (click/cart/order) and interacted items (aid) Sum of event weight QoD with most events (0-3) DoW with most events (0-6) Number of days with events Days from first to last events User-item features (for each session-aid pair) Count of events (click/cart/order) and interacted items (aid) Sum of event weight QoD with most events in both categorical (0-3) and one-hot encoded (0/1 for each) format DoW with most events in both categorical (0-6) and one-hot encoded (0/1 for each) format last_n = item_chronological_rank / user_total_event_count last_ts = (user_item_last_timestamp - start_week_timestamp) / (end_week_timestamp - start_week_timestamp) Candidate Selection partly based on Chrisâ€™ notebook For each session,I select top X most relevant items in each event type ä¼šè¯å•å‡»/ç‚¹é€‰/è®¢è´­é¡¹ç›®çš„æ¬¡æ•° å…±è®¿æƒæ€»å’Œ è¯¥å•†å“æ˜¯å¦ä¸ºæœ¬å‘¨ç‚¹å‡»æ¬¡æ•°æœ€å¤š/è´­ä¹°æ¬¡æ•°æœ€å¤šçš„å•†å“ Ranker Rule-base ranker in Chrisâ€™ notebook XGBRanker with rank:pairwise objective the model is overfitting and requires a lot of hyperparameter tuning Solution Ensemble use their public LB scores as weights Ensemble of XGBRanker above and public submissions Ensemble of above two ranker methods and public submissions 6, what have I learned read the discussion and notebooks forums try as many ideas as possible know every line of code you write","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Kaggle","slug":"Kaggle","permalink":"https://gladdduck.github.io/tags/Kaggle/"}]},{"title":"vscodeå…å¯†è¿æ¥æœåŠ¡å™¨","slug":"é…ç½®-vscodeå…å¯†è¿æ¥æœåŠ¡å™¨","date":"2024-03-11T07:09:42.878Z","updated":"2024-03-11T07:16:15.000Z","comments":true,"path":"2024/03/11/é…ç½®-vscodeå…å¯†è¿æ¥æœåŠ¡å™¨/","link":"","permalink":"https://gladdduck.github.io/2024/03/11/%E9%85%8D%E7%BD%AE-vscode%E5%85%8D%E5%AF%86%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"çœ‹å°šç¡…è°·çš„è§†é¢‘çŸ¥é“äº†å…å¯†è¿æ¥çš„åŸç† æœ¬åœ° ç”Ÿæˆå…¬é’¥å’Œç§é’¥ 12ssh-keygen -t rsa # ä¸€è·¯å›è½¦å³å¯,å¦‚æœå·²ç»å­˜åœ¨äº†,å¯ä»¥èµ·ä¸ªåå­—æ–¹ä¾¿åŒºåˆ† ç”Ÿæˆçš„å…¬é’¥å’Œç§é’¥åœ¨C:/user/xxx/.sshç›®å½•ä¸‹ 12id_rsa:æ˜¯ç§é’¥ ,ç§é’¥å­˜åœ¨è‡ªå·±ç”µè„‘ä¸Šid_rsa.pub:æ˜¯å…¬é’¥, å…¬é’¥æ”¾åœ¨æœåŠ¡å™¨ä¸Š(æƒ³è¿è°å°±æŠŠå…¬é’¥å‘ç»™è°) 3.åœ¨vscodeä¸­å®‰è£…Remote - SSHæ’ä»¶, ç„¶åæŒ‰æ­¥éª¤è¿æ¥æœåŠ¡å™¨,åœ¨é…ç½®æ–‡ä»¶ä¸­å¡«å†™æœåŠ¡å™¨çš„ipåœ°å€,ç”¨æˆ·å,å¯†ç ,ç«¯å£å·ç­‰ä¿¡æ¯ 123456Host æœåŠ¡å™¨åç§° HostName ip User ç”¨æˆ·å PreferredAuthentications publickey IdentityFile &quot;C:/Users/[ç”¨æˆ·å]/.ssh/id_rsa&quot; æœåŠ¡å™¨ åœ¨æœåŠ¡å™¨ä¸Šè¿›å…¥.sshæ–‡ä»¶å¤¹ 1cd ~/.ssh åˆ›å»º/æ‰“å¼€ä¸€ä¸ªauthorized_keysæ–‡ä»¶ 123touch authorized_keysæˆ–è€…vim authorized_keys æŠŠæœ¬åœ°çš„å…¬é’¥å†…å®¹å¤åˆ¶åˆ°authorized_keysæ–‡ä»¶ä¸­ä¿å­˜ 12æˆ–è€…ä¸Šä¼ id_rsa.pubåˆ°.sshæ–‡ä»¶å¤¹cat id_rsa.pub &gt;&gt; authorized_keys å®Œæˆ","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"Vscode","slug":"Vscode","permalink":"https://gladdduck.github.io/tags/Vscode/"}]},{"title":"ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“","slug":"ç®—æ³•-ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“","date":"2024-03-06T02:05:35.115Z","updated":"2024-03-06T02:28:44.290Z","comments":true,"path":"2024/03/06/ç®—æ³•-ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“/","link":"","permalink":"https://gladdduck.github.io/2024/03/06/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97%E6%8A%80%E5%B7%A7%E5%88%86%E7%B1%BB%E6%80%BB%E7%BB%93/","excerpt":"","text":"ä»é›†åˆè®ºåˆ°ä½è¿ç®—ï¼Œå¸¸è§ä½è¿ç®—æŠ€å·§åˆ†ç±»æ€»ç»“ï¼ 1.é›†åˆä¸é›†åˆ 2.é›†åˆä¸å…ƒç´  3.éå†é›†åˆ è®¾å…ƒç´ èŒƒå›´ä» 000åˆ° nâˆ’1n-1nâˆ’1ï¼ŒæŒ¨ä¸ªåˆ¤æ–­æ¯ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆ sssä¸­ï¼š 123for i in range(n): if (s &gt;&gt; i) &amp; 1: # i åœ¨ s ä¸­ # å¤„ç† i çš„é€»è¾‘ 4.æšä¸¾é›†åˆ è®¾å…ƒç´ èŒƒå›´ä» 000åˆ° nâˆ’1n-1nâˆ’1ï¼Œä»ç©ºé›†âˆ…\\emptyâˆ…æšä¸¾åˆ°å…¨é›†UUU: 12for s in range(1 &lt;&lt; n): # å¤„ç† s çš„é€»è¾‘ ä»å¤§åˆ°å°æšä¸¾æ‰€æœ‰éç©ºå­é›†ï¼š 1234sub=swhile sub: # å¤„ç† sub çš„é€»è¾‘ sub=(sub-1)&amp;s 5.ç»ƒä¹  ä½è¿ç®—ç»ƒä¹ : LeetCode 78. å­é›† LeetCode 77. ç»„åˆ LeetCode 46. å…¨æ’åˆ— çŠ¶æ€å‹ç¼© DPã€‚è¿™ç±»é¢˜ç›®é€šå¸¸å’Œæ’åˆ—/å­é›†æœ‰å…³ï¼Œå¯ä»¥å…ˆä»æš´åŠ›å›æº¯å¼€å§‹æ€è€ƒï¼Œå†è¿‡æ¸¡åˆ°è®°å¿†åŒ–æœç´¢å’Œé€’æ¨ã€‚ LeetCode 2172. æ•°ç»„çš„æœ€å¤§ä¸å’Œ LeetCode 1125. æœ€å°çš„å¿…è¦å›¢é˜Ÿ LeetCode 2305. å…¬å¹³åˆ†å‘é¥¼å¹² LeetCode 1494. å¹¶è¡Œè¯¾ç¨‹ II LeetCode LCP 53. å®ˆæŠ¤å¤ªç©ºåŸ LeetCode 1879. ä¸¤ä¸ªæ•°ç»„æœ€å°çš„å¼‚æˆ–å€¼ä¹‹å’Œ LeetCode 1986. å®Œæˆä»»åŠ¡çš„æœ€å°‘å·¥ä½œæ—¶é—´æ®µ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"Few-shot Object Detectionåº”ç”¨è®ºæ–‡","slug":"å­¦æœ¯-Few-shotDetectionåº”ç”¨è®ºæ–‡","date":"2023-12-28T04:19:17.803Z","updated":"2023-12-28T04:21:07.648Z","comments":true,"path":"2023/12/28/å­¦æœ¯-Few-shotDetectionåº”ç”¨è®ºæ–‡/","link":"","permalink":"https://gladdduck.github.io/2023/12/28/%E5%AD%A6%E6%9C%AF-Few-shotDetection%E5%BA%94%E7%94%A8%E8%AE%BA%E6%96%87/","excerpt":"","text":"1. Prototype-CNN for Few-Shot Object Detection in Remote Sensing Images 2. An Efficient Few-Shot Object Detection Method for Railway Intrusion via Fine-tune Approach and Contrastive learning 3. Rethinking Few-Shot Object Detection on a Multi-Domain Benchmark 4. Robust Few-Shot Aerial Image Object Detection via Unbiased Proposals Filtration 5. Industrial few-shot fractal object detection 6. A New Few-Shot Learning-Based Model for Prohibited Objects Detection in Cluttered Baggage X-Ray Images Through Edge Detection and Reverse Validation.pdf","categories":[{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Few-shotObjectDetection","slug":"Few-shotObjectDetection","permalink":"https://gladdduck.github.io/tags/Few-shotObjectDetection/"}]},{"title":"DEViTä»£ç é˜…è¯»","slug":"å­¦æœ¯-DEViTä»£ç é˜…è¯»","date":"2023-12-15T06:48:19.603Z","updated":"2023-12-15T06:49:27.773Z","comments":true,"path":"2023/12/15/å­¦æœ¯-DEViTä»£ç é˜…è¯»/","link":"","permalink":"https://gladdduck.github.io/2023/12/15/%E5%AD%A6%E6%9C%AF-DEViT%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/","excerpt":"","text":"detectron2ä»£ç é˜…è¯» DEViTä»£ç é˜…è¯»","categories":[{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"ä»£ç é˜…è¯»","slug":"ä»£ç é˜…è¯»","permalink":"https://gladdduck.github.io/tags/%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/"}]},{"title":"LeetCodeæ¯æ—¥ä¸€é¢˜2023-12","slug":"ç®—æ³•-LeetCodeæ¯æ—¥ä¸€é¢˜2023-12","date":"2023-12-11T11:42:27.397Z","updated":"2024-01-02T12:45:48.598Z","comments":true,"path":"2023/12/11/ç®—æ³•-LeetCodeæ¯æ—¥ä¸€é¢˜2023-12/","link":"","permalink":"https://gladdduck.github.io/2023/12/11/%E7%AE%97%E6%B3%95-LeetCode%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%982023-12/","excerpt":"","text":"2023.12LeetCodeæ¯æ—¥ä¸€é¢˜ 2023.12.11 æœ€å°ä½“åŠ›æ¶ˆè€—è·¯å¾„[ä¸­ç­‰] 1631. æœ€å°ä½“åŠ›æ¶ˆè€—è·¯å¾„ æ€è·¯: æ·±æœ\\å®½æœ:ç»Ÿè®¡æ‰€æœ‰è·¯å¾„ï¼Œç„¶åæ‰¾åˆ°æœ€å°çš„è·¯å¾„ åŠ¨æ€è§„åˆ’:dp[i][j]è¡¨ç¤ºåˆ°è¾¾i,jçš„æœ€å°æ¶ˆè€—ï¼Œdp[i][j]=min(dp[i-1][j],dp[i][j-1])+abs(heights[i][j]-heights[i-1][j-1]) é”™è¯¯: é¢˜ç›®æ±‚çš„ä¸æ˜¯æœ€å°æ¶ˆè€—çš„è·¯å¾„,è€Œæ˜¯è¿™ä¸ªè·¯å¾„ä¸Šæœ€å¤§ç»å¯¹å€¼å·®å€¼çš„æœ€å°() é¢˜è§£: äºŒåˆ†:äºŒåˆ†çš„æ˜¯æœ€å¤§ç»å¯¹å€¼å·®å€¼,ç„¶ååˆ¤æ–­æ˜¯å¦èƒ½å¤Ÿåˆ°è¾¾ç»ˆç‚¹(æ·±æœå®½æœ),èƒ½åˆ°å°±ç»§ç»­ç¼©å°å·®å€¼,ä¸èƒ½å°±å¢å¤§å·®å€¼ å¹¶æŸ¥é›†:å°†æ‰€æœ‰è¾¹æŒ‰ç…§æƒå€¼ä»å°åˆ°å¤§æ’åº,ç„¶åä¾æ¬¡åŠ å…¥å¹¶æŸ¥é›†,å¦‚æœèµ·ç‚¹å’Œç»ˆç‚¹è¿é€š,é‚£ä¹ˆè¿™ä¸ªæƒå€¼å°±æ˜¯ç­”æ¡ˆ æœ€çŸ­è·¯å¾„ç®—æ³•:å½“å‰æœ€çŸ­è·¯å¾„å¯ä»¥è¡¨ç¤ºä¸ºè¿™æ¡è·¯å¾„ä¸Šæœ€å¤§çš„æƒé‡(æ™®é€šçš„æœ€çŸ­è·¯å¾„åº”è¯¥è¡¨ç¤ºä¸ºè¿™æ¡è·¯å¾„ä¸Šæƒé‡çš„å’Œ),ç„¶åä½¿ç”¨æœ€çŸ­è·¯å¾„ç®—æ³•æ±‚è§£ 2023.12.12 ğŸ˜’ç”¨é‚®ç¥¨è´´æ»¡ç½‘æ ¼å›¾[å›°éš¾] 2132. ç”¨é‚®ç¥¨è´´æ»¡ç½‘æ ¼å›¾ 2023.12.13 ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  IV[å›°éš¾] ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I[ç®€å•] å…ˆåœ¨nums2ä¸­æ‰¾åˆ°å½“å‰å…ƒç´ çš„ä½ç½®,ç„¶åä»è¿™ä¸ªä½ç½®å¼€å§‹éå†,æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ,å¦‚æœæ‰¾ä¸åˆ°å°±è¿”å›-1 å•è°ƒæ ˆ+Hashè¡¨,å…ˆå¯¹nums2è¿›è¡Œå•è°ƒæ ˆå¤„ç†(ä»åå¾€å‰è®°å½•(ç›¸å½“äºå½“å‰å…ƒç´ å’Œä»–å·¦è¾¹çš„å…ƒç´ æ— å…³),ä»æ ˆåº•åˆ°æ ˆé¡¶é€’å¢),ç„¶åç”¨ä¸€ä¸ªmapè®°å½•æ¯ä¸ªæ•°å­—å¯¹åº”çš„å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°å­—,æœ€åéå†nums1,ç›´æ¥ä»mapä¸­å–å€¼ ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II[ä¸­ç­‰] å•è°ƒæ ˆ+å¾ªç¯æ•°ç»„,å¾ªç¯æ•°ç»„ä½¿ç”¨å–ä½™çš„æ–¹å¼å®ç°, å•è°ƒæ ˆé‡Œå­˜çš„æ˜¯æ•°ç»„ä¸‹æ ‡(å…ƒç´ ä»æ ˆåº•åˆ°æ ˆé¡¶é€’å‡),å½“æ ˆé¡¶çš„å…ƒç´ è¢«å¼¹å‡ºæ¥æ—¶,è¯´æ˜å½“å‰å…ƒç´ æ˜¯æ ˆé¡¶å…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ ,æ ˆé¡¶å…ƒç´ çš„ç­”æ¡ˆå°±æ˜¯éå†åˆ°çš„å½“å‰å…ƒç´  ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  III[ä¸­ç­‰] åˆ†æï¼‹å•è°ƒæ ˆ,å¯¹ä¸€ä¸ªæ•°å­—:564973,ä»åå¾€å‰æ‰¾(å› ä¸ºæ˜¯æœ€å°çš„,åŠ¨åé¢çš„è‚¯å®šæœ€å°) å¯¹äº3,åé¢æ²¡æœ‰æ¯”å®ƒå¤§çš„æ•°å­—,æ‰€ä»¥3ä¸åŠ¨ å¯¹äº73,æ²¡æœ‰æ¯”7å¤§çš„æ•°å­—,æ‰€ä»¥ä¸åŠ¨ å¯¹äº973,æ²¡æœ‰æ¯”9å¤§çš„æ•°å­—,æ‰€ä»¥ä¸åŠ¨ å¯¹äº4973,æ‰¾åˆ°åé¢æ¯”4å¤§çš„æœ€å°çš„æ•°å­—,äº¤æ¢4å’Œ7,å¾—åˆ°567,åœ¨å¯¹å‰©ä¸‹çš„æ•°å­—æ’åº,å¾—åˆ°349,ç­”æ¡ˆå°±æ˜¯567349 ç±»ä¼¼31.ä¸‹ä¸€ä¸ªæ’åˆ— [31.ä¸‹ä¸€ä¸ªæ’åˆ—],ä»åå¾€å‰å…ˆæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ­£åºå¯¹,ç„¶åå†ä»åå¾€å‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”è¿™ä¸ªæ­£åºå¯¹ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—å¤§çš„æ•°å­—,äº¤æ¢è¿™ä¸¤ä¸ªæ•°å­—,ç„¶åå°†åé¢çš„æ•°å­—æ’åº [31.ä¸‹ä¸€ä¸ªæ’åˆ—]ä¹Ÿå¯ä»¥ç”¨1çš„æ–¹æ³•åš ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  IV[å›°éš¾] ç”¨ä¸€ä¸ªæœ€å°å †qæ¥å­˜å‚¨å·²ç»æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ,ç”¨ä¸€ä¸ªå•è°ƒæ ˆstæ¥å­˜å‚¨è¿˜æ²¡æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ çš„å…ƒç´ ,å…·ä½“æ“ä½œ: å¦‚æœqéç©º,ä¸”å †é¡¶å…ƒç´ å°äºæ ˆé¡¶å…ƒç´ ,è¯´æ˜å †é¡¶çš„è¿™ä¸ªå…ƒç´ æ‰¾åˆ°äº†ç¬¬äºŒä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ,é‡å¤æ“ä½œç›´åˆ°å †é¡¶å…ƒç´ å¤§äºæ ˆé¡¶å…ƒç´ æˆ–è€…å †ä¸ºç©º å¦‚æœstéç©º,ä¸”æ ˆé¡¶å…ƒç´ å°äºå½“å‰å…ƒç´ ,è¯´æ˜æ ˆé¡¶å…ƒç´ æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªæ¯”ä»–å¤§çš„å…ƒç´ ,å°†æ ˆé¡¶å…ƒç´ å¼¹å‡ºåŠ å…¥åˆ°å †ä¸­,é‡å¤æ“ä½œç›´åˆ°æ ˆé¡¶å…ƒç´ å¤§äºå½“å‰å…ƒç´ æˆ–è€…æ ˆä¸ºç©º å°†å½“å‰å…ƒç´ å…¥æ ˆ æœ€å°å †å¤æ‚åº¦æ˜¯O(nlogn)O(nlogn)O(nlogn),ä½¿ç”¨å•è°ƒæ ˆæ›¿æ¢æ‰æœ€å°å †,å¤æ‚åº¦å°±æ˜¯O(n)O(n)O(n) ç”¨ä¸€ä¸ªstack2ä»£æ›¿æœ€å°å †,åªè¦ä¿è¯stack2æ˜¯ä¸€ä¸ªä»æ ˆåº•åˆ°æ ˆé¡¶å•è°ƒé€’å‡çš„æ ˆ,å¦‚ä½•ä¿è¯stack2æ˜¯å•è°ƒé€’å‡çš„:ä»1å¯çŸ¥å †é¡¶çš„å…ƒç´ ä¸€å®šæ˜¯å¤§äºæ ˆé‡Œçš„,å› æ­¤åœ¨stack1å¼¹å‡ºæ¥çš„æ—¶å€™,ä¸è¦ä¸€ä¸ªä¸ªå¼¹,ç”¨åˆ‡ç‰‡å¼¹,ç„¶åæŠŠæ•´ä¸ªåˆ‡ç‰‡åŠ å…¥åˆ°stack2ä¸­,è¿™æ ·å°±ä¿è¯äº†stack2æ˜¯å•è°ƒé€’å‡çš„ 2023.12.13 å­—å…¸åºæœ€å°å›æ–‡ä¸²[ç®€å•] 2697. å­—å…¸åºæœ€å°å›æ–‡ä¸² æ€è·¯: ä»å·¦å¼€å§‹éå†åˆ°å­—ç¬¦ä¸²é•¿åº¦çš„ä¸­é—´,å¦‚æœé‡åˆ°ä¸ç›¸ç­‰çš„å­—ç¬¦,é‚£ä¹ˆå°±å°†è¿™ä¸¤ä¸ªå­—ç¬¦æ›¿æ¢ä¸ºäºŒè€…ä¹‹é—´æœ€å°çš„(åŒæŒ‡é’ˆ) 2023.12.15 åè½¬äºŒå‰æ ‘çš„å¥‡æ•°å±‚[ä¸­ç­‰] 2415. åè½¬äºŒå‰æ ‘çš„å¥‡æ•°å±‚ æ€è·¯: å®½æœ,éš¾ç‚¹åœ¨äºå¦‚ä½•å­˜å‚¨æ¯ä¸€å±‚çš„èŠ‚ç‚¹,æƒ³æ³•æ˜¯ç”¨ä¸¤ä¸ªé˜Ÿåˆ—,ä¸€ä¸ªä»å·¦å¾€å³æœå·¦å­æ ‘çš„,ä¸€ä¸ªä»å³å¾€å·¦æœå³å­æ ‘çš„,è¿™æ ·é¡ºåºå°±æ˜¯å¯¹ç§°çš„.åˆ°å¥‡æ•°å±‚ç›´æ¥äº¤æ¢ä¸¤ä¸ªé˜Ÿåˆ—çš„å½“å‰èŠ‚ç‚¹çš„å€¼å°±è¡Œ æƒ³å¤æ‚äº†,åªè¦äº¤æ¢å€¼å°±è¡Œ,ä¸ç”¨äº¤æ¢èŠ‚ç‚¹ é¢˜è§£: å®½æœ,æŠŠæ¯ä¸€å±‚çš„èŠ‚ç‚¹éƒ½å­˜åˆ°listé‡Œ,å¥‡æ•°å±‚äº¤æ¢ æ·±æœ, ä¼ é€’ä¸¤ä¸ªèŠ‚ç‚¹,ä¸€ä¸ªä»æœ€å·¦è¾¹å¾€ä¸‹æœ, ä¸€ä¸ªä»æœ€å³è¾¹å¾€ä¸‹æœ,å¥‡æ•°å±‚åˆ™äº¤æ¢è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„å€¼ 2023.12.16 ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›®[è‹¦éš¾] 2276. ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›® çº¿æ®µæ ‘è§£å†³çš„æ˜¯ã€ŒåŒºé—´å’Œã€é—®é¢˜ï¼Œå¹¶ä¸”è¯¥ã€ŒåŒºé—´ã€ä¼šè¢«ä¿®æ”¹ã€‚ çº¿æ®µæ ‘æœ€ç®€å•æ¨¡æ¿ æ€æƒ³:å°†æ•°ç»„çœ‹æˆä¸€æ£µæ ‘,å¶å­èŠ‚ç‚¹æ˜¯æ•°ç»„çš„å€¼,éå¶å­èŠ‚ç‚¹ä»£è¡¨äº†å…¶å¶å­èŠ‚ç‚¹åŒºé—´çš„å’Œ/æœ€å¤§å€¼/æœ€å°å€¼. 307. åŒºåŸŸå’Œæ£€ç´¢ - æ•°ç»„å¯ä¿®æ”¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283class SegTreeSimple: def __init__(self, nums): self.tree = [0] * (4 * len(nums)) self.nums=nums self.build(1,0,len(nums)-1) def build(self, cur, left, right): &#x27;&#x27;&#x27; l,rè¡¨ç¤ºçš„æ˜¯å½“å‰éœ€è¦æ„å»ºçš„åŒºé—´ curæ˜¯[l,r]åŒºé—´çš„åœ¨æ ‘ä¸­çš„èŠ‚ç‚¹ l==rè¯´æ˜åˆ°è¾¾äº†æ ‘çš„å¶å­èŠ‚ç‚¹,é‚£ä¹ˆcurçš„å€¼å°±æ˜¯æ•°ç»„çš„å€¼ &#x27;&#x27;&#x27; # åˆ°è¾¾å½“å‰èŠ‚ç‚¹ if left==right: self.tree[cur] = self.nums[left] return mid = (left + right) // 2 # æ„å»ºå·¦å³å­æ ‘ self.build(cur * 2, left, mid) self.build(cur * 2 + 1, mid + 1, right) # å‘ä¸Šæ›´æ–° self.pushup(cur) def pushup(self, root): # æ±‚åŒºé—´ å’Œ/æœ€å¤§å€¼/æœ€å°å€¼ self.tree[root] = self.tree[root * 2] + self.tree[root * 2 + 1] # åŒºé—´æ›´æ–° def updateArrange(self, cur, left, right, start, end , val): &#x27;&#x27;&#x27; curæ˜¯å½“å‰åœ¨æ•°ä¸­çš„èŠ‚ç‚¹ l,ræ˜¯è¦æ›´æ–°çš„åŒºé—´ start,endæ˜¯å½“å‰åŒºé—´ valæ˜¯è¦æ›´æ–°çš„å€¼ &#x27;&#x27;&#x27; if start == end: self.tree[cur] = val return if left&lt;start or right&gt;end: return mid = (start + end) // 2 if left &lt;= mid: self.updateArrange(cur * 2, left, right, start, mid, val) if right&gt;mid: self.updateArrange(cur * 2 + 1, left, right, mid+1, end, val) self.pushup(cur) # å•ç‚¹æ›´æ–° def update(self, cur, left, right, index, val): &#x27;&#x27;&#x27; curæ˜¯å½“å‰åŒºé—´åœ¨æ ‘ä¸­çš„èŠ‚ç‚¹ l,ræ˜¯è¦æ›´æ–°çš„æ•°ç»„çš„åŒºé—´ indexæ˜¯è¦æ›´æ–°çš„æ•°ç»„çš„ç´¢å¼• valæ˜¯è¦æ›´æ–°çš„å€¼ &#x27;&#x27;&#x27; if left == right: # è¦†ç›–å¼,ä¹Ÿå¯æ˜¯å¢é‡å¼ self.tree[cur] = val return mid = (left + right) // 2 if index &lt;= mid: self.update(cur * 2, left, mid, index, val) else: self.update(cur * 2 + 1, mid + 1, right, index, val) self.pushup(cur) # åŒºé—´æŸ¥è¯¢ def query(self, cur, left, right, start, end): &#x27;&#x27;&#x27; left,rightæ˜¯è¦æŸ¥è¯¢çš„åŒºé—´ curæ˜¯å½“å‰åŒºé—´å¯¹åº”çš„æ ‘çš„èŠ‚ç‚¹ start,endæ˜¯å½“å‰åŒºé—´ &#x27;&#x27;&#x27; # å½“å‰åŒºé—´å®Œå…¨å¤„äºæŸ¥è¯¢åŒºé—´ä¹‹å†… if left &lt;= start and end &lt;= right: return self.tree[cur] mid = (start + end) // 2 ans = 0 if left &lt;= mid: ans += self.query(cur * 2, left, right, start, mid) if right &gt; mid: ans += self.query(cur * 2 + 1, left, right, mid + 1, end) return ans çº¿æ®µæ ‘Lazyæ¨¡æ¿ æ€æƒ³: åœ¨ä¸Šé¢æŸ¥è¯¢çš„æ—¶å€™,å¦‚æœå½“å‰åŒºé—´åŒ…æ‹¬åœ¨æŸ¥è¯¢åŒºé—´é‡Œé¢,é‚£ä¹ˆå°±å¯ä»¥ç›´æ¥è¿”å›å½“å‰åŒºé—´çš„å€¼è€Œä¸ç”¨å‘ä¸‹ä¼ é€’. åœ¨åŒºé—´ä¿®æ”¹æ—¶,å¦‚æœå½“å‰åŒºé—´åŒ…æ‹¬åœ¨ä¿®æ”¹åŒºé—´é‡Œé¢,é‚£ä¹ˆä¹Ÿå¯ä»¥ç›´æ¥ä¿®æ”¹å½“å‰åŒºé—´çš„å€¼è€Œä¸ç”¨å‘ä¸‹ä¼ é€’(å¦‚æœå‘ä¸‹ä¼ é€’çš„è¯ç›¸å½“äºéå†å…¶å­æ ‘æ—¶é—´å¤æ‚åº¦ä¸ºO(n)O(n)O(n)). åšæ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªlazyæ•°ç»„è®°å½•å½“å‰åŒºé—´éœ€è¦å‘ä¸‹ä¼ é€’çš„å€¼,åœ¨æŸ¥è¯¢,å¦‚æœå½“å‰åŒºé—´éœ€è¦å‘ä¸‹ä¼ é€’çš„å€¼ä¸ä¸º0,é‚£ä¹ˆå°±å‘ä¸‹ä¼ é€’,å¹¶ä¸”å°†å½“å‰åŒºé—´çš„lazyå€¼æ¸…é›¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394class SegTreeLazy: def __init__(self, nums): self.tree = [0] * (4 * len(nums)) self.lazy = [0] * (4 * len(nums)) self.nums=nums self.build(1,0,len(nums)-1) def build(self, cur, left, right): &#x27;&#x27;&#x27; l,rè¡¨ç¤ºçš„æ˜¯å½“å‰éœ€è¦æ„å»ºçš„åŒºé—´ curæ˜¯[l,r]åŒºé—´çš„åœ¨æ ‘ä¸­çš„èŠ‚ç‚¹ l==rè¯´æ˜åˆ°è¾¾äº†æ ‘çš„å¶å­èŠ‚ç‚¹,é‚£ä¹ˆcurçš„å€¼å°±æ˜¯æ•°ç»„çš„å€¼ &#x27;&#x27;&#x27; # åˆ°è¾¾å½“å‰èŠ‚ç‚¹ if left==right: self.tree[cur] = self.nums[left] return mid = (left + right) // 2 # æ„å»ºå·¦å³å­æ ‘ self.build(cur * 2, left, mid) self.build(cur * 2 + 1, mid + 1, right) # å‘ä¸Šæ›´æ–° self.pushup(cur) def pushup(self, root): # æ±‚åŒºé—´ å’Œ/æœ€å¤§å€¼/æœ€å°å€¼ self.tree[root] = self.tree[root * 2] + self.tree[root * 2 + 1] # å•ç‚¹æ›´æ–° def update(self, cur, left, right, index, val): &#x27;&#x27;&#x27; curæ˜¯å½“å‰åŒºé—´åœ¨æ ‘ä¸­çš„èŠ‚ç‚¹ l,ræ˜¯è¦æ›´æ–°çš„æ•°ç»„çš„åŒºé—´ indexæ˜¯è¦æ›´æ–°çš„æ•°ç»„çš„ç´¢å¼• valæ˜¯è¦æ›´æ–°çš„å€¼ &#x27;&#x27;&#x27; if left == right: # è¦†ç›–å¼,ä¹Ÿå¯æ˜¯å¢é‡å¼ self.tree[cur] = val return mid = (left + right) // 2 if index &lt;= mid: self.update(cur * 2, left, mid, index, val) else: self.update(cur * 2 + 1, mid + 1, right, index, val) self.pushup(cur) # åŒºé—´æ›´æ–° def updateRange(self, cur, left, right, start, end, val): # å½“å‰åŒºé—´å®Œå…¨å¤„äºæŸ¥è¯¢åŒºé—´ä¹‹å†… if left &lt;= start and end &lt;= right: # åªæ›´æ–°å½“å‰åŒºé—´çš„å€¼,ä¸å‘ä¸‹ä¼ é€’ self.tree[cur] += val * (end - start + 1) # è®°å½•å½“å‰åŒºé—´éœ€è¦å‘ä¸‹ä¼ é€’çš„å€¼,å¦‚æœä¸æ˜¯åŒºé—´æ²¡å¿…è¦å‘ä¸‹ä¼ é€’ if start != end: self.lazy[cur] += val return mid = (start + end) // 2 # å‘ä¸‹ä¼ é€’lazyå€¼,å¦‚æœæ˜¯è¦†ç›–å¼æ›´æ–°,ä¸èƒ½ä½¿ç”¨self.lazy!-0åˆ¤æ–­,éœ€è¦ä½¿ç”¨é¢å¤–çš„boolæ•°ç»„ if self.lazy[cur] != 0: self.pushdown(cur, start, end, mid) if left &lt;= mid: self.updateRange(cur * 2, left, right, start, mid, val) if right &gt; mid: self.updateRange(cur * 2 + 1, left, right, mid + 1, end, val) self.pushup(cur) def pushdown(self, cur, start, end, mid): # å‘ä¸‹ä¼ é€’lazyå€¼,å€¼ä¼ é€’åˆ°å­èŠ‚ç‚¹ self.tree[cur * 2] += self.lazy[cur] * (mid - start + 1) self.tree[cur * 2 + 1] += self.lazy[cur] * (end - mid) self.lazy[cur * 2] += self.lazy[cur] self.lazy[cur * 2 + 1] += self.lazy[cur] self.lazy[cur] = 0 # åŒºé—´æŸ¥è¯¢ def query(self, cur, left, right, start, end): &#x27;&#x27;&#x27; left,rightæ˜¯è¦æŸ¥è¯¢çš„åŒºé—´ curæ˜¯å½“å‰åŒºé—´å¯¹åº”çš„æ ‘çš„èŠ‚ç‚¹ start,endæ˜¯å½“å‰åŒºé—´ &#x27;&#x27;&#x27; # å½“å‰åŒºé—´å®Œå…¨å¤„äºæŸ¥è¯¢åŒºé—´ä¹‹å†… if left &lt;= start and end &lt;= right: return self.tree[cur] mid = (start + end) // 2 ans = 0 if self.lazy[cur] != 0: self.pushdown(cur, start, end, mid) if left &lt;= mid: ans += self.query(cur * 2, left, right, start, mid) if right &gt; mid: ans += self.query(cur * 2 + 1, left, right, mid + 1, end) return ans çº¿æ®µæ ‘ç¦»æ•£åŒ–æ¨¡æ¿ æ€æƒ³: éœ€è¦ç›´åˆ°å…¨éƒ¨çš„åŒºé—´åæ ‡ åšå¥½åŸæ•°ç»„ä¸ç¦»æ•£åæ•°ç»„çš„æ˜ å°„å…³ç³» 699. æ‰è½çš„æ–¹å— 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384class SegTreeDiscrete: def __init__(self, n ): self.tree = [0] * (4 * n) self.lazy = [0] * (4 * n) self.build(1,0,n-1) def build(self, cur, left, right): if left==right: self.tree[cur] = 0 return mid = (left + right) // 2 self.build(cur * 2, left, mid) self.build(cur * 2 + 1, mid + 1, right) self.pushup(cur) def pushup(self, root): self.tree[root] = max(self.tree[root * 2] , self.tree[root * 2 + 1]) def updateRange(self, cur, left, right, start, end, val): if left &lt;= start and end &lt;= right: self.tree[cur] = val if start != end: self.lazy[cur] = val return mid = (start + end) // 2 if self.lazy[cur] != 0: self.pushdown(cur, start, end, mid) if left &lt;= mid: self.updateRange(cur * 2, left, right, start, mid, val) if right &gt; mid: self.updateRange(cur * 2 + 1, left, right, mid + 1, end, val) self.pushup(cur) def pushdown(self, cur, start, end, mid): self.tree[cur * 2] = self.tree[cur] self.tree[cur * 2 + 1] = self.tree[cur] self.lazy[cur * 2] = self.lazy[cur] self.lazy[cur * 2 + 1] = self.lazy[cur] self.lazy[cur] = 0 def query(self, cur, left, right, start, end): if left &lt;= start and end &lt;= right: return self.tree[cur] mid = (start + end) // 2 ans = -1 if self.lazy[cur] != 0: self.pushdown(cur, start, end, mid) if left &lt;= mid: ans = max(self.query(cur * 2, left, right, start, mid), ans) if right &gt; mid: ans = max(self.query(cur * 2 + 1, left, right, mid + 1, end), ans) return ansclass Solution: # ç¦»æ•£åŒ–,åŸå€¼-&gt;ç¦»æ•£åçš„ç´¢å¼•(å€¼) def discrete(self,nums): num_set = set(nums) num_list = sorted(list(num_set)) return &#123;num: idx + 1 for idx, num in enumerate(num_list)&#125; def fallingSquares(self, positions: List[List[int]]) -&gt; List[int]: n = len(positions) arr = [0] * (2 * n) size = 0 for i in range(n): arr[i * 2] = positions[i][0] arr[i * 2 + 1] = positions[i][0] + positions[i][1] size = max(size, arr[i * 2 + 1]) arr_map = self.discrete(arr) st = SegTreeDiscrete(len(arr_map)) res = [] height = 0 max_height = 0 for i in range(n): l = arr_map[positions[i][0]] h = positions[i][1] r = arr_map[positions[i][0] + h] height = st.query(1, l, r-1 , 0, len(arr_map)-1) st.updateRange(1, l, r-1,0,len(arr_map)-1, height + h) max_height = max(max_height, height + h) res.append(max_height) return res çº¿æ®µæ ‘åŠ¨æ€å¼€ç‚¹æ¨¡æ¿ æ€æƒ³: ä¸èƒ½åœ¨ç¨‹åºå¼€å§‹æ—¶å°±å®Œæˆåˆå§‹çº¿æ®µæ ‘çš„æ„å»ºï¼Œåœ¨åŒºé—´æŸ¥è¯¢æˆ–åŒºé—´ä¿®æ”¹æ—¶ï¼Œæ ¹æ®ä¼ å…¥çš„åŒºé—´ä¿¡æ¯æ¥åŠ¨æ€åœ°åˆ›å»ºç»“ç‚¹ 2276. ç»Ÿè®¡åŒºé—´ä¸­çš„æ•´æ•°æ•°ç›® 715. Range æ¨¡å— 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475class Node: def __init__(self): self.leftChild = None self.rightChild = None self.val = 0 self.lazy = 0class SegTreeDynamicPointer: def __init__(self): self.root = Node() def pushup(self, curNode): curNode.val=curNode.leftChild.val+curNode.rightChild.val def AddNode(self, curNode): if curNode.leftChild == None: curNode.leftChild = Node() if curNode.rightChild == None: curNode.rightChild = Node() def pushdown(self, curNode, start, end, mid): curNode.leftChild.val = (mid - start + 1) curNode.rightChild.val = (end - mid) curNode.leftChild.lazy = curNode.lazy curNode.rightChild.lazy = curNode.lazy curNode.lazy = 0 # åŒºé—´æ›´æ–° def updateRange(self, curNode, left, right, start, end, val): # å½“å‰åŒºé—´å®Œå…¨å¤„äºæŸ¥è¯¢åŒºé—´ä¹‹å†… if left &lt;= start and end &lt;= right: curNode.val = (end-start+1) if start != end: curNode.lazy = 1 return # åŠ¨æ€å¼€ç‚¹ self.AddNode(curNode) mid = (start + end) // 2 if curNode.lazy != 0: self.pushdown(curNode, start, end, mid) if left &lt;= mid: self.updateRange(curNode.leftChild, left, right, start, mid, val) if right &gt; mid: self.updateRange(curNode.rightChild, left, right, mid + 1, end, val) self.pushup(curNode) # åŒºé—´æŸ¥è¯¢ def query(self, curNode, left, right, start, end): if left &lt;= start and end &lt;= right: return curNode.val self.AddNode(curNode) mid = (start + end) // 2 if curNode.lazy != 0: self.pushdown(curNode, start, end, mid) ans = 0 if left &lt;= mid: ans += self.query(curNode.leftChild, left, right, start, mid) if right &gt; mid: ans += self.query(curNode.rightChild, left, right, mid + 1, end) return int(ans)class CountIntervals: def __init__(self): self.tree=SegTreeDynamicPointer() self.N=1e9+1 self.node=self.tree.root self.max_num=0 def add(self, left: int, right: int) -&gt; None: self.max_num=max(self.max_num,right) self.tree.updateRange(self.node,left,right,0,self.N,1) def count(self) -&gt; int: return self.tree.query(self.node,0,self.max_num,0,self.N) 2023.12.17 ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯[ç®€å•] 746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ æ€è·¯:ç®€å•åŠ¨æ€è§„åˆ’,ç¬¬ä¸€é˜¶å’Œç¬¬äºŒé˜¶åº”è¯¥æ˜¯0 2023.12.18 å¯»æ‰¾å³°å€¼[ä¸­ç­‰] 162. å¯»æ‰¾å³°å€¼ æ€è·¯:å•è°ƒæ ˆä»æ ˆåº•åˆ°æ ˆé¡¶é€’å¢,æ ˆåº•å…ƒç´ ä¸€å®šå¤§äºå…¶å·¦è¾¹å…ƒç´ ,åŒæ—¶ä¹Ÿå¤§äºæ ˆä¸­å…¶ä»–å…ƒç´ ,å› æ­¤ç­”æ¡ˆå°±æ˜¯æ ˆåº•å…ƒç´  2023.12.19 å¯»æ‰¾å³°å€¼ II[ä¸­ç­‰] 1901. å¯»æ‰¾å³°å€¼ II æ€è·¯:ä¸€ç»´çš„å³°å€¼æ‰©å±•åˆ°äºŒç»´,æ— æ€è·¯ é¢˜è§£:äºŒåˆ†,ä½¿ç”¨äºŒåˆ†åˆ†è¡Œ,ç„¶åæ‰¾åˆ°æ¯ä¸€è¡Œçš„æœ€å¤§å€¼,ç”¨è¿™ä¸€è¡Œçš„æœ€å¤§å€¼å’Œä»–çš„ä¸Šä¸‹ä¸¤è¡Œçš„å€¼æ¯”è¾ƒ,å¦‚æœä¸Šé¢çš„å¤§åˆ™ç»§ç»­äºŒåˆ†ä¸Šé¢çš„è¡Œ,å¦åˆ™äºŒåˆ†ä¸‹é¢çš„è¡Œ 2023.12.20 åˆ¤åˆ«é¦–å­—æ¯ç¼©ç•¥è¯[ç®€å•] 2828. åˆ¤åˆ«é¦–å­—æ¯ç¼©ç•¥è¯ æ€è·¯:æ•°ç»„é‡Œé¢æ¯ä¸ªå•æ¬¡çš„é¦–å­—ç¬¦çœ‹çœ‹èƒ½ä¸èƒ½ç»„æˆè¿™ä¸ªå•è¯,å…ˆåˆ¤æ–­ä¸¤ä¸ªé•¿åº¦æ˜¯ä¸æ˜¯ä¸€æ · 2023.12.21 ç¾ä¸½å¡” II[ä¸­ç­‰] æ€è·¯:æš´åŠ›,ä¸¤é‡å¾ªç¯,åˆ¤æ–­æ¯ä¸ªç‚¹çš„å·¦å³ä¸¤è¾¹æ˜¯å¦æ»¡è¶³æ¡ä»¶,ä½†æ˜¯è‚¯å®šè¶…æ—¶ é¢˜è§£:å…ˆé¢„å¤„ç†æ¯ä¸ªç‚¹å·¦å³ä¸¤è¾¹,å·¦è¾¹ä¸ºä¾‹,ç”¨å•è°ƒæ ˆ(ä»æ ˆåº•åˆ°æ ˆé¡¶é€’å¢,å­˜ä¸‹æ ‡),å¦‚æœå½“å‰å…ƒç´ æ¯”æ ˆé¡¶å…ƒç´ å°,é‚£ä¹ˆå°±å¼¹å‡ºæ ˆé¡¶å…ƒç´ ,ç›´åˆ°æ ˆé¡¶å…ƒç´ å¤§äºå½“å‰å…ƒç´ ,é‚£ä¹ˆæ ˆé¡¶å…ƒç´ åˆ°å½“å‰å…ƒç´ ä¹‹é—´çš„å…ƒç´ éƒ½æ˜¯æ¯”å½“å‰å…ƒç´ å¤§çš„,è¿™åŒºé—´åªèƒ½é€‰æ‹©å½“å‰å…ƒç´ çš„é«˜åº¦,ç„¶åå†åŠ ä¸Šæ ˆé¡¶å…ƒç´ å·¦è¾¹çš„é«˜åº¦å’Œ,å¾—åˆ°äº†å½“å‰å…ƒç´ å·¦è¾¹çš„é«˜åº¦å’Œ,å³è¾¹çš„é«˜åº¦å’ŒåŒç†,ç„¶åå†éå†æ¯ä¸ªç‚¹,æ¯ä¸ªç‚¹çš„ç­”æ¡ˆå°±æ˜¯å·¦è¾¹çš„é«˜åº¦å’Œ+å³è¾¹çš„é«˜åº¦å’Œ-å½“å‰ç‚¹çš„é«˜åº¦ 12345# é¢„å¤„ç†ä»£ç prefix[i]=(long)(i-left.Peek())*maxHeights[i]+prefix[left.Peek()];suffix[i]=(long)(right.Peek()-i)*maxHeights[i]+suffix[right.Peek()];# ç­”æ¡ˆä»£ç res=Math.Max(suffix[i]-maxHeights[i]+prefix[i],res); 2023.12.22 å¾—åˆ°å±±å½¢æ•°ç»„çš„æœ€å°‘åˆ é™¤æ¬¡æ•°[å›°éš¾] æœ€é•¿é€’å¢å­åºåˆ—æ¨¡æ¿ åŠ¨æ€è§„åˆ’O(N2)O(N^2)O(N2) 12345678def MaxSeqInN2(self,nums): n=len(nums) dp=[1]*(n) for i in range(n): for j in range(i): if nums[i]&gt;nums[j]: dp[i]=max(dp[i],dp[j]+1) return max(dp) é•¿åº¦æ•°ç»„O(NlogN)O(NlogN)O(NlogN) 12345678910def MaxSeqInLogn(self,nums): n=len(nums) len2num=[float(&#x27;inf&#x27;)]*(n+1) len2num[0]=float(&#x27;-inf&#x27;) ans=-1 for i,num in enumerate(nums): lengthIndex=bisect_left(len2num,num) len2num[lengthIndex]=num ans=max(ans,lengthIndex) return ans å¾—åˆ°å±±å½¢æ•°ç»„çš„æœ€å°‘åˆ é™¤æ¬¡æ•° 1671. å¾—åˆ°å±±å½¢æ•°ç»„çš„æœ€å°‘åˆ é™¤æ¬¡æ•° æ€è·¯:ä»¥ä¸ºå’Œç¾ä¸½å¡” IIä¸€æ ·,ä½†æ˜¯åŒºåˆ«åœ¨äºè¿™ä¸€é¢˜éœ€è¦å·¦è¾¹çš„é•¿åº¦è¶Šé•¿è¶Šå¥½,ç¾ä¸½å¡” IIæœ‰ä¸ªé«˜åº¦ é¢˜è§£:é¢„å¤„ç†æ¯ä¸ªç‚¹å·¦å³ä¸¤è¾¹çš„æœ€é•¿é€’å¢å­åºåˆ—,éå†æ¯ä¸ªç‚¹,å½“å‰ç‚¹çš„ç­”æ¡ˆå°±æ˜¯å·¦è¾¹çš„æœ€é•¿é€’å¢å­åºåˆ—+å³è¾¹çš„æœ€é•¿é€’å¢å­åºåˆ—-1(å½“å‰ç‚¹è¢«è®¡ç®—äº†ä¸¤æ¬¡) 2023.12.23 ç§»é™¤çŸ³å­ä½¿æ€»æ•°æœ€å°[ä¸­ç­‰] 1962. ç§»é™¤çŸ³å­ä½¿æ€»æ•°æœ€å° æ€è·¯:è´ªå¿ƒ,ç”¨ä¼˜å…ˆé˜Ÿåˆ—(æœ€å¤§å †),æ¯æ¬¡å–å †é¡¶çš„å…ƒç´ ç„¶åæ•´é™¤2å†æ”¾å›å †é‡Œ,é‡å¤kæ¬¡ 2023.12.24 æ”¶é›†è¶³å¤Ÿè‹¹æœçš„æœ€å°èŠ±å›­å‘¨é•¿[ä¸­ç­‰] 1954. æ”¶é›†è¶³å¤Ÿè‹¹æœçš„æœ€å°èŠ±å›­å‘¨é•¿ æ€è·¯:ä¸¤é‡å¾ªç¯éå†(x,y)çš„åæ ‡ é¢˜è§£:æ‰¾è§„å¾‹,è®¡ç®—å‡ºå¦‚ä½•ç”¨nè¡¨ç¤ºè‹¹æœçš„æ•°é‡,ç„¶åäºŒåˆ†æ‰¾åˆ°n&gt;=neededApplesçš„æœ€å°çš„n,ç„¶åè®¡ç®—å‡ºè¾¹é•¿,å…¬å¼ä¸º2n(n+1)(2n+1)2n(n+1)(2n+1)2n(n+1)(2n+1). 2023.12.25 ä¸æµªè´¹åŸæ–™çš„æ±‰å ¡åˆ¶ä½œæ–¹æ¡ˆ[ä¸­ç­‰] 1276. ä¸æµªè´¹åŸæ–™çš„æ±‰å ¡åˆ¶ä½œæ–¹æ¡ˆ æ€è·¯:å°çš„å’Œå·¨æ— éœ¸éƒ½åªç”¨ä¸€ä¸ªå¥¶é…ªç‰‡,æšä¸¾ä¸€ä¸ªçš„æ•°é‡,å¦ä¸€ä¸ªå°±æ˜¯å¥¶é…ªç‰‡-æšä¸¾çš„æ•°é‡,ç„¶ååˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ é¢˜è§£:äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹,è§£æ–¹ç¨‹ç»„ 2023.12.26 ğŸ˜’å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•°[å›°éš¾] 1349. å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•° ä½è¿ç®—åŸºç¡€ å‚åŠ è€ƒè¯•çš„æœ€å¤§å­¦ç”Ÿæ•° 2023.12.27 ä¿é¾„çƒæ¸¸æˆçš„è·èƒœè€…[ç®€å•] 2660. ä¿é¾„çƒæ¸¸æˆçš„è·èƒœè€… æ€è·¯:æ¨¡æ‹Ÿ,é‡è¦çš„æ˜¯ä»£ç çš„å¤ç”¨ 2023.12.28 æ”¶é›†å·§å…‹åŠ›[ä¸­ç­‰] 2735. æ”¶é›†å·§å…‹åŠ› æ€è·¯:æ— æ€è·¯,å› ä¸ºå¯¹å½“å‰èŠ‚ç‚¹æ¯æ“ä½œä¸€æ¬¡éƒ½ä¼šå¯¹åé¢çš„èŠ‚ç‚¹é€ æˆå½±å“,æ— å¤´ç»ª é¢˜è§£: æœ€å¤šç§»åŠ¨n-1æ¬¡,å› ä¸ºç§»åŠ¨næ¬¡å°±æ²¡åŠ¨äº†,æ‰€ä»¥æšä¸¾ç§»åŠ¨æ¬¡æ•°(1,n-1),é‚£ä¹ˆå¯¹äºæ¯ä¸ªèŠ‚ç‚¹,ä»–çš„é€‰æ‹©å°±æ˜¯ç§»åŠ¨æˆ–è€…ä¸ç§»åŠ¨dp[i][k]=min(dp[i][kâˆ’1],nums[(i+k)%n])dp[i][k]=min(dp[i][k-1],nums[(i+k)\\%n])dp[i][k]=min(dp[i][kâˆ’1],nums[(i+k)%n]),ç­”æ¡ˆå°±æ˜¯å½“å‰ç§»åŠ¨æ¬¡æ•°çš„æ‰€æœ‰èŠ‚ç‚¹çš„æ€»å’Œans=min(ans,kâˆ—x+âˆ‘i=0nâˆ’1dp[i][k]ans=min(ans,k * x+\\sum_{i=0}^{n-1}dp[i][k]ans=min(ans,kâˆ—x+âˆ‘i=0nâˆ’1â€‹dp[i][k] äºŒæ¬¡å·®åˆ†:çœ‹ä¸æ‡‚ ä¼˜åŒ–:äºŒç»´dpä¹‹å’Œk-1æœ‰å…³ç³»,å¯ä»¥æ”¹æˆä¸€ç»´çš„ 2023.12.29 è´­ä¹°ä¸¤å—å·§å…‹åŠ›[ç®€å•] 2706. è´­ä¹°ä¸¤å—å·§å…‹åŠ› 2023.12.30 ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤©[ç®€å•] 1185. ä¸€å‘¨ä¸­çš„ç¬¬å‡ å¤© æ€è·¯:æ¨¡æ‹Ÿ é¢˜è§£:å·§ç”¨è¯­è¨€ä¸­çš„åº“å‡½æ•° 2023.12.31 ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©[ç®€å•] 1154. ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤© æ€è·¯:æ¨¡æ‹Ÿ é¢˜è§£:è¯­è¨€çš„ç±»åº“å¤šçœ‹çœ‹","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"Hexoåšå®¢æ–°å¢èœå•æ ","slug":"é…ç½®-hexoæ–°å¢èœå•æ ","date":"2023-12-11T06:27:08.586Z","updated":"2023-12-11T06:36:17.828Z","comments":true,"path":"2023/12/11/é…ç½®-hexoæ–°å¢èœå•æ /","link":"","permalink":"https://gladdduck.github.io/2023/12/11/%E9%85%8D%E7%BD%AE-hexo%E6%96%B0%E5%A2%9E%E8%8F%9C%E5%8D%95%E6%A0%8F/","excerpt":"","text":"1. æ–°å¢èœå•æ  æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶_config.yml æ‰¾åˆ°menuå­—æ®µï¼Œæ–°å¢èœå•æ  12345678menu: Home: . Archives: archives # å½’æ¡£ Categories: categories # åˆ†ç±» Repository: repository # github repositories About: about # å…³äº # æ–°å¢çš„èœå•æ  Picture: picturewall # å›¾ç‰‡å¢™ ä¿®æ”¹èœå•æ å¯¹åº”çš„å›¾æ ‡,å…·ä½“çš„å›¾æ ‡åç§°å¯ä»¥åœ¨ä¸»é¢˜çš„themes\\pure\\source\\css\\style.cssä¸­æ‰¾åˆ°,æ˜¯ä»¥icon-å¼€å¤´çš„ç±»å. ä½†æ˜¯çœ‹ä¸åˆ°å›¾æ ‡ä»€ä¹ˆæ ·,æ–‡ä»¶éƒ½åœ¨fontsæ–‡ä»¶å¤¹é‡Œäº† 12345678910menu_icons: enable: true # æ˜¯å¦å¯ç”¨å¯¼èˆªèœå•å›¾æ ‡ home: icon-home-fill archives: icon-archives-fill categories: icon-folder tags: icon-tags repository: icon-project books: icon-book-fill picture: icon-starfish about: icon-cup-fill ä¿®æ”¹èœå•æ çš„åç§°themes\\pure\\languages\\zh-CN.ymlä¸­ä¿®æ”¹: 1234567891011menu: Home: é¦–é¡µ Archives: å½’æ¡£ Categories: åˆ†ç±» Tags: æ ‡ç­¾ Repository: é¡¹ç›® Books: ä¹¦å• Movies: ç”µå½± Links: å‹é“¾ About: å…³äº Picture: å›¾ç‰‡å¢™ # æ–°å¢çš„ åœ¨sourceç›®å½•ä¸‹æ–°å»ºpicturewallæ–‡ä»¶å¤¹,å°±æ˜¯ç¬¬ä¸€æ­¥ä¸­menuèœå•å¯¹åº”çš„,å¹¶åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹æ–°å»ºindex.mdæ–‡ä»¶,å†…å®¹å¦‚ä¸‹: 1234567---title: ç…§ç‰‡å¢™layout: xxxxcomments: falsesidebar: none---#layoutå¯ä»¥è®¾ç½®ä¸ºç°æœ‰çš„å¸ƒå±€,æ¯”å¦‚links,booksè¿™äº›,ä¹Ÿå¯ä»¥ç›´æ¥æŠŠlayoutåˆ æ‰ åç»­public/picturewallæ–‡ä»¶å¤¹ä¸‹çš„index.htmlå°±ä¼šæ ¹æ®è¿™ä¸ªindex.mdæ¸²æŸ“ å›ºå®šèœå•æ çš„é¡µé¢(å¦‚æœè¿™ä¸ªé¡µé¢ä¸éœ€è¦æ”¹åŠ¨çš„è¯,å¯ä»¥è®¾ç½®ä¸ºè·³è¿‡æ¸²æŸ“),åœ¨_config.ymlä¸­è®¾ç½®(è¿™ä¸€æ®µè¿˜æ²¡å¤ªææ˜ç™½): 12skip_render: - picturewall/index.html","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://gladdduck.github.io/tags/Hexo/"}],"author":"gladdduck"},{"title":"mmfewshoté…ç½®","slug":"é…ç½®-mmfewshoté…ç½®","date":"2023-12-10T07:46:36.918Z","updated":"2024-01-02T12:42:26.081Z","comments":true,"path":"2023/12/10/é…ç½®-mmfewshoté…ç½®/","link":"","permalink":"https://gladdduck.github.io/2023/12/10/%E9%85%8D%E7%BD%AE-mmfewshot%E9%85%8D%E7%BD%AE/","excerpt":"","text":"åŸºé…ç½®ç¡€ä¿¡æ¯ 1234567891011121314151617181920212223# å…³äºmmfewshot1. é…ç½®æ—¶é—´:2023/12/102. mmfewshotç‰ˆæœ¬: 0.1.0# å…³äºmmcv1. mmcv 2.xç‰ˆæœ¬ä¹‹å‰å«åšmmcv-full2. mmcv 2.xç‰ˆæœ¬ä¹‹åæ”¹å--ä¹‹å‰-- |--ç°åœ¨--mmcv-full | mmcvmmcv | mmcv-lite3. mmcvæ˜¯2023å¹´4æœˆä»½æ‰æ”¹åçš„,æ‰€ä»¥mmfewshotè¦å®‰è£…mmcv-fullè¿™ä¸ªåå­—# å…³äºmmdet1. mmdet 3.xç‰ˆæœ¬ä¹‹å‰çš„ç‰ˆæœ¬,mmdet/datasets/custome.pyæ–‡ä»¶ç”¨åˆ°çš„numpyçš„ä¸€ä¸ªæ–¹æ³•æ˜¯np.int,è¿™ä¸ªæ˜¯numpyçš„1.20ç‰ˆæœ¬ä¸¢å¼ƒçš„,æ‰€ä»¥ä½¿ç”¨mmdet3.xä¹‹å‰çš„ç‰ˆæœ¬è¦å®‰è£…numpy 1.20ä¸€ä¸‹åŠçš„2. ä½¿ç”¨mmdet3.xçš„ç‰ˆæœ¬ä¼šæç¤º,mmcvç‰ˆæœ¬è¿‡ä½,éœ€è¦å®‰è£…mmcv2.xç‰ˆæœ¬(ä½†æ˜¯mmcv-fullè¿™ä¸ªç‰ˆæœ¬æœ€é«˜åªèƒ½æ˜¯1.x,æ‰€ä»¥æ— è§£(ä¸çŸ¥é“ç†è§£çš„å¯¹ä¸å¯¹)),æ„å‘³ç€mmfewshot 0.1.0å¯èƒ½ä¸æ”¯æŒmmdet3.xç‰ˆæœ¬# æ€»ä¹‹:mmcvmmdetmmfewshotè¿™ä¸‰ä¸ªåº“ä¹‹é—´çš„ç‰ˆæœ¬ç›¸äº’ä¾èµ–,æ‰€ä»¥è¦å®‰è£…å¯¹åº”çš„ç‰ˆæœ¬,å¦åˆ™ä¼šæŠ¥é”™ å®‰è£… å®‰è£…mmcv-full(å¦‚æœå·²ç»æœ‰mmcv,éœ€è¦æŠŠmmcvå¸è½½) 123# è¿™ä¸ªè¦åŠ ä¸Š-få‚æ•°,ä¸ç„¶ MMCV CUDA Compiler: not available# MMCV CUDA Compiler: 10.1 æ˜¯æ­£ç¡®çš„pip install mmcv-full==1.5.0 -f https://download.openmmlab.com/mmcv/dist/cu102/torch1.7.0/index.html å®‰è£…mmdet 1pip install mmdet==2.24.0 å®‰è£…mmcls,è¿™ä¸ªåº“å¥½åƒæ²¡æœ‰ç‰¹åˆ«å¤§çš„åŒºåˆ« 1pip install mmcls==0.23.2 å®‰è£…mmfewshot 12345# gitä¸‹æ¥ä¹‹åè¿›å…¥mmfewshotç›®å½•pip install -r requirements/build.txtpip install -v -e . # or &quot;python setup.py develop&quot; å®‰è£…numpy 12345pip install numpy==1.19.5# matplotlibå’Œpandasç°åœ¨è¦æ±‚çš„æœ€ä½çš„numpyç‰ˆæœ¬æ˜¯1.20.0,æ‰€ä»¥è¦å®‰è£…æ—§ç‰ˆçš„pandaså’Œmatplotlib# è¿™ä¸¤ä¸ªç‰ˆæœ¬æ˜¯æ”¯æŒnumpy1.19.5çš„pip install matplotlib==3.6.0pip install pandas==1.4.4 æœ€åçš„ç‰ˆæœ¬ 1234567mmcls 0.23.2mmcv-full 1.5.0mmdet 2.24.0mmfewshot 0.1.0 Pillow 8.4.0pandas 1.4.4matplotlib 3.6.0 ### å¯èƒ½çš„æŠ¥é”™ TypeError: FormatCode() got an unexpected keyword argument 'verify' Issue å®‰è£…yapfè§£å†³ 1pip install yapf==0.40.1 RuntimeError: roi_align_forward_impl: implementation for device cuda:0 not found. è¿è¡Œmmfewshot/utils/collect_env.pyçš„æ–‡ä»¶,çœ‹çœ‹cudaæ˜¯å¦å¯ç”¨,å®‰è£…å¯¹åº”çš„cudaç‰ˆæœ¬ å‚è€ƒä¸Šé¢ å®‰è£…mmcv-full 1pip install mmcv -f https://download.openmmlab.com/mmcv/dist/cu102/torch1.7.0/index.html åˆå§‹å®‰è£…ç‰ˆæœ¬ä¸å¯¹çš„æŠ¥é”™ Issue 123456789101112131415161718192021222324252627282930313233343536373839===================================mmcls 0.25.0 https://github.com/open-mmlab/mmclassificationmmcv-lite 2.1.0 https://github.com/open-mmlab/mmcvmmdet 3.0.0 https://github.com/open-mmlab/mmdetectionmmengine 0.10.1 https://github.com/open-mmlab/mmengineGPU 0: Tesla V100-SXM2-32GB (UUID: GPU-828d98d3-ad2a-0a92-d4d9-0dac21a5439f)/public/home/zhaol/syxue20225227095/fewshotdetection/mmfewshot-mainTraceback (most recent call last): File &quot;tools/detection/train.py&quot;, line 12, in &lt;module&gt; from mmcv import Config, DictActionImportError: cannot import name &#x27;Config&#x27; from &#x27;mmcv&#x27; (/public/home/zhaol/anaconda3/envs/syxue2/lib/python3.8/site-packages/mmcv/__init__.py)===================================mmcls 0.25.0 https://github.com/open-mmlab/mmclassificationmmcv 2.1.0 https://github.com/open-mmlab/mmcvmmdet 3.2.0 https://github.com/open-mmlab/mmdetectionmmengine 0.10.1 https://github.com/open-mmlab/mmengineGPU 0: Tesla V100-SXM2-32GB (UUID: GPU-828d98d3-ad2a-0a92-d4d9-0dac21a5439f)/public/home/zhaol/syxue20225227095/fewshotdetection/mmfewshot-mainTraceback (most recent call last): File &quot;tools/detection/train.py&quot;, line 12, in &lt;module&gt; from mmcv import Config, DictActionImportError: cannot import name &#x27;Config&#x27; from &#x27;mmcv&#x27; (unknown location)===================================mmcls 0.25.0 https://github.com/open-mmlab/mmclassificationmmdet 3.0.0 https://github.com/open-mmlab/mmdetectionmmengine 0.10.1 https://github.com/open-mmlab/mmenginemmcv-full 1.7.1 https://github.com/open-mmlab/mmcvGPU 0: Tesla V100-SXM2-32GB (UUID: GPU-828d98d3-ad2a-0a92-d4d9-0dac21a5439f)/public/home/zhaol/syxue20225227095/fewshotdetection/mmfewshot-main/public/home/zhaol/anaconda3/envs/syxue2/lib/python3.8/site-packages/mmcv/__init__.py:20: UserWarning: On January 1, 2023, MMCV will release v2.0.0, in which it will remove components related to the training process and add a data transformation module. In addition, it will rename the package names mmcv to mmcv-lite and mmcv-full to mmcv. See https://github.com/open-mmlab/mmcv/blob/master/docs/en/compatibility.md for more details. warnings.warn(Traceback (most recent call last): File &quot;tools/detection/train.py&quot;, line 15, in &lt;module&gt; from mmdet.utils import collect_env File &quot;/public/home/zhaol/anaconda3/envs/syxue2/lib/python3.8/site-packages/mmdet/__init__.py&quot;, line 16, in &lt;module&gt; assert (mmcv_version &gt;= digit_version(mmcv_minimum_version)AssertionError: MMCV==1.7.1 is used but incompatible. Please install mmcv&gt;=2.0.0rc4, &lt;2.1.0. RuntimeError: CUDA error: no kernel image is available for execution on the device é”™è¯¯ å®‰è£…çš„pytorchç‰ˆæœ¬å’Œcudaç‰ˆæœ¬ä¸å¯¹åº” åˆšå¼€å§‹å®‰è£…çš„pytorch 1.6.0 + cuda 10.1, 1pip install torch==1.13.1+cu117 torchvision==0.14.1+cu117 torchaudio==0.13.1 --extra-index-url https://download.pytorch.org/whl/cu117 ç¬¬äºŒæ¬¡å®‰è£…å®Œæˆ-å¢åŠ xformers 123456789101112131415conda create -n mmfew python=3.9conda activate mmfewpip install torch==1.12.1+cu113 torchvision==0.13.1+cu113 torchaudio==0.12.1 --extra-index-url https://download.pytorch.org/whl/cu113conda install linux-64_xformers-0.0.22-py39_cu11.6.2_pyt1.12.1.tar.bz2pip install mmcv-full==1.6.0 -f https://download.openmmlab.com/mmcv/dist/cu113/torch1.12/index.htmlpip install mmdet==2.24.0 mmcls==0.23.2cd mmfewshot-mainpip install -r requirements/build.txtpip install -v -e .pip install yapf==0.40.1pip install triton","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"mmfewshot","slug":"mmfewshot","permalink":"https://gladdduck.github.io/tags/mmfewshot/"}]},{"title":"Hexoåšå®¢å‚æ•°è®°å½•","slug":"é…ç½®-Hexoåšå®¢å‚æ•°è®°å½•","date":"2023-12-03T05:54:00.181Z","updated":"2023-12-03T06:05:39.077Z","comments":true,"path":"2023/12/03/é…ç½®-Hexoåšå®¢å‚æ•°è®°å½•/","link":"","permalink":"https://gladdduck.github.io/2023/12/03/%E9%85%8D%E7%BD%AE-Hexo%E5%8D%9A%E5%AE%A2%E5%8F%82%E6%95%B0%E8%AE%B0%E5%BD%95/","excerpt":"","text":"Hexoå®˜ç½‘API å®˜ç½‘API å®˜ç½‘ä»“åº“ æ–‡ç« å±æ€§","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://gladdduck.github.io/tags/Hexo/"}],"author":"gladdduck"},{"title":"Few-shot Object Detectionè®ºæ–‡æ€»ç»“","slug":"å­¦æœ¯-Few-shotDetectionè®ºæ–‡æ€»ç»“","date":"2023-11-24T12:54:49.892Z","updated":"2023-12-22T02:15:38.099Z","comments":true,"path":"2023/11/24/å­¦æœ¯-Few-shotDetectionè®ºæ–‡æ€»ç»“/","link":"","permalink":"https://gladdduck.github.io/2023/11/24/%E5%AD%A6%E6%9C%AF-Few-shotDetection%E8%AE%BA%E6%96%87%E6%80%BB%E7%BB%93/","excerpt":"","text":"Few-shot Object Detection ç»¼è¿° Few-Shot Object Detection: A Comprehensive Survey é—®é¢˜å®šä¹‰:N-way K-shotè¡¨ç¤ºä½¿ç”¨Kä¸ªæ ·æœ¬æ¥è®­ç»ƒNä¸ªç±»åˆ« å’Œfew-shot learning,semi-supervised learning,increamental learningçš„åŒºåˆ« ä½¿ç”¨åˆ°çš„æŠ€æœ¯:1)è¿ç§»å­¦ä¹ 2)åº¦é‡å­¦ä¹ 3)å…ƒå­¦ä¹  Dual-Branch meta learning: å®ç°æ€è·¯:ä¸€ä¸ªQuery Branchç”¨æ¥æå–å¾…æ£€æµ‹å›¾åƒçš„ç‰¹å¾,ç„¶åé€šè¿‡RPNå’Œä¸€ä¸ªRoI Alignå¾—åˆ°Query Feature,å†å’ŒSupport Featureæå–å‡ºæ¥çš„Supportç‰¹å¾(K shot,K&gt;1å–å¹³å‡),è¿›è¡ŒAggregation,ç„¶åé€å…¥RoI Headè¿›è¡Œåˆ†ç±»å’Œå›å½’. èšåˆç›¸å…³æ”¹è¿› Variant For Aggregation: ç¼ºç‚¹:åœ¨RPNä¹‹åè¿›è¡Œèšåˆ,éœ€è¦RPNä¸ºæ–°ç±»åˆ«ç”ŸæˆProposal,ä½†æ˜¯RPNå¯èƒ½æ— æ³•ä¸ºæ–°ç±»åˆ«ç”ŸæˆProposal æ”¹è¿›:åœ¨RPNä¹‹å‰è¿›è¡Œèšåˆ(AttentionRPN),ç„¶åå°†å¢å¼ºçš„ç‰¹å¾é€å…¥RPN,ç”ŸæˆProposal æ”¹è¿›:ä½¿ç”¨second-order poolingæ›¿æ¢avg pooling,å‡å°‘Support Featureçš„é¢œè‰²,æ¡çº¹,æ–‘ç‚¹å¸¦æ¥çš„å™ªå£° Variant For Aggregation Operation ç¼ºç‚¹:ç®€å•çš„channel-wise ä¹˜æ³•ä¸èƒ½å……åˆ†åˆ©ç”¨Queryå’ŒSupportçš„ç‰¹å¾ æ”¹è¿›:æ·»åŠ æ¯”ä¾‹å› å­,ä½¿ç”¨å·ç§¯,åˆ©ç”¨æ›´å¤æ‚çš„æ“ä½œç­‰ Keep Spatial Information for Aggregation ç¼ºç‚¹:average poolingä¼šä¸¢å¤±ç©ºé—´ä¿¡æ¯,convolutionä¼šå¯¼è‡´ç©ºé—´ä¿¡æ¯ä¸å¯¹é½ æ”¹è¿›:attention-based aggregation Attention-base Aggregation Dual-Awareness Attention for Few-Shot Object Detection:å¢å¼ºå‰æ™¯,æŠ‘åˆ¶èƒŒæ™¯å¹¶ä½¿ç”¨Query Feature Mapä¿ƒè¿›ç©ºé—´ä½ç½®çš„å¯¹é½ Object detection based on few-shot learning via instance-level feature correlation and aggregation:IFC moduleç”¨äºæ„é€ å®ä¾‹ç‰¹å¾çš„ç›¸å…³æ€§,ASA moduleå¢å¼ºæŸ¥è¯¢å’Œæ”¯æŒä¹‹é—´çš„ç‰¹å¾çµæ•åº¦,å‡å°‘å†—ä½™ä¿¡æ¯ Few-shot object detection with affinity relation reasoning:è®¾è®¡äº†ä¸€ä¸ªäº²å’Œå…³ç³»æ¨ç†æ¨¡å—ï¼ˆARRMï¼‰æ¥ä¿ƒè¿›æ”¯æŒç‰¹å¾å’Œæ„Ÿå…´è¶£åŒºåŸŸç‰¹å¾çš„äº¤äº’ One-Shot Object Detection with Co-Attention and Co-Excitation:ä½¿ç”¨éå±€éƒ¨æ“ä½œæ¥æ¢ç´¢æ¯ä¸ªæŸ¥è¯¢-ç›®æ ‡å¯¹ä¸­ä½“ç°çš„å…±åŒæ³¨æ„,å¹¶ä¸”ä½¿ç”¨æ”¹è¿›çš„SeNetåˆ†é…å€™é€‰åŒºåŸŸçš„é‡è¦æ€§ Adaptive Image Transformer for One-Shot Object Detection:å°†æ”¯æŒå’ŒæŸ¥è¯¢ä½œä¸ºTransformerçš„è¾“å…¥,æ¥å……åˆ†èåˆä¿¡æ¯ Multi-Level Aggregation ç¼ºç‚¹:åªåœ¨ç‰¹å¾æŠ½å–ä¹‹åè¿›è¡Œäº†ä¸€æ¬¡èšåˆ æ”¹è¿›:ä½¿ç”¨PVTv2(Pyramid Vision Transformer)åœ¨ç‰¹å¾æŠ½å–çš„æ—¶å€™è¿›è¡Œå¤šæ¬¡èåˆ Aggregation of Several Support Images ç¼ºç‚¹:å¤šä¸ªSupport Imageçš„æƒ…å†µä¸‹,å¯¹ç‰¹å¾å›¾å–å¹³å‡,å¿½ç•¥äº†ä¸åŒçš„ä¿¡æ¯ æ”¹è¿›:1)ä½¿ç”¨å¯å­¦ä¹ çš„æƒé‡ 2)ä½¿ç”¨softmaxåˆ†é…æƒé‡ Incorporate Relation between Caregories ç¼ºç‚¹:åŸºæœ¬ç±»åˆ«å¯ä»¥å¸®åŠ©è¯†åˆ«æ–°çš„ç¨€ç–ç±» æ”¹è¿›:1)èå…¥è¯­è¨€ç‰¹å¾ 2)æ„å»ºå›¾å…³ç³»(å¤šç±»åˆ«å…³ç³»å¢å¼ºç‰¹å¾,åˆå¹¶ç›¸ä¼¼ç±»åˆ«ç‰¹å¾) 3)æ•è·ç±»é—´ç›¸ä¼¼æ€§,å¢å¼ºæ³›åŒ–èƒ½åŠ› Increase Discriminative power ç¼ºç‚¹:1)åœ¨èšåˆä¹‹å,é€šå¸¸ä½¿ç”¨äº¤å‰ç†µæŸå¤±åˆ¤åˆ«åˆ†ç±»,æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨åº¦é‡å­¦ä¹  2)å…ƒå­¦ä¹ å­¦ä¹ å»åŒºåˆ†å‰æ™¯å’ŒèƒŒæ™¯,è¿™å¯¼è‡´æœ‰å¯èƒ½æ£€æµ‹åˆ°ä¸å­˜åœ¨çš„ç‰©ä½“ æ”¹è¿›:-1)GenDetå’ŒMeta DETRé€šè¿‡ç›¸ä¼¼åº¦çŸ©é˜µæœ€å°åŒ–ç±»é—´å·®å¼‚,æœ€å¤§åŒ–ä¸åŒçš„æ”¯æŒå‘é‡ 2)MM-FSODä½¿ç”¨çš®å°”æ–¯ç³»æ•°èšåˆæ”¯æŒå‘é‡å’ŒæŸ¥è¯¢å‘é‡ 3)CMEæ“¦é™¤æœ€å…·è¾¨åˆ«åŠ›çš„åƒç´  -1)AttentionRPNä½¿ç”¨å¤šå…³ç³»æ£€æµ‹å™¨æ¥åˆ¤æ–­æ˜¯å¦å­˜æœ‰ç‰©ä½“ 2)å¯¹æ¯”å­¦ä¹ æµ‹é‡ç”¨æ¥åŒºåˆ†ä¸åŒçš„ç±»åˆ« 3)GenDetä½¿ç”¨é¢å¤–çš„æ£€æµ‹å™¨æ£€æµ‹åŸºç±»,å¢å¼ºéª¨å¹²ç½‘ç»œæå–æ›´å…·ä»£è¡¨æ€§çš„ç‰¹å¾ Improve representation capability ç¼ºç‚¹:base categoriesè¢«è§†ä¸ºè´Ÿç±»,å¯¼è‡´è¯†åˆ«æ–°ç±»çš„è¡¨è¾¾èƒ½åŠ›ä¸è¶³ æ”¹è¿›:SPCNé€šè¿‡é€‰æ‹©ä¸åŸºç±»ä¸åŒçš„åŒºåŸŸ,å¹¶ä½¿ç”¨è‡ªç›‘ç£çš„æ–¹å¼æ£€æµ‹æ•°æ®å¢å¼ºå‰åç›¸åŒçš„éåŸºç±»åŒºåŸŸ Proposal-free Detector ç¼ºç‚¹:è®¸å¤šæ–¹æ³•åŸºäºFaster RCNN,1)å¯èƒ½ç”Ÿæˆä¸å‡†ç¡®çš„åŒºåŸŸå»ºè®®æ¡†,2)å†³å®šåœ¨åŒºåŸŸå»ºè®®æ¡†ä¹‹å‰è¿˜æ˜¯ä¹‹åè¿›è¡Œèšåˆ æ”¹è¿›:1)æ— æè®®æ¡†çš„æ¨¡å‹æ›´å®¹æ˜“å®ç° 2)åŸºäºYOLO 3)åŸºäºDETR Keep the Performance on Base Categories ç¼ºç‚¹:å­¦ä¹ æ–°çš„ç±»åˆ«ä¹‹å,æ¨¡å‹å¯èƒ½ä¼šå¯¼è‡´ç¾éš¾æ€§é—å¿˜ æ”¹è¿›:1)Meta Faster R-CNNä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„branché¢„æµ‹base categories,åœ¨è®­ç»ƒæœŸé—´å›ºå®š 2)Sylphæ¯ä¸ªç±»åˆ«ä½¿ç”¨ç‹¬ç«‹çš„åˆ†ç±»å™¨ Increase the Variance of Novel Categories ç¼ºç‚¹:ç›´æ¥åº”ç”¨æ•°æ®å¢å¼ºæ•ˆæœä¸ä½³ æ”¹è¿›:TIPä½¿ç”¨additional transformed guidance consistency loss,ä½¿å¾—å˜åŒ–å‰åçš„å›¾åƒç‰¹å¾ä¿æŒä¸€è‡´ Incorporate Context Information ç¼ºç‚¹:åœ¨RoI poolæˆ–è€…RoI Alignä¹‹å,å¯èƒ½å¯¼è‡´ä¸¢å¤±ä¿¡æ¯ æ”¹è¿›:DCNetä½¿ç”¨ä¸‰ç§ä¸åŒåˆ†è¾¨ç‡æ‰§è¡Œå¹¶è¡Œæ± åŒ– Category-agnostic Bounding Box Regression Single-Branch meta learning: ç”¨çš„å¤ªå°‘,ä¸”ç²¾ç¡®åº¦ä¸é«˜ Transfer Learning ç•¥â€¦ Modifications of the Region Proposal Network Modifications of the Feature Pyramid Network Increase the Variance of Novel Categories Transfer Knowledge Between Base and Novel Categories Keep the Performance on Base Categories Modify the Training Objective Use Attention Modify Architecture è®ºæ–‡ 1. (MetaYOLO,FSRW) Few-shot Object Detection via Feature Reweighting æ€æƒ³: ä¸€ä¸ªå…ƒç‰¹å¾æŠ½å–æ¨¡å—(meta feature extractor:YOLOv2ä¸­çš„Darknet19),ç”¨æ¥æå–æŸ¥è¯¢å›¾åƒçš„å…ƒç‰¹å¾ ä¸€ä¸ªç‰¹å¾é‡åŠ æƒæ¨¡å—(feature reweighting module),å°†æ”¯æŒå›¾åƒæŠ½å–å‡ºå…¨å±€ç‰¹å¾(class-specific representation),ç”¨äºè°ƒæ•´å…ƒç‰¹å¾çš„è´¡çŒ®,è·å¾—(ç†è§£ä¸ºæŠ½å–å‡ºæ”¯æŒå›¾åƒçš„ç‰¹å¾ç„¶åå’ŒæŸ¥è¯¢å›¾åƒçš„ç‰¹å¾åšä¸€ä¸ªchannel-wiseçš„ä¹˜æ³•,æ¥å½¢æˆä¸€ä¸ªreweightingçš„ç‰¹å¾(class-specific features)). å¦ä¸€ä¸ªç†è§£:æŠŠæ”¯æŒå›¾åƒçš„ç‰¹å¾æŠ½å–æˆä¸€ä¸ªæƒé‡å‚æ•°,ç”¨è¿™ä¸ªå‚æ•°æ¥åŠ¨æ€è°ƒæ•´æŸ¥è¯¢å›¾ä¸­çš„ç‰¹å¾è´¡çŒ®,å¾—åˆ°ä¸€ä¸ªæ–°çš„class-specific features å°†class-specific featuresé€å…¥YOLOv2çš„æ£€æµ‹å™¨ä¸­è¿›è¡Œæ£€æµ‹ è¾“å…¥æ˜¯ä¸€ä¸ªå›¾å½¢å’ŒäºŒè¿›åˆ¶æ©ç ,æ©ç åªæ”¯æŒä¸€ä¸ªç›®æ ‡ è®­ç»ƒ: åŸºç¡€è®­ç»ƒé˜¶æ®µ,æ­£å¸¸ç›®æ ‡æ£€æµ‹è®­ç»ƒ,ç›®çš„æ˜¯è®©æ¨¡å‹å­¦ä¼šé€šè¿‡å‚è€ƒreweightingå‘é‡æ¥æ£€æµ‹æ„Ÿå…´è¶£çš„é¢„å– å¾®è°ƒè®­ç»ƒé˜¶æ®µ,åœ¨åŸºç±»å’Œæ–°ç±»ä¸Šè®­ç»ƒæ¨¡å‹,æ¯ä¸ªç±»Kä¸ªsupport images, æ¨¡æ‹ŸK-shot æŸå¤±å‡½æ•°ä¸­çš„åˆ†ç±»æŸå¤±,ä½¿ç”¨softmaxä¹‹åçš„ç±»åˆ« è¡¥å…… Deep Traffic å¾®ä¿¡å…¬ä¼—å·:FSRW 2. (MetaRCNN) Meta R-CNN: Towards General Solver for Instance-Level Low-Shot Learning æ€æƒ³: æŸ¥è¯¢é›†å›¾ç‰‡ç»è¿‡ç‰¹å¾æå–ç½‘ç»œå’ŒRPNç½‘ç»œï¼ˆä¸Faster/Mask R-CNNä¸­ç›¸åŒï¼‰å¾—åˆ°æ„Ÿå…´è¶£åŒºåŸŸçš„ç‰¹å¾å›¾ziz_iziâ€‹ã€‚ æ”¯æŒé›†å›¾åƒå’Œå¯¹åº”çš„çœŸå®æ ‡ç­¾å›¾ç»è¿‡é¢„æµ‹å™¨é‡å»ºæ¨¡ç½‘ç»œï¼ˆPredictor-head Remodeling Networkï¼‰å¾—åˆ°æ¯ä¸ªç±»åˆ«å¯¹åº”çš„ç±»åˆ«æ³¨æ„åŠ›å‘é‡ï¼ˆclass-attentive vectorsï¼‰ï¼ŒPRNç½‘ç»œçš„ä¸»ä½“éƒ¨åˆ†ä¸Faster/Mask R-CNNçš„ç‰¹å¾æå–ç½‘ç»œç»“æ„ç›¸åŒä¸”æƒé‡å…±äº«ï¼Œå¾—åˆ°å¯¹åº”ç‰¹å¾å›¾å,é€šè¿‡é€å…ƒç´ Sigmoidå‡½æ•°å¾—åˆ°å¯¹åº”çš„æ³¨æ„åŠ›å‘é‡vcv_cvcâ€‹. æœ€åå°†RPNç½‘ç»œè¾“å‡ºçš„æ„Ÿå…´è¶£åŒºåŸŸç‰¹å¾å›¾zcz_czcâ€‹å’ŒPRNç½‘ç»œè¾“å‡ºçš„æ³¨æ„åŠ›å‘é‡vcv_cvcâ€‹é€šè¿‡é€é€šé“ç›¸ä¹˜çš„æ–¹å¼è¿›è¡Œèåˆ,å†åˆ©ç”¨Faster/Mask R-CNNä¸­é¢„æµ‹å¤´å¾—åˆ°å¯¹åº”ä¸ªæ£€æµ‹å›¾æˆ–åˆ†å‰²å›¾. ç¬¦å·è¯´æ˜: å«ä¹‰ å«ä¹‰ å«ä¹‰ å«ä¹‰ CbaseC_{base}Cbaseâ€‹ åŸºç±» CnovalC_{noval}Cnovalâ€‹ æ–°ç±» CmetaC_{meta}Cmetaâ€‹ åŸºç±»æ–°ç±»çš„æ··åˆ DtrainD_{train}Dtrainâ€‹ è®­ç»ƒæ•°æ® DmetaD_{meta}Dmetaâ€‹ æµ‹è¯•æ•°æ® h(â‹…,Î¸)h(Â·,\\theta )h(â‹…,Î¸) åŸå§‹é¢„æµ‹å¤´ h(â‹…,Dmeta,Î¸)h(Â·,D_{meta},\\theta )h(â‹…,Dmetaâ€‹,Î¸) é‡å»ºåçš„é¢„æµ‹å¤´ PRN: PRNä»DmetaD_{meta}Dmetaâ€‹ä¸­æ¨æ–­ç±»åˆ«æ³¨æ„å‘é‡vmeta=f(Dmeta;Ï•)\\mathbf{v}^{m e t a}=f\\left(D_{m e t a} ; \\phi\\right)vmeta=f(Dmetaâ€‹;Ï•). å…·ä½“è€Œè¨€,PRNè¾“å…¥çš„DmetaD_{meta}Dmetaâ€‹æ˜¯ä¸€ç³»åˆ—ç‰©ä½“çš„å›¾åƒ,å…±CmetaC_{meta}Cmetaâ€‹ä¸ªç±»åˆ«,æ¯ç±»KKKä¸ªæ ·æœ¬,æ¯ä¸ªç‰©ä½“ç”±RGBå›¾åƒå’Œå‰æ™¯æ©ç æ ‡è®°å››ä¸ªé€šé“è¡¨ç¤º,ç»è¿‡ä¸€å±‚å·ç§¯ä¹‹å,é€å…¥å…±äº«å‚æ•°çš„backbone,æœ€åç»è¿‡é€šé“è½¯æ³¨æ„åŠ›ç”Ÿæˆç›®æ ‡æ³¨æ„åŠ›å‘é‡v\\mathbf{v}v,ç»è¿‡å¹³å‡æ± åŒ–å¾—åˆ°ç±»åˆ«æ³¨æ„å‘é‡vcmeta=1Kâˆ‘j=1Kvk(c)\\mathbf{v}_{c}^{m e t a}=\\frac{1}{K} \\sum_{j=1}^{K} \\mathbf{v}_{k}^{(c)}vcmetaâ€‹=K1â€‹âˆ‘j=1Kâ€‹vk(c)â€‹,å°†å…¶ä¸ RoI ç‰¹å¾(Z^i\\hat{\\mathbf{Z}}_{i}Z^iâ€‹)è¿›è¡Œé€šé“å±‚çº§çš„ç‚¹ä¹˜ï¼Œå°†h(â‹…,Î¸)h(Â·,\\theta )h(â‹…,Î¸)è½¬ä¸ºh(â‹…,Dmeta,Î¸)h(Â·,D_{meta},\\theta )h(â‹…,Dmetaâ€‹,Î¸) $ h\\left(\\hat{\\mathbf{z}}{i, j}, D{\\text {meta }} ; \\boldsymbol{\\theta}^{\\prime}\\right) \\= h\\left(\\hat{\\mathbf{z}}{i, j} \\otimes \\mathbf{v}^{\\text {meta }}, \\boldsymbol{\\theta}\\right) \\=h\\left(\\hat{\\mathbf{z}}{i, j} \\otimes f\\left(D_{\\text {meta }} ; \\boldsymbol{\\phi}\\right), \\boldsymbol{\\theta}\\right) $ å…³é”®ç‚¹: Mini-batch construction: ä¸€ä¸ªè®­ç»ƒçš„mini-batchåŒ…å« mä¸ªç±»CmetaC_{meta}Cmetaâ€‹,K-shot m-classçš„meta-set DmetaD_{meta}Dmetaâ€‹ (æµ‹è¯•æ•°æ®), mä¸ªç±»çš„è®­ç»ƒæ•°æ® DtrainD_{train}Dtrainâ€‹. DtrainD_{train}Dtrainâ€‹å°±æ˜¯Faster RCNNçš„è¾“å…¥å¯¹è±¡. Channel-wise soft-attention layer æ‰§è¡Œç©ºé—´æ± åŒ–æ¥å¯¹é½å›¾åƒç‰¹å¾,ä¿æŒç›¸åŒå¤§å°çš„Roiç‰¹å¾(z^i,j\\hat{z}_{i,j}z^i,jâ€‹),ç‰¹å¾ç»è¿‡é€å…ƒç´ çš„ sigmoid ä»¥äº§ç”Ÿæ³¨æ„åŠ›å‘é‡ Meta-loss ä¸åŒç±»å¯¹è±¡çš„æ³¨æ„å‘é‡åº”è¯¥å¯¼è‡´å¯¹Roiç‰¹å¾çš„ä¸åŒé€‰æ‹©,ä¸ºæ­¤æå‡ºä¸€ä¸ªMetaâˆ’lossMeta-lossMetaâˆ’loss,ä½¿å…ƒå­¦ä¹ ä¸­æ¨æ–­çš„å¯¹è±¡æ³¨æ„åŠ›å‘é‡å¤šæ ·åŒ–ã€‚é€šè¿‡äº¤å‰ç†µæŸå¤±å®ç°çš„ï¼Œé¼“åŠ±å¯¹è±¡æ³¨æ„åŠ›å‘é‡è½åœ¨æ¯ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ä¸­ Roi meta-learning è®­ç»ƒåˆ†ä¸ºä¸¤éƒ¨åˆ†,1. meta-train:åªä½¿ç”¨åŸºç±»å¯¹è±¡æ„å»º 2.meta-test:ä½¿ç”¨åŸºç±»å’Œæ–°ç±»å¯¹è±¡æ„å»º inference è®­ç»ƒæ—¶çš„object attentive vectorså°†æ›¿æ¢class-attentive vectors,ç”¨äºåœ¨Roiç‰¹å¾ä¸Šä½œç”¨sotf-attention åœ¨æµ‹è¯•æ—¶,PRNæ¥å—K-shotæ¥ç”Ÿæˆclass-attentive vectors,ç„¶åç”¨äºRoiç‰¹å¾ä¸Šçš„soft-attention.ä½†æ˜¯æµ‹è¯•æ—¶,class-attentive vectorså¯ä»¥æå–é¢„å¤„ç†,ç„¶åç”¨äºRoiç‰¹å¾ä¸Šçš„soft-attention. è¡¥å…… Deep Traffic å¾®ä¿¡å…¬ä¼—å·:Meta-RCNN è¡¥å…… 3. (AttentionRPF) Few-Shot Object Detection with Attention-RPN and Multi-Relation Detector æ€æƒ³: Attention-RPN:é€šè¿‡æ³¨æ„åŠ›æœºåˆ¶å‘ RPN å¼•å…¥æ”¯æŒä¿¡æ¯æ¥æŒ‡å¯¼ RPN äº§ç”Ÿç›¸å…³çš„å€™é€‰æ¡†,æŠ‘åˆ¶å…¶ä»–ç±»åˆ«çš„å€™é€‰æ¡†.å°†support featureå˜æˆSÃ—SÃ—CSÃ—SÃ—CSÃ—SÃ—Cçš„å‘é‡(ä½œè€…å‘ç°s=1æ•ˆæœæœ€å¥½,å°±æ˜¯1Ã—1çš„å·ç§¯æ ¸),ç„¶ååœ¨query featureä¸Šè¿›è¡Œå·ç§¯,å»ºç«‹æ³¨æ„åŠ›map(è¿™ç§å·ç§¯å…¶æœ¬è´¨æ˜¯æŒ‰é€šé“çš„ç‚¹ç§¯ï¼Œå¯ä»¥è§†ä¸ºæ±‚ä½™å¼¦ç›¸ä¼¼åº¦çš„è¿‡ç¨‹),ç„¶åå°†è¿™ä¸ªæ³¨æ„åŠ›mapç»è¿‡ä¸€ä¸ªå·ç§¯é€åˆ°RPNä¸­. Multi-Relation Detector:æµ‹é‡æ¥è‡ªæŸ¥è¯¢å’Œæ”¯æŒå¯¹è±¡çš„æè®®æ¡†ä¹‹é—´çš„ç›¸ä¼¼æ€§,åˆ†ç±»ä¸‰ä¸ª(å…¨å±€å…³è”ï¼Œå±€éƒ¨å…³è”ï¼Œä»¥åŠpatchå…³è”);æœ€ç»ˆå¾—åˆ°çš„æ˜¯æ”¯æŒå¯¹è±¡å’Œå€™é€‰æ¡†ç›´æ¥çš„åŒ¹é…å¾—åˆ†(matching score). å¯¹æ¯”å®éªŒ,æå‡ºç›¸åŒç±»åˆ«çš„å¯¹è±¡é‡è¦,ä¸åŒç±»åˆ«çš„å¯¹è±¡æ›´é‡è¦.æ„å»ºäº†ä¸€ä¸ªä¸‰å…ƒç»„(æŸ¥è¯¢å¯¹è±¡ç±»æ¯”,æ”¯æŒå¯¹è±¡ç±»åˆ«,æ”¯æŒå¯¹è±¡å…¶ä»–ç±»åˆ«),æ¥å¢å¼ºæ¨¡å‹å¯¹å‰æ™¯å’ŒèƒŒæ™¯çš„åŒºåˆ†èƒ½åŠ›. è§£å†³: RPNå¯¹novel classçš„æè®®ä¸å¥½ ç°æœ‰çš„æ¨¡å‹éƒ½éœ€è¦fine-tune Deep Traffic å¾®ä¿¡å…¬ä¼—å·:Attention-RPN 4. (MetaDETR) Meta-DETR: Image-Level Few-Shot Object Detection with Inter-Class Correlation Exploitation é—®é¢˜: ä½è´¨é‡çš„æ–°ç±»åŒºåŸŸå»ºè®® å•æ¬¡æ¨ç†åªèƒ½æ£€æµ‹ä¸€ä¸ªç±»,å¿½ç•¥äº†ä¸åŒç±»çš„ç±»é—´ç›¸å…³æ€§ æ€æƒ³: å…±äº«çš„ç‰¹å¾æŠ½å–å™¨æŠŠæŸ¥è¯¢å›¾åƒå’Œæ”¯æŒå›¾åƒæå–åˆ°ç›¸åŒçš„ç‰¹å¾ç©ºé—´ä¸­ é€šè¿‡ç›¸å…³èšåˆæ¨¡å—(CAM)æ‰§è¡ŒæŸ¥è¯¢å’Œæ”¯æŒç›´æ¥çš„åŒ¹é…ï¼ŒCAMè¿›ä¸€æ­¥æŠŠæ”¯æŒç±»æ˜ å°„åˆ°ä¸€ç»„é¢„å®šä¹‰çš„ä»»åŠ¡ç¼–ç ä¸­,è¿™äº›ä»»åŠ¡ç¼–ç ä»¥ç±»æ— å…³çš„æ–¹å¼åŒºåˆ†æ”¯æŒç±» æœ€å,é€šè¿‡transformeræ¶æ„(Deformable-DETR)é¢„æµ‹å¯¹è±¡ä½ç½®å’Œç›¸åº”ä»»åŠ¡ç¼–ç  å…³é”®ç‚¹: Feature Matching:é€šè¿‡ç¨å¾®ä¿®æ”¹æ³¨æ„åŠ›æœºåˆ¶å®ç°ç‰¹å¾åŒ¹é…,æ—¨åœ¨è¿‡æ»¤æ‰ä¸æ”¯æŒç±»æ— å…³çš„ç‰¹å¾; A=Attnâ¡(Q,S)=Softmaxâ¡((QW)(SW)Td),\\mathbf{A}=\\operatorname{Attn}(\\mathbf{Q}, \\mathbf{S})=\\operatorname{Softmax}\\left(\\frac{(\\mathbf{Q W})(\\mathbf{S W})^{\\mathrm{T}}}{\\sqrt{d}}\\right),A=Attn(Q,S)=Softmax(dâ€‹(QW)(SW)Tâ€‹), QF=AÏƒ(S)âŠ™Q\\mathbf{Q}_{\\mathbf{F}}=\\mathbf{A} \\sigma(\\mathbf{S}) \\odot \\mathbf{Q}QFâ€‹=AÏƒ(S)âŠ™Q Encoding Matching:ä¸ºäº†å®ç°ç›¸å…³å…ƒå­¦ä¹ ï¼Œç»™æ¯ä¸ªæ”¯æŒç±»çš„é¢„å®šä¹‰ä»»åŠ¡ç¼–ç ï¼Œå¹¶å°†æŸ¥è¯¢ç‰¹å¾ä¸å…¶å¯¹åº”çš„ä»»åŠ¡ç¼–ç è¿›è¡ŒåŒ¹é…ï¼Œä»¥ä¾¿å¯ä»¥å¯¹ä»»åŠ¡ç¼–ç è€Œä¸æ˜¯ç‰¹å®šç±»è¿›è¡Œæœ€ç»ˆé¢„æµ‹ã€‚ æ­¤å¤„çš„ä»»åŠ¡ç¼–ç å°±æ˜¯Transformerä¸­çš„æ­£å¼¦å‡½æ•°ä½ç½®ç¼–ç  QE=ATQ_E=\\mathbf{A}\\mathbf{T}QEâ€‹=AT Modeling Background for Open-Set Prediction,ç»™èƒŒæ™¯ä¸€ä¸ªæ”¯æŒå ä½å’Œä»»åŠ¡ç¼–ç  è®­ç»ƒ: ç»™å®šä¸€ä¸ªæŸ¥è¯¢å›¾åƒï¼ŒéšæœºæŠ½å–ä»£è¡¨ä¸åŒæ”¯æŒç±»çš„Kå¼ æ”¯æŒå›¾åƒã€‚åªä¿ç•™å±äºé‡‡æ ·æ”¯æŒç±»çš„Ground TruthçœŸå®æ ‡æ³¨æ¡†ä½œä¸ºæ£€æµ‹ç›®æ ‡ã€‚æ­¤å¤–ï¼Œæ¯ä¸ªå¯¹è±¡çš„åˆ†ç±»ç›®æ ‡æ˜¯çœŸæ˜¯æ ‡æ³¨ç±»çš„ä»»åŠ¡ç¼–ç ï¼Œè€Œä¸æ˜¯çœŸå®æ ‡æ³¨ç±»æœ¬èº«ã€‚ æ ‡æ³¨ç±»è½¬ä»»åŠ¡ç¼–ç :Ï‡(si)=i,iâˆˆ{1,2,â‹¯ ,C}\\chi\\left(s_{i}\\right)=i, \\quad i \\in\\{1,2, \\cdots, C\\}Ï‡(siâ€‹)=i,iâˆˆ{1,2,â‹¯,C},å…·ä½“å®ç°ä¸é‡è¦â€¦ æœ€ç»ˆçš„ä»»åŠ¡æ˜¯:å°†ç›®æ ‡ç±»çš„æ ‡ç­¾æ˜ å°„åˆ°ç›¸åº”ä»»åŠ¡ç¼–ç çš„æ ‡ç­¾ ä»£ç : Meta-DETR ç†è§£: ä½œè€…æ²¡æœ‰æŠŠCAMå•ç‹¬æŠ½å–å‡ºæ¥ä¸€ä¸ªæ¨¡å—(æ‰¾ä¸åˆ°å‘½åä¸ºCAMçš„æ¨¡å—),è€Œæ˜¯ç»§æ‰¿DeformableDETR,æ•´ä¸ªæ¨¡å‹å°±æ˜¯ä¸€ä¸ªDeformableDETR,CAMå°±æ˜¯DeformableDETRçš„Encoderçš„ç¬¬ä¸€ä¸ªå±‚,(å°±æ˜¯ DeformableTransformermodelä¸­çš„ç¬¬ä¸€ä¸ª TransformerEncoderLayer) CAMçš„å®ç°æ ¸å¿ƒä»£ç : 1234567891011121314151617181920# CAMä¸­# Multi-Head Attentionsrc2 = self.self_attn(self.with_pos_embed(src, pos), reference_points, src, spatial_shapes, level_start_index, padding_mask)src = src + self.dropout1(src2)src = self.norm1(src)# Single-Head Attentionsrc, tsp = self.siamese_attn(src, inverse_sigmoid(category_codes), category_codes, tsp)# FFNsrc = self.forward_ffn(src + tsp)# Single-Head Attentionä¸­# qæ˜¯query, kæ˜¯Sigmoid(support), væ˜¯support# outputæ˜¯QF,tspæ˜¯QE# è¿™ä¸ªåœ°æ–¹æ„Ÿè§‰å’Œè®ºæ–‡ä¸­çš„å…¬å¼ä¸ä¸€æ ·# è¿™é‡ŒA=Attn(Q,Sigmoid(S))# æ–‡ç« é‡ŒA=Attn(Q,S)output, attn, log_attn = self.attention(q, k, v)tsp, _, _ = self.attention(q, k, tsp) 5. (TFA) Frustratingly Simple Few-Shot Object Detection å¾®è°ƒæ–¹æ³•: ä½¿ç”¨Faster RCNNä½œä¸ºæ£€æµ‹å™¨,ç¬¬ä¸€é˜¶æ®µæ­£å¸¸è®­ç»ƒ åœ¨æ–°ç±»ä¸Šå¾®è°ƒæ—¶,åªå¾®è°ƒåˆ†ç±»å™¨,å‰é¢çš„å›ºå®š,å¹¶ä¸”åˆ†ç±»å™¨æ”¹ä¸ºcosine similarity classifier si,j=Î±F(x)iâŠ¤wjâˆ¥F(x)iâˆ¥âˆ¥wjâˆ¥s_{i, j}=\\frac{\\alpha \\mathcal{F}(x)_{i}^{\\top} w_{j}}{\\left\\|\\mathcal{F}(x)_{i}\\right\\|\\left\\|w_{j}\\right\\|}si,jâ€‹=âˆ¥F(x)iâ€‹âˆ¥âˆ¥wjâ€‹âˆ¥Î±F(x)iâŠ¤â€‹wjâ€‹â€‹ si,js_{i,j}si,jâ€‹ä»£è¡¨äº†ç¬¬iiiä¸ªåŒºåŸŸå»ºè®®æ¡†å’Œç¬¬jjjä¸ªç±»åˆ«çš„ç›¸ä¼¼åº¦ 6. (MetaDet) Meta-Learning to Detect Rare Objects æ€æƒ³: å’Œ5.Frustratingly Simple Few-Shot Object Detection æœ‰å…±åŒçš„å‘ç° æ ¹æ®CNNçš„ç ”ç©¶,æ¨¡å‹åˆ†ä¸ºä¸¤éƒ¨åˆ†,1)ç±»åˆ«æ— å…³(CNNåº•å±‚) 2)ç±»åˆ«ç›¸å…³(CNNé¡¶å±‚) ç±»åˆ«æ— å…³çš„éƒ¨åˆ†å¯ä»¥ç›´æ¥è¿ç§»åˆ°æ–°ç±»ä¸Š(å‚æ•°å…±äº«),ç±»åˆ«ç›¸å…³çš„éƒ¨åˆ†ä½¿ç”¨ä¸€ä¸ªå…ƒå‚æ•°é¢„æµ‹ç±»åˆ«ç›¸å…³éƒ¨åˆ†çš„æ¨¡å‹ Weight Prediction Meta-Model ä»å¤§æ‰¹é‡æ•°æ®ä¸­å­¦ä¹ åˆ°çš„å‚æ•°ä¸ºwdetc,âˆ—w_{det}^{c,*}wdetc,âˆ—â€‹,ä»k-shotæ ·æœ¬ä¸­å­¦ä¹ åˆ°çš„å‚æ•°æ˜¯wdetcw_{det}^{c}wdetcâ€‹,mete-model Tçš„ä»»åŠ¡æ˜¯: wdetc,âˆ—=T(wdetc,Î¸T)w_{det}^{c,*}=T\\left(w_{det}^{c}, \\theta_{T}\\right)wdetc,âˆ—â€‹=T(wdetcâ€‹,Î¸Tâ€‹),ä½¿ç”¨L2L2L2æŸå¤±å‡½æ•° 7. (CoAttention) One-Shot Object Detection with Co-Attention and Co-Excitation æ€æƒ³: é€šè¿‡éå±€éƒ¨æ“ä½œ(æ¯ä¸ªç‚¹çš„è®¡ç®—éƒ½è€ƒè™‘åˆ°å…¨å›¾å…¶ä»–ç‚¹çš„ç›¸ä¼¼åº¦)æ¥æ¢ç´¢æ¯ä¸ªæŸ¥è¯¢-ç›®æ ‡å¯¹ä¸­ä½“ç°çš„å…±åŒæ³¨æ„(ä¸ºäº†ä¸°å¯ŒRPNå¯¹novel classçš„æè®®,ä¸query imageæä¾›çš„ç±»åˆ«å‚è€ƒå…·æœ‰å¤–è§‚ç›¸ä¼¼æ€§çš„RoIs), $ F(I)=\\phi(I) \\oplus \\psi(I ; p) \\in \\mathbb{R}^{N \\times W_{I} \\times H_{I}} \\quad for target image, I F(p)=\\phi(p) \\oplus \\psi(p ; I) \\in \\mathbb{R}^{N \\times W_{p} \\times H_{p}} \\quad for image patch, p , \\phi(I)è¡¨ç¤ºæŠ½å–å‡ºçš„ç‰¹å¾,è¡¨ç¤ºæŠ½å–å‡ºçš„ç‰¹å¾,è¡¨ç¤ºæŠ½å–å‡ºçš„ç‰¹å¾,\\psi(I ; p)$ä»£è¡¨non-localæ“ä½œ åˆ©ç”¨Squeeze and co-excitation(SCEæ¨¡å—)è‡ªé€‚åº”åœ°é‡æ–°åŠ æƒ N ä¸ªé€šé“ä¸Šçš„é‡è¦æ€§åˆ†å¸ƒæ¥çµæ´»åœ°åŒ¹é…å€™é€‰æè®®(å¼ºè°ƒé‚£äº›åœ¨è¯„ä¼°ç›¸ä¼¼æ€§åº¦é‡æ–¹é¢èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨çš„ç‰¹å¾é€šé“). é¦–å…ˆå¯¹æ”¯æŒç‰¹å¾åšå…¨å±€å¹³å‡æ± åŒ–,å¾—åˆ°ä¸€ä¸ªå‘é‡,ç”¨è¿™ä¸ªå‘é‡è°ƒæ•´æ”¯æŒç‰¹å¾å’ŒæŸ¥è¯¢ç‰¹å¾çš„æƒé‡. å€™é€‰æ¡†æ’å,å°†RoI(RPNæä¾›çš„128ä¸ªå€™é€‰æ¡†)ä¸æ”¯æŒç‰¹å¾Concat,ç„¶åå¯¹æ¯ä¸ªå€™é€‰æ¡†è¿›è¡Œåˆ†ç±»(åˆ†ä¸ºå‰æ™¯å’ŒèƒŒæ™¯,æ ‡ç­¾æ ¹æ®ä¸çœŸå®æ¡†çš„å…³ç³»(IoU&gt;0.5)å¾—åˆ°).ä¸ºäº†ä¸æ”¯æŒç‰¹å¾æœ€ç›¸å…³çš„å€™é€‰æ¡†æ’åœ¨å‰é¢. å…³é”®ç‚¹: å¢å¼ºRPNå¯¹novel classçš„æè®® é€šé“æ³¨æ„åŠ› 8. (FSDetView) Few-Shot Object Detection and Viewpoint Estimation for Objects in the Wild. Viewpoint Estimationå’Œå°‘æ ·æœ¬æ£€æµ‹çš„ç»“åˆ,å¿½ç•¥Viewpoint Estimation,åªçœ‹Few-Shot Object Detection æ€æƒ³: ä¸€ä¸ªç¨å¾®å¤æ‚ç‚¹çš„èšåˆæ¨¡å—,å…¶ä»–å’ŒMeta R-CNNç±»ä¼¼,Meta RCNN å’ŒMeta Yoloä¸­çš„èšåˆ: A(fqry,fcls)=fqryâŠ™fcls,\\mathcal{A}\\left(\\mathrm{f}^{\\mathrm{qry}}, \\mathrm{f}^{\\mathrm{cls}}\\right)=\\mathrm{f}^{\\mathrm{qry}} \\odot \\mathrm{f}^{\\mathrm{cls}},A(fqry,fcls)=fqryâŠ™fcls, æœ¬æ–‡æå‡ºçš„èšåˆ: A(fqry,fcls)=[fqryâŠ™fcls,fqryâˆ’fcls,fqry],\\mathcal{A}\\left(\\mathrm{f}^{\\mathrm{qry}}, \\mathrm{f}^{\\mathrm{cls}}\\right)=\\left[\\mathrm{f}^{\\mathrm{qry}} \\odot \\mathrm{f}^{\\mathrm{cls}}, \\mathrm{f}^{\\mathrm{qry}}-\\mathrm{f}^{\\mathrm{cls}}, \\mathrm{f}^{\\mathrm{qry}}\\right],A(fqry,fcls)=[fqryâŠ™fcls,fqryâˆ’fcls,fqry], fqryâˆ’fcls\\mathrm{f}^{\\mathrm{qry}}-\\mathrm{f}^{\\mathrm{cls}}fqryâˆ’fcls,ç‰¹å¾å‡æ³•è¡¡é‡å›¾åƒç‰¹å¾ä¹‹é—´çš„ç›¸ä¼¼æ€§,åµŒå…¥fqry\\mathrm{f}^{\\mathrm{qry}}fqryæœ¬èº«ï¼Œæ²¡æœ‰ä»»ä½•é‡æ–°åŠ æƒï¼Œä¹ŸåŒ…å«ç›¸å…³ä¿¡æ¯. 9. (MetaFasterRCNN) Meta Faster R-CNN: Towards Accurate Few-Shot Object Detection with Attentive Feature Alignment. é—®é¢˜: RPNå¯¹novel classçš„æè®®ä¸å¥½ novel classçš„å€™é€‰æ¡†å’Œæ”¯æŒç‰¹å¾ä¸­çš„å¯¹è±¡ä½ç½®ä¸å¯¹é½ æ€æƒ³: å¯¹Base Classè®­ç»ƒä¸€ä¸ªå•ç‹¬çš„Faster RCNNç”¨æ¥æ£€æµ‹ æå‡ºMeta-RPN module,ç”¨äºå¢å¼ºRPNå¯¹novel classçš„æè®® é¦–å…ˆå¯¹æ”¯æŒç‰¹å¾å¯¹æŸ¥è¯¢ç‰¹å¾è¿›è¡Œå·ç§¯ç„¶åç”Ÿæˆé”šæ¡†,å¯¹æ”¯æŒç‰¹å¾è¿›è¡Œspatial average poolå¾—åˆ°å’Œé”šæ¡†å¤§å°ä¸€æ ·çš„ç‰¹å¾(å¤šä¸ªæŸ¥è¯¢å›¾å½¢å–å¹³å‡),ç„¶åé€å…¥Meta-RPN module,å°±æ˜¯å›¾ä¸‰ä¸­å·¦è¾¹ä¸Šä¸‹ä¸¤ä¸ªç‰¹å¾å›¾. fqc=[Î¦Mult (fqâŠ™fpool c),Î¦Sub (fqâˆ’fpool c),Î¦Cat [fq,fpool c]]f_{q}^{c}=\\left[\\Phi_{\\text {Mult }}\\left(f_{q} \\odot f_{\\text {pool }}^{c}\\right), \\Phi_{\\text {Sub }}\\left(f_{q}-f_{\\text {pool }}^{c}\\right), \\Phi_{\\text {Cat }}\\left[f_{q}, f_{\\text {pool }}^{c}\\right]\\right]fqcâ€‹=[Î¦Mult â€‹(fqâ€‹âŠ™fpool câ€‹),Î¦Sub â€‹(fqâ€‹âˆ’fpool câ€‹),Î¦Cat â€‹[fqâ€‹,fpool câ€‹]] Feature Fusionçš„å…¬å¼,Based on 8.Few-Shot Object Detection and Viewpoint Estimation for Objects in the Wild. ä½¿ç”¨é«˜åˆ†è¾¨ç‡çš„æ”¯æŒç‰¹å¾æ¥è®¡ç®—å’Œå€™é€‰æ¡†ç›´æ¥çš„ç›¸ä¼¼åº¦,ä½†æ˜¯å€™é€‰æ¡†å’Œæ”¯æŒç‰¹å¾ä¸­çš„å¯¹è±¡ä½ç½®ä¸å¯¹é½,æ‰€ä»¥åŸºäºæ³¨æ„åŠ›çš„ç‰¹å¾å¯¹é½æ–¹æ³•æ¥è§£å†³ç©ºé—´é”™ä½é—®é¢˜. (Spatial Alignment)é¦–å…ˆé€šè¿‡è®¡ç®—äº²å’ŒçŸ©é˜µæ¥å»ºç«‹ä¸¤ä¸ªè¾“å…¥ç‰¹å¾ä¹‹é—´çš„è½¯å¯¹åº”å…³ç³»(æ¯ä¸ªåƒç´ ç‚¹ä¹‹é—´çš„å…³ç³»,çŸ©é˜µå¤§å°ä¸ºHWÃ—HWHWÃ—HWHWÃ—HW),ç„¶åè®¡ç®—æ¯ä¸ªåƒç´ ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦: A(i,j)â€²=expâ¡(A(i,j))âˆ‘kexpâ¡(A(i,k))A(i, j)^{\\prime}=\\frac{\\exp (A(i, j))}{\\sum_{k} \\exp (A(i, k))}A(i,j)â€²=âˆ‘kâ€‹exp(A(i,k))exp(A(i,j))â€‹ ç„¶åæ¯ä¸ªç©ºé—´ä½ç½®iå°±é€šè¿‡èšåˆç±»åŸå‹ä¸­æ‰€æœ‰ä½ç½®çš„åµŒå…¥æ¥è®¡ç®—: fË‰c(i)=âˆ‘jA(i,j)â€²f^c(j)\\bar{f}^{c}(i)=\\sum_{j} A(i, j)^{\\prime} \\hat{f}^{c}(j)fË‰â€‹c(i)=âˆ‘jâ€‹A(i,j)â€²f^â€‹c(j) (Foreground Attention Module)ç”Ÿæˆä¸€ä¸ªAttention maskæ¥æŠ‘åˆ¶èƒŒæ™¯,å¢å¼ºå‰æ™¯.å€™é€‰æ¡†ä¸­çš„æ¯ä¸ªåƒç´ iä¸æ¯ä¸ªç©ºé—´ä½ç½®çš„ç›¸ä¼¼åº¦: M(i)=Ïƒ(âˆ‘jA(i,j))=11+expâ¡(âˆ’âˆ‘jA(i,j))M(i)=\\sigma\\left(\\sum_{j} A(i, j)\\right)=\\frac{1}{1+\\exp \\left(-\\sum_{j} A(i, j)\\right)}M(i)=Ïƒ(âˆ‘jâ€‹A(i,j))=1+exp(âˆ’âˆ‘jâ€‹A(i,j))1â€‹ å…¶ä¸­ M ä¸­çš„è¾ƒé«˜å€¼è¡¨ç¤ºå€™é€‰æ¡†ä¸­çš„å¯¹åº”ä½ç½®æ›´ç±»ä¼¼äºå¯¹é½åŸå‹ç±»çš„ä½ç½®ï¼Œå¹¶ä¸”æ›´æœ‰å¯èƒ½æ˜¯ç›¸åŒçš„è¯­ä¹‰éƒ¨åˆ†ã€‚èƒŒæ™¯åŒºåŸŸå¾ˆéš¾åœ¨ç±»åŸå‹ä¸­æ‰¾åˆ°ç›¸ä¼¼åº¦è¾ƒé«˜çš„ä½ç½®ï¼Œå¯¼è‡´Mä¸­çš„å€¼è¾ƒä½,æœ€åå°†Må’ŒfË‰c\\bar{f}^{c}fË‰â€‹cç›¸ä¹˜,å†é€šè¿‡ç±»ä¼¼æ®‹å·®è¿æ¥çš„ä¸€ä¸ªå¯å­¦ä¹ å‚æ•°,å¾—åˆ°æœ€ç»ˆçš„ç‰¹å¾: (Non-linear Classifier Module)ä¸ºäº†è¡¡é‡æœ€ç»ˆçš„å€™é€‰æ¡†å’Œæ”¯æŒç±»ä¹‹é—´çš„ç›¸ä¼¼æ€§,ä½¿ç”¨ç‰¹å¾èåˆç½‘ç»œæ¥èšåˆä¸¤ä¸ªé«˜åˆ†è¾¨ç‡çš„ç‰¹å¾ï¼Œ f=[Î¨Mult(f~câŠ™f~p),Î¨Sub(f~câˆ’f~p),Î¨Cat[f~c,f~p]]f=\\left[\\Psi_{M u l t}\\left(\\widetilde{f}^{c} \\odot \\widetilde{f}_{p}\\right), \\Psi_{S u b}\\left(\\widetilde{f}^{c}-\\widetilde{f}_{p}\\right), \\Psi_{C a t}\\left[\\widetilde{f}^{c}, \\widetilde{f}_{p}\\right]\\right]f=[Î¨Multâ€‹(fâ€‹câŠ™fâ€‹pâ€‹),Î¨Subâ€‹(fâ€‹câˆ’fâ€‹pâ€‹),Î¨Catâ€‹[fâ€‹c,fâ€‹pâ€‹]] ç„¶åå°†fffé€å…¥é¢„æµ‹ç±»å’Œæ¡†çš„å±‚ è®­ç»ƒ: ä½¿ç”¨base classè¿›è¡Œå…ƒå­¦ä¹ ,ä¸éœ€è¦å¾®è°ƒå°±å¯ä»¥åº”ç”¨åˆ°novel classä¸Š è®­ç»ƒå®Œä¹‹å,ç”¨novel class+base classçš„æ•°æ®è¿›è¡Œå¾®è°ƒ(è¿™ä¸ä½œå¼Šå—?) 10. (FSCE) FSCE: Few-Shot Object Detection via Contrastive Proposal Encoding é—®é¢˜: transfer learningçš„æ–¹æ³•é€šå¸¸ç²¾ç¡®åº¦é«˜ ç²¾ç¡®åº¦çš„é€€åŒ–ä¸»è¦æ¥è‡ªå°†æ–°å®ä¾‹é”™è¯¯åˆ†ç±»ä¸ºæ˜“æ··æ·†çš„ç±»,å®šä½åŸºæœ¬å‡†ç¡®(ç°æœ‰æ¨¡å‹å¹¶æ²¡æœ‰å­¦ä¹ åˆ°ä¸€ä¸ªå¥½çš„ç±»åˆ«ç‰¹å¾åµŒå…¥) æ€æƒ³: å‡å°ç±»å†…æ–¹å·®,å¢å¤§ç±»é—´æ–¹å·®,ä½¿ç”¨å¯¹æ¯”å­¦ä¹ (To learn instance-level discriminative feature representations, contrastive learning has demonstrated its effectiveness in tasks including recognition, identification and the recent successful self-supervised models. ) RPNæ¨èçš„novel classåªæœ‰base classçš„å››åˆ†ä¹‹ä¸€ åœ¨NMSï¼ˆéæå¤§å€¼æŠ‘åˆ¶ï¼‰ä¹‹åä¿ç•™çš„æè®®æ•°é‡Ã—2ã€‚è¿™æ ·çš„è¯ï¼Œèƒ½å¤Ÿä¸ºåç»­æä¾›æ›´å¤šå¯èƒ½åŒ…å«å‰æ™¯çš„æè®® å°†RoIå¤´ä¸­ç”¨äºè®¡ç®—æŸå¤±çš„å€™é€‰æ¡†å‡å°‘ä¸€åŠ,å› ä¸ºä¸€åŠå¤šçš„å€™é€‰æ¡†éƒ½åŒ…å«çš„æ˜¯èƒŒæ™¯(æå‡å‰æ™¯æ¡†çš„æ¯”ä¾‹) å¯¹æ¯”æè®®ç¼–ç ï¼ˆ Contrastive Proposal Encodingï¼‰ RoI featureså› ä¸ºæœ‰Reluæ¿€æ´»,éƒ¨åˆ†ä¸º0,æ‰€ä»¥ç”¨ä¸€ä¸ªFCå±‚æ¥ç¼–ç ,è·å–åˆ°128ç»´çš„å¯¹æ¯”ç‰¹å¾ ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—å€™é€‰æ¡†ä¹‹é—´çš„ç›¸ä¼¼åº¦,å¹¶ä¼˜åŒ–å¯¹æ¯”ç›®æ ‡ä½¿å¾—ç±»é—´æ–¹å·®å¤§,ç±»å†…æ–¹å·®å° Contrastive Proposal Encoding (CPE) Loss $\\mathcal{L}{C P E}=\\frac{1}{N} \\sum{i=1}^{N} f\\left(u_{i}\\right) \\cdot L_{z_{i}} L_{z_{i}}=\\frac{-1}{N_{y_{i}}-1} \\sum_{j=1, j \\neq i}^{N} \\mathbb{I}\\left{y_{i}=y_{j}\\right} \\cdot \\log \\frac{\\exp \\left(\\tilde{z_{i}} \\cdot \\tilde{z_{j}} / \\tau\\right)}{\\sum_{k=1}^{N} \\mathbb{I}{k \\neq i} \\cdot \\exp \\left(\\tilde{z{i}} \\cdot \\tilde{z_{k}} / \\tau\\right)} z_iæ˜¯å¯¹æ¯”ç‰¹å¾,æ˜¯å¯¹æ¯”ç‰¹å¾,æ˜¯å¯¹æ¯”ç‰¹å¾,y_iæ˜¯ç±»åˆ«,æ˜¯ç±»åˆ«,æ˜¯ç±»åˆ«,u_iæ˜¯ä¸çœŸå®æ¡†çš„IoUåˆ†æ•°,æ˜¯ä¸çœŸå®æ¡†çš„IoUåˆ†æ•°,æ˜¯ä¸çœŸå®æ¡†çš„IoUåˆ†æ•°,N_yæ˜¯ç±»åˆ«yçš„æ ·æœ¬æ•°é‡,æ˜¯ç±»åˆ«yçš„æ ·æœ¬æ•°é‡, æ˜¯ç±»åˆ«yçš„æ ·æœ¬æ•°é‡,f\\left(u_{i}\\right)ä½œç”¨æ˜¯ä¸ºè´¨é‡ä¸åŒçš„é¢„æµ‹æ¡†èµ‹äºˆä¸åŒçš„æƒé‡,å®éªŒè¯æ˜å¸¸é‡æ›´å¥½ä¸Šè¿°å…¬å¼ä¸­è¡¡é‡äº†ç‰¹å¾ä½œç”¨æ˜¯ä¸ºè´¨é‡ä¸åŒçš„é¢„æµ‹æ¡†èµ‹äºˆä¸åŒçš„æƒé‡,å®éªŒè¯æ˜å¸¸é‡æ›´å¥½ ä¸Šè¿°å…¬å¼ä¸­è¡¡é‡äº†ç‰¹å¾ä½œç”¨æ˜¯ä¸ºè´¨é‡ä¸åŒçš„é¢„æµ‹æ¡†èµ‹äºˆä¸åŒçš„æƒé‡,å®éªŒè¯æ˜å¸¸é‡æ›´å¥½ä¸Šè¿°å…¬å¼ä¸­è¡¡é‡äº†ç‰¹å¾z_iå’Œå’Œå’Œ\\tilde{z_{i}}ä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚å½“ä¸¤ä¸ªRoIï¼ˆä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚å½“ä¸¤ä¸ªRoIï¼ˆä¹‹é—´çš„ä½™å¼¦ç›¸ä¼¼åº¦ã€‚å½“ä¸¤ä¸ªRoIï¼ˆiå’Œå’Œå’Œj$ï¼‰ä¸ºç›¸åŒç±»åˆ«æ—¶ï¼Œå…¶ç›¸ä¼¼åº¦è¶Šé«˜ï¼Œè¯¥æŸå¤±çš„å€¼å°±è¶Šå°ï¼Œè¿™å°†å¼•å¯¼ç›¸åŒç±»åˆ«çš„ç‰¹å¾åµŒå…¥åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å˜å¾—æ›´ç´§å‡‘ï¼Œè€Œä¸åŒç±»åˆ«çš„ç‰¹å¾åµŒå…¥å°†å˜å¾—æ›´åˆ†æ•£ï¼Œ 11. (AFDNet) AFD-Net: Adaptive Fully-Dual Network for Few-Shot Object Detection é—®é¢˜: åœ¨ç›®æ ‡æ£€æµ‹ä¸­,åˆ†ç±»å’Œå®šä½æ˜¯å®Œå…¨ä¸åŒçš„ä¸¤ä¸ªå­ä»»åŠ¡,ä½¿ç”¨ç›¸åŒçš„ç‰¹å¾è¿›è¡Œè¿™ä¸¤ä¸ªä»»åŠ¡ä¸å¥½ æ€æƒ³: æå‡ºäº†Adaptive Fully-Dual Network(AFD-Net,è‡ªé€‚åº”å…¨åŒç½‘ç»œ),å°†åˆ†ç±»å’Œå®šä½è§£è€¦ æŸ¥è¯¢å›¾åƒä½¿ç”¨åŒè¯¢é—®ç¼–ç ï¼ˆDual Query Encoderï¼ŒDQEï¼‰è¾“å‡ºç”¨äºåˆ†ç±»å’Œå®šä½çš„æŸ¥è¯¢ä»–ç‰¹å¾ æ”¯æŒå›¾åƒä½¿ç”¨åŒæ³¨æ„åŠ›ç”Ÿæˆï¼ˆDual Attention Generatorï¼ŒDAGï¼‰è¾“å‡ºç”¨äºåˆ†ç±»å’Œå®šä½çš„ç±»è¢«æ³¨æ„(æ”¯æŒ)ç‰¹å¾ ç”¨äºåˆ†ç±»å’Œå®šä½çš„æŸ¥è¯¢ç‰¹å¾å’Œæ”¯æŒç‰¹å¾åˆ†åˆ«é€å…¥åŒèšåˆå™¨ï¼ˆDual Aggregatorï¼ŒDAï¼‰ç”¨äºåˆ†ç±»å’Œå®šä½ Dual Attention Generatoræ¯”Dual Query Encoderå¤šäº†ä¸€ä¸ªMax Poolæ¥ä¿è¯æ”¯æŒç‰¹å¾çš„å¤§å°å’ŒæŸ¥è¯¢ç‰¹å¾çš„å¤§å°ä¸€è‡´ åˆ†ç±»åˆ†æ”¯ä½¿ç”¨å·ç§¯å¤„ç†,å›å½’ä»»åŠ¡ä½¿ç”¨å…¨è¿æ¥å¤„ç†,æœ€åå„ä¹˜ä¸€ä¸ªå¯å­¦ä¹ çš„æƒé‡,concatåœ¨ä¸€èµ· Dual Aggregatorçš„èšåˆæ–¹å¼å’Œ8.(FSDetView) Few-Shot Object Detection and Viewpoint Estimation for Objects in the Wild.ä¸€æ · 12. (DeFRCN) DeFRCN: Decoupled Faster R-CNN for Few-Shot Object Detection é—®é¢˜: multi-stage (RPN vs. RCNN) RPNåº”è¯¥æ˜¯ç±»æ— å…³çš„ RCNNåº”è¯¥æ˜¯ç±»ç›¸å…³çš„ ä½†æ˜¯äºŒè€…å…±ç”¨ä¸€ä¸ªbackbone,æ¢¯åº¦ä¼šå›æµåˆ°backboneå¸¦æ¥å†²çª é€šè¿‡æ¢¯åº¦è°ƒæ•´ä¸‰ä¸ªæ¨¡å—(backbone,RPN,RCNN)ä¹‹é—´çš„è§£è€¦ç¨‹åº¦æ¥ç¼“è§£æ•´ä¸ªæ¨¡å‹ä¸è¢«å…¶ä¸­ä¸€ä¸ªæ”¯é… multi-task (classification vs. localization). åˆ†ç±»ä»»åŠ¡éœ€è¦å¹³ç§»ä¸å˜æ€§,è€Œå®šä½ä»»åŠ¡å¯¹ä½ç½®æ•æ„Ÿ åœ¨åˆ†ç±»åˆ†æ”¯ä¸Šä½¿ç”¨ä¸€ä¸ªæœ‰æ•ˆçš„åˆ†æ•°æ ¡å‡†æ¨¡å—æ¥å®ç°è§£è€¦ä¸¤ä¸ªä»»åŠ¡ æ€æƒ³: åœ¨RPN,RCNNå’Œbackboneä¹‹é—´å¼•å…¥GDL,ä½¿ç”¨ä¸€ä¸ªdecoupling coefficient Î»\\lambdaÎ»æ¥æ§åˆ¶æ¢¯åº¦çš„æµåŠ¨,ä»è€Œå‡å°‘ä¸åŒæ¨¡å—ä¹‹é—´çš„ç›¸äº’å½±å“, G(A,Î»)(x)=A(x)\\mathbb{G}_{(\\mathcal{A}, \\lambda)}(x) =\\mathcal{A}(x)G(A,Î»)â€‹(x)=A(x) dG(A,Î»)dx=Î»âˆ‡A\\frac{\\mathrm{d} \\mathbb{G}_{(\\mathcal{A}, \\lambda)}}{\\mathrm{d} x} =\\lambda \\nabla_{\\mathcal{A}}dxdG(A,Î»)â€‹â€‹=Î»âˆ‡Aâ€‹ Î»\\lambdaÎ»æœ‰ä¸‰ç§å¯èƒ½,åˆ†å¼€è®¨è®º PCBç”±ä¸€ä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œä¸€ä¸ªROIAlignå±‚å’Œä¸€ä¸ªåˆ†ç±»å™¨ç»„æˆ.é¦–å…ˆä»æ”¯æŒé›†ä¸­æå–ç‰¹å¾ ,ç„¶åä½¿ç”¨RoIAlignä¸GroundTruthç”ŸæˆMKä¸ªå®ä¾‹,ç„¶åå¯¹kä¸ªå®ä¾‹çš„ç‰¹å¾å–å¹³å‡,å¾—åˆ°mä¸ªç±»åˆ«åŸå‹pcp_cpcâ€‹. ç„¶åç»™å®šy^\\hat{y}y^â€‹(ç”±æ£€æµ‹å™¨å¾—åˆ°),åˆ©ç”¨é¢„æµ‹å‡ºæ¥çš„æ¡†,ä½¿ç”¨RoIAlignå¯¹é½,å¾—åˆ°é¢„æµ‹ç‰¹å¾,è®¡ç®—é¢„æµ‹ç‰¹å¾xix_ixiâ€‹å’Œç±»åŸå‹pcp_cpcâ€‹ä¹‹é—´çš„ç›¸ä¼¼åº¦åˆ†æ•°sicoss_i^{cos}sicosâ€‹,æœ€åçš„é¢„æµ‹ç±»åˆ«å¾—åˆ†ä¸º: siâ€¡=Î±â‹…si+(1âˆ’Î±)â‹…sicosâ¡s_{i}^{\\ddagger}=\\alpha \\cdot s_{i}+(1-\\alpha) \\cdot s_{i}^{\\cos }siâ€¡â€‹=Î±â‹…siâ€‹+(1âˆ’Î±)â‹…sicosâ€‹ 13. (FCT) Few-Shot Object Detection with Fully Cross-Transformer é—®é¢˜: ä¹‹å‰çš„å·¥ä½œ,æ”¯æŒåˆ†æ”¯å’ŒæŸ¥è¯¢åˆ†æ”¯çš„äº¤äº’ä»…é™äºåœ¨æ£€æµ‹å¤´,å‰©ä½™çš„å‡ ç™¾ä¸ªå±‚çš„ç‰¹å¾éƒ½æ˜¯ç‹¬ç«‹çš„, æ€æƒ³: backboneä¸­çš„Cross-Transformerä¹‹å‰ åœ¨é€å…¥ä¹‹å‰,æŠŠå›¾åƒåˆ†æˆ4Ã—4Ã—34Ã—4Ã—34Ã—4Ã—3å¤§å°çš„patches.ç„¶åå±•å¹³æ‰©å±•é€šé“æ•°ä¸ºC1C_1C1â€‹ åŠ ä¸Šä½ç½®ç¼–ç ,å’Œæ‰¹æ¬¡ç¼–ç ä¹‹å(Xqâ€²=Xq+Eqpos+Ebra[0],Xsâ€²=Xs+Espos+Ebra[1]X_{q}^{\\prime}=X_{q}+\\mathbf{E}_{q}^{p o s}+\\mathbf{E}^{b r a}[0], X_{s}^{\\prime}=X_{s}+\\mathbf{E}_{s}^{p o s}+\\mathbf{E}^{b r a}[1]Xqâ€²â€‹=Xqâ€‹+Eqposâ€‹+Ebra[0],Xsâ€²â€‹=Xsâ€‹+Esposâ€‹+Ebra[1]),å†ç»è¿‡æ˜ å°„å¾—åˆ°KVQ(ä¸ºäº†å‡å°‘è®¡ç®—é‡,ä½¿ç”¨äº†ç©ºé—´ç¼©å‡) The Asymmetric-Batched Cross-Attention,éå¯¹ç§°æ‰¹å¤„ç†äº¤å‰æ³¨æ„ æ”¯æŒå›¾åƒé€šå¸¸å¤§äº1,ä¸”ä¸å›ºå®š,è¿™ä¸ªæ¨¡å—ä¸€æ¬¡è®¡ç®—æŸ¥è¯¢å›¾åƒä¸åŒä¸€ç±»çš„æ‰€æœ‰æ”¯æŒå›¾åƒä¹‹é—´çš„æ³¨æ„ã€‚ å¯¹æ”¯æŒå›¾åƒè¿›è¡Œå¹³å‡æ± åŒ–,ä½¿å¾—åŒ¹é…æŸ¥è¯¢åˆ†æ”¯çš„æ‰¹é‡å¤§å° å¯¹æŸ¥è¯¢å›¾åƒè¿›è¡Œé‡å¤,ä½¿å¾—åŒ¹é…æ”¯æŒåˆ†æ”¯çš„æ‰¹é‡å¤§å° èšåˆä¹‹ååšå¤šå¤´æ³¨æ„åŠ›+MLP The Cross-Transformer Detection Headç”¨äºåœ¨æœ€ç»ˆæ£€æµ‹ä¹‹å‰è”åˆæå–å»ºè®®å’Œæ”¯æŒå›¾åƒçš„RoIç‰¹å¾ ä»æ”¯æŒåˆ†æ”¯æå–å‡º100ä¸ªå€™é€‰æ¡†å–å¹³å‡,åªæœ‰ä¸€ä¸ª ä»æŸ¥è¯¢åˆ†æ”¯æå–å‡º100ä¸ªå€™é€‰æ¡† ä½¿ç”¨3.Few-Shot Object Detection with Attention-RPN and Multi-Relation Detectorä¸­çš„ä¸¤ä¸¤åŒ¹é…æ–¹æ³•è¿›è¡Œé¢„æµ‹ 14. (DeDETR) Decoupled DETR For Few-shot Object Detection é—®é¢˜: FasterRCNNå­˜åœ¨å®šä½å‡†ç¡®,åˆ†ç±»ä¸å‡†ç¡®çš„é—®é¢˜,DETRåŒæ ·å­˜åœ¨(å› ä¸ºæç«¯æ ·æœ¬ä¸å¹³è¡¡å¯¼è‡´å‚æ•°ä¼˜åŒ–ä¸­æ•°æ®ä¸°å¯Œçš„ç±»çš„æ—§çŸ¥è¯†å ä¸»å¯¼åœ°ä½ï¼Œè¿™æ„å‘³ç€æ¨¡å‹æ€»æ˜¯å¯¹æ•°æ®ä¸°å¯Œçš„ç±»æœ‰ä¸€å®šçš„åå‘ã€‚) è§£ç å™¨åªä¼šä½¿ç”¨ç¼–ç å™¨æœ€åä¸€å±‚çš„è¾“å‡ºä½œä¸ºè¾“å…¥,ä½†æ˜¯ç¼–ç å™¨åˆ°è§£ç å™¨æ˜¯ä¸€ä¸ªä»æµ…åˆ°æ·±å†å›åˆ°æµ…çš„è¿‡ç¨‹,æ‰€ä»¥æµ…ç¼–ç å™¨å¯èƒ½ä¼šæ›´å¥½åœ°åŒ¹é…æµ…è§£ç å™¨ ä¸ä»…è§£ç å™¨çš„æœ€åä¸€å±‚èƒ½äº§ç”Ÿæ­£ç¡®çš„é¢„æµ‹ç»“æœï¼Œè§£ç å™¨ä¸­é—´å±‚çš„è¾“å‡ºæœ‰æ—¶ä¹Ÿèƒ½äº§ç”Ÿæ›´å¥½çš„é¢„æµ‹ç»“æœã€‚ æ€æƒ³: Decoupled prompts (DePrompt): æ¥è‡ªæ–°ç±»çš„å°‘æ•°æ ·æœ¬å¾ˆéš¾å°†åƒ DETR è¿™æ ·çš„å¤§å‹æ¨¡å‹æ¨å‘åˆé€‚çš„æœ€ä¼˜å€¼,å› æ­¤ä¸ºæ–°ç±»å’ŒåŸºç±»åˆ†é…å•ç‹¬çš„æƒé‡é›† åˆ†åˆ«ä¸ºbase class å’Œnovel classæ„å»ºç‹¬ç«‹çš„deformable selfattention modules,DePromptçš„è¾“å‡ºä½œä¸ºç¼–ç å™¨çš„è¾“å…¥,DePromptçš„è¾“å‡ºç”±å…¬å¼å†³å®š(wçš„ä¸‰ç§è®¾ç½®) fDePrompt (x)=wâˆ—fbpmt(x)+(1âˆ’w)âˆ—fnpmt(x)f_{\\text {DePrompt }}(x)=w * f_{b_{p m t}}(x)+(1-w) * f_{n_{p m t}}(x)fDePrompt â€‹(x)=wâˆ—fbpmtâ€‹â€‹(x)+(1âˆ’w)âˆ—fnpmtâ€‹â€‹(x) ç¼–ç å™¨å’Œè§£ç å™¨ä¹‹é—´çš„Skip connection,æœ‰ä¸¤ç§æ–¹å¼ å¯å­¦ä¹ çš„è¿æ¥,æ¯ä¸€å±‚è§£ç å™¨çš„è¾“å…¥éƒ½æœ‰å‰é¢æ‰€æœ‰ç¼–ç å™¨å±‚çš„è¾“å‡ºä¹˜å¯å­¦ä¹ çš„æƒé‡çŸ©é˜µå¾—åˆ° Mem_newj=âˆ‘ii=6Aijâˆ—Men_oriiMem\\_new^j=\\sum_{i}^{i=6} A_{i j} * Men\\_ori^iMem_newj=âˆ‘ii=6â€‹Aijâ€‹âˆ—Men_orii è½¯è¿æ¥,æ¯ä¸€å±‚è§£ç å™¨çš„è¾“å…¥éƒ½æœ‰å‰é¢å¯¹åº”çš„6âˆ’j6-j6âˆ’jå±‚å’Œæœ€åä¸€å±‚ç¼–ç å™¨çš„è¾“å‡ºå¾—åˆ° Mem_newj=Aâˆ—Mem_ori{6}+(1âˆ’A)âˆ—Memâˆ’ori{i}Mem\\_new^j=A * M e m \\_o r i^{\\{6\\}}+(1-A) * M e m_{-} o r i^{\\{i\\}}Mem_newj=Aâˆ—Mem_ori{6}+(1âˆ’A)âˆ—Memâˆ’â€‹ori{i} Adaptive decoder selectionæ¥è§£å†³5ä¸ªä¸­é—´å±‚è§£ç å™¨çš„è¾“å‡ºå¯èƒ½æ¯”æœ€åä¸€å±‚è·å¾—æ›´å¥½çš„æ£€æµ‹ç»“æœ Dec_new=âˆ‘jj=6Bjâˆ—Dec_orijDec\\_new =\\sum_{j}^{j=6} B_{j} * Dec\\_ori^jDec_new=âˆ‘jj=6â€‹Bjâ€‹âˆ—Dec_orij ç”¨å¯å­¦ä¹ çš„å‚æ•°åŠ¨æ€è°ƒæ•´æ¯ä¸ªå±‚è¾“å‡ºçš„æƒé‡ 15. (FSRC) Few-shot Object Detection with Refined Contrastive Learning é—®é¢˜: å„ä¸ªç±»åˆ«çš„æ£€æµ‹ç²¾åº¦çš„æ ‡å‡†å·®å¾ˆå¤§,è¡¨æ˜æ¨¡å‹å¯¹ä¸åŒç±»åˆ«çš„æ£€æµ‹èƒ½åŠ›å·®å¼‚å¾ˆå¤§ æ€æƒ³: 1.åœ¨RoiPoolå‰éƒ½å’ŒFasterRCNNä¸€æ ·,ä¸åŒçš„åœ°æ–¹åœ¨äºåŠ ä¸Šäº†RCLæ¨¡å— 2. ä½¿ç”¨ç»†ç²’åº¦çš„å¯¹æ¯”å­¦ä¹ å¢å¼ºå­¦ä¹ èƒ½åŠ›(å’Œ10.FSCE: Few-Shot Object Detection via Contrastive Proposal Encodingçš„åŒºåˆ«åœ¨äºFSCEæŠŠæ‰€æœ‰çš„ç±»(å‰æ™¯å’ŒèƒŒæ™¯)éƒ½è€ƒè™‘è¿›å»è¿›è¡Œå¯¹æ¯”),æœ¬æ–‡å…ˆæŠŠç±»é—´è·å°çš„ç±»(ç›¸ä¼¼ç±»)æŒ‘å‡ºæ¥,ç„¶ååœ¨è¿™äº›Resemblance Groupä¸­ä½¿ç”¨å¯¹æ¯”å­¦ä¹  3. æ‰¾åˆ°ç›¸ä¼¼ç±»å¯¹ éœ€è¦IoUå’ŒçœŸå®æ¡†å¤§äºé˜ˆå€¼,å¹¶ä¸”åˆ†ç±»é”™è¯¯ å½“ä¸€ä¸ªç›¸ä¼¼ç±»å¯¹å‡ºç°çš„æ¬¡æ•°è¶…è¿‡æŸä¸ªé˜ˆå€¼å,æŠŠè¿™äº›ç›¸ä¼¼ç±»å¯¹ä¸­çš„ç±»éƒ½è®°å½•ä¸‹æ¥,ä½œä¸ºä¸€ä¸ªResemblance Group åªæœ‰å½“é¢„æµ‹çš„ç±»åˆ«æˆ–è€…çœŸå®çš„ç±»åˆ«å±äºResemblance Groupä¸­çš„ç±»æ—¶,æ‰ä¼šè¿›è¡Œå¯¹æ¯”å­¦ä¹  è¿™ä¸ªæµ‹é‡åº”è¯¥åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä½¿ç”¨,å› ä¸ºåœ¨åˆšå¼€å§‹çš„æ—¶å€™,æ¨¡å‹å€¾å‘äºåŸºç±» æŸå¤±å‡½æ•° LRCL=1NRCLâˆ‘i=1NRCLw(ui)â‹…LziL_{R C L}=\\frac{1}{N_{R C L}} \\sum_{i=1}^{N_{R C L}} w\\left(u_{i}\\right) \\cdot L_{z_{i}}LRCLâ€‹=NRCLâ€‹1â€‹âˆ‘i=1NRCLâ€‹â€‹w(uiâ€‹)â‹…Lziâ€‹â€‹ NRCL=Nall,Ic&lt;ImN_{R C L} = N_{a l l}, I_{c}&lt;I_{m}NRCLâ€‹=Nallâ€‹,Icâ€‹&lt;Imâ€‹. NRCL=NGR,Icâ©¾ImN_{R C L} = N_{G_{R}}, I_{c} \\geqslant I_{m}NRCLâ€‹=NGRâ€‹â€‹,Icâ€‹â©¾Imâ€‹. Lzi=âˆ’1Nyiâˆ’1âˆ‘j=1,jâ‰ iNI{yi=yj}â‹…logâ¡ezi~â‹…zj/Ï„~âˆ‘k=1NIkâ‰ iâ‹…ezi~â‹…zk~/Ï„L_{z_{i}}=\\frac{-1}{N_{y_{i}}-1} \\sum_{j=1, j \\neq i}^{N} I\\left\\{y_{i}=y_{j}\\right\\} \\cdot \\log \\frac{e^{\\tilde{z_{i}} \\cdot \\tilde{z_{j} / \\tau}}}{\\sum_{k=1}^{N} I_{k \\neq i} \\cdot e^{\\tilde{z_{i}} \\cdot \\tilde{z_{k}} / \\tau}}Lziâ€‹â€‹=Nyiâ€‹â€‹âˆ’1âˆ’1â€‹âˆ‘j=1,jî€ =iNâ€‹I{yiâ€‹=yjâ€‹}â‹…logâˆ‘k=1Nâ€‹Ikî€ =iâ€‹â‹…eziâ€‹~â€‹â‹…zkâ€‹~â€‹/Ï„eziâ€‹~â€‹â‹…zjâ€‹/Ï„~â€‹â€‹ 16. (ECEA) ECEA: Extensible Co-Existing Attention for Few-Shot Object Detection é—®é¢˜: å¾ˆå°‘è€ƒè™‘åˆ°å±€éƒ¨åˆ°å…¨å±€çš„å®šä½(kshotæ ·æœ¬å¯èƒ½åªèƒ½æä¾›novel classçš„ä¸€éƒ¨åˆ†,æ¯”å¦‚åªæœ‰ç‹—å¤´,ä½†æ˜¯è¦æ£€æµ‹å‡ºç‹—èº«å­) Related Workå€¼å¾—å€Ÿé‰´ æ€æƒ³: æå‡ºäº†ä¸€ä¸ªExtensible Co-Existing Attention(ECEA)æ¨¡å—ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ ¹æ®å±€éƒ¨éƒ¨åˆ†æ¨æ–­å…¨å±€å¯¹è±¡ã€‚æœ¬è´¨ä¸Šï¼Œè¯¥æ¨¡å‹åœ¨å…·æœ‰ä¸°å¯Œæ ·æœ¬çš„åŸºæœ¬é˜¶æ®µä¸æ–­å­¦ä¹ å¯æ‰©å±•çš„èƒ½åŠ›ï¼Œå¹¶å°†å…¶è½¬ç§»åˆ°æ–°çš„é˜¶æ®µï¼Œå¯ä»¥å¸®åŠ©å°‘é•œå¤´æ¨¡å‹å¿«é€Ÿé€‚åº”å°†å±€éƒ¨åŒºåŸŸæ‰©å±•åˆ°å…±å­˜åŒºåŸŸã€‚ ä½¿ç”¨ResNet101çš„åä¸‰å±‚æ„å»ºå¤šå°ºåº¦æ¨¡å—ç»è¿‡ç‰¹å¾èåˆä¹‹åé€åˆ°ECEAæ¨¡å—ä¸­ å°†ç‰¹å¾å›¾åˆ’åˆ†ä¸ºä¸€ç³»åˆ—patch,è¡¨ç¤ºä¸ºxqx_qxqâ€‹,æ¯ä¸ªpatchåˆ©ç”¨deformable cnnæ¥è·å¾—Nä¸ªextensible regions,â€¦çœ‹ä¸æ‡‚äº† EAâ¡(xq)=âˆ‘n=1NexqWqâ‹…(xqWnk)Tâˆ‘n=1NexqWqâ‹…(xqWnk)Tâ‹…xqWnv,\\operatorname{EA}\\left(x_{q}\\right)=\\sum_{n=1}^{N} \\frac{e^{x_{q} W^{q} \\cdot\\left(x_{q} W_{n}^{k}\\right)^{T}}}{\\sum_{n=1}^{N} e^{x_{q} W^{q} \\cdot\\left(x_{q} W_{n}^{k}\\right)^{T}}} \\cdot x_{q} W_{n}^{v},EA(xqâ€‹)=âˆ‘n=1Nâ€‹âˆ‘n=1Nâ€‹exqâ€‹Wqâ‹…(xqâ€‹Wnkâ€‹)Texqâ€‹Wqâ‹…(xqâ€‹Wnkâ€‹)Tâ€‹â‹…xqâ€‹Wnvâ€‹, (ç±»ä¼¼ä¸:ä¸€ä¸ªpatchç»è¿‡WWWå¾—åˆ°K,V,QK,V,QK,V,Q,ç„¶åå’Œå…¶ä»–patchè®¡ç®—ç›¸ä¼¼åº¦,ç„¶åå’Œå…¶ä»–patchçš„VVVç›¸ä¹˜,å¾—åˆ°æœ€ç»ˆçš„ç‰¹å¾) è¡¥å……3: Extensible Liner (åº”è¯¥æ˜¯Deformable å®ç°)å­¦ä¹ åˆ°Nä¸ªå¯æ‰©å±•åŒºåŸŸçš„ä½ç½®å’Œå½¢çŠ¶,ç„¶åå’Œå½“å‰çš„åŒºåŸŸè¿›è¡Œç‚¹ç§¯è¿ç®—,å¾—åˆ°ç›¸ä¼¼åº¦åˆ†æ•°,ç„¶ååœ¨å’Œå¦ä¸€ä¸ªExtensible Linerå­¦ä¹ åˆ°Nä¸ªå¯æ‰©å±•åŒºåŸŸVVVç›¸ä¹˜,å¾—åˆ°æœ€ç»ˆçš„ç‰¹å¾(ä¹Ÿæ˜¯K,V,QK,V,QK,V,Qçš„å½¢å¼,ä½†æ˜¯K,VK,VK,Vä¸­åŒ…å«äº†Nä¸ªç›¸å…³çš„æ‰©å±•åŒºåŸŸ?) æ„å»ºäº†çº§è”çš„å¤šå¤´å¤šå±‚çš„Extensible Module,æ‰©å±•çš„åŒºåŸŸæ›´å¤§,è§†é‡æ›´å¤§,æ›´èƒ½è·å¾—å¯¹è±¡çš„å®šä½ MHEAâ¡(x)=âˆ‘m=1MWmEAâ¡(x)\\operatorname{MHEA}(x)=\\sum_{m=1}^{M} W_{m} \\operatorname{EA}(x)MHEA(x)=âˆ‘m=1Mâ€‹Wmâ€‹EA(x) 17. (VFA) Few-Shot Object Detection via Variational Feature Aggregation é—®é¢˜: class-specific aggregationå’Œclass-agnostic aggregationçš„åŒºåˆ«æ²¡çœ‹æ‡‚,æ²¡çœ‹å‡ºæ¥å¸¦æ¥ä»€ä¹ˆå½±å“ å› ä¸ºnovel classçš„æ ·æœ¬å¤ªå°‘äº†,æ ·æœ¬é—´çš„æ–¹å·®å¤ªå¤§,é¢„æµ‹ç»“æœå’Œæ ·æœ¬çš„è´¨é‡å…³ç³»å¾ˆå¤§ æ€æƒ³: ä½¿ç”¨class-agnostic aggregationèšåˆ,å³åœ¨è®­ç»ƒæ—¶éšæœºæŒ‘é€‰ä¸€ä¸ªæ”¯æŒç±»å’ŒæŸ¥è¯¢çš„RoIfeatureè¿›è¡Œèšåˆå¾—åˆ°èšåˆç‰¹å¾ ä½¿ç”¨Variational Feature Aggregation(VFA),å…ˆå°†æ”¯æŒç‰¹å¾è½¬ä¸ºåˆ†å¸ƒ,ç„¶åä»åˆ†å¸ƒä¸­é‡‡æ ·å‡ºç‰¹å¾.ç”±äºåˆ†å¸ƒä¸ç‰¹å®šäºç‰¹å®šçš„ç¤ºä¾‹,æ‰€ä»¥æ–¹å·®å…·æœ‰é²æ£’æ€§ 18. (BCYOLO) Bi-path Combination YOLO for Real-time Few-shot Object Detection é—®é¢˜: æé«˜æ¨¡å‹çš„æ£€æµ‹é€Ÿåº¦,ä¸ºäº†ä¿æŒè¾ƒé«˜çš„æ¨ç†é€Ÿåº¦å’Œå¯æ¥å—çš„æ£€æµ‹ç²¾åº¦ æå‡ transfer learningçš„æ³›åŒ–èƒ½åŠ› æ€æƒ³: æå‡ºäº†ä¸€ç§åŒè·¯å¾„ç»„åˆYOLOï¼ˆBCYOLOï¼‰æ¨¡å‹,å³base classä¸€ä¸ªè·¯å¾„,novel classä¸€ä¸ªè·¯å¾„,novel classçš„è·¯å¾„ç”±base classè’¸é¦å¾—åˆ° æå‡ºä¸€ç§Attentive DropBlockæ¨¡å—(åŸºäº DropBlock:å·ç§¯çš„dropoutå¯èƒ½ä¼šæ ¹æ®å‘¨å›´åƒç´ ç‚¹æ„å»ºå‡ºæ¥,å› æ­¤ä½œç”¨ä¸å¤§,dropblockä¸¢å¼ƒçš„æ˜¯è¿ç»­åŒºåŸŸ),è¯¥ç®—æ³•ä¸ä»…å—ä¿æŒæ¦‚ç‡å’Œå—å¤§å°çš„å‚æ•°çš„å½±å“ï¼Œè¿˜å—å¯¹è±¡è¯­ä¹‰ç‰¹å¾çš„å½±å“ã€‚ 19. (CoRPN) Cooperating RPNâ€™s Improve Few-Shot Object Detection é—®é¢˜: RPNå¯¹æ–°ç±»çš„æè®®ä¸å¥½,RPN å¿…é¡»å°½å¯èƒ½æŠ¥å‘Šå°½å¯èƒ½å¤šçš„é«˜ IOU æ¡†ï¼Œå¦åˆ™åˆ†ç±»å™¨å°†å¤ªå¼±è€Œæ— æ³•å»ºæ¨¡å¤–è§‚å‡ºç°å˜åŒ–çš„æ–°ç±»ã€‚ä¸èƒ½ç®€å•åœ°æŠ¥å‘Šå¤§é‡æ¡†æ¥é€ƒé¿è¿™ç§å½±å“ï¼Œå› ä¸ºè¿™æ ·åšå°†éœ€è¦åˆ†ç±»å™¨éå¸¸æ“…é•¿æ‹’ç»è¯¯æŠ¥ã€‚ æ€æƒ³: è®­ç»ƒå¤šä¸ªRPN,è¿™äº›RPNåº”è¯¥æ˜¯ä¸åŒçš„,ä½†æ˜¯åˆä½œçš„ åº”è¯¥é€‰ç”¨å“ªä¸ªRPN(ä¸èƒ½å•å•é€‰æ‹©åˆ†æ•°æœ€é«˜çš„,å…¶ä»–çš„æ²¡ç”¨äº†): å¯¹æ¡†içš„æ‰€æœ‰è¯„åˆ†å–sigmoid,æŠŠæ¥è¿‘[0,1]çš„å–å‡ºæ¥,åªæœ‰è¢«é€‰æ‹©çš„æ¡†æ‰è·å–åˆ°æ¢¯åº¦ å¤šæ ·æ€§: Nä¸ªRPNå’ŒMä¸ªé”šå€™é€‰æ¡†,æ„å»ºä¸€ä¸ªçŸ©é˜µ,æœ€å¤§åŒ–çŸ©é˜µçš„ç§© ååŒ(é˜²æ­¢æœ‰RPNä¸€ç›´æ‹’ç»ä»»ä½•å‰æ™¯æ¡†): Lcoop i,j:=maxâ¡{0,Ï•âˆ’fij}\\mathcal{L}_{\\text {coop }}^{i, j}:=\\max \\left\\{0, \\phi-f_{i}^{j}\\right\\}Lcoop i,jâ€‹:=max{0,Ï•âˆ’fijâ€‹},Ï•âˆ’fij\\phi-f_{i}^{j}Ï•âˆ’fijâ€‹å……å½“æ¯ä¸ª RPN åˆ†é…ç»™å‰æ™¯æ¡†çš„æ¦‚ç‡çš„ä¸‹é™ã€‚å¦‚æœ RPN çš„å“åº”ä½äº Ï†ï¼Œåˆ™ RPN å°†å—åˆ°æƒ©ç½šã€‚ 19. â˜…(DEVit) Detect Every Thing with Few Examples åº”ç”¨ æ€»ç»“ å‘è¡¨æ—¶é—´ meta-learning or fine-turning è§£å†³çš„é—®é¢˜ ä½¿ç”¨çš„æ–¹æ³•","categories":[{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Few-shotObjectDetection","slug":"Few-shotObjectDetection","permalink":"https://gladdduck.github.io/tags/Few-shotObjectDetection/"}]},{"title":"C#å­¦ä¹ ä¸­çš„å°çŸ¥è¯†ç‚¹","slug":"ç¬”è®°-C#çŸ¥è¯†ç‚¹","date":"2023-11-24T12:54:49.890Z","updated":"2023-11-24T09:14:47.621Z","comments":true,"path":"2023/11/24/ç¬”è®°-C#çŸ¥è¯†ç‚¹/","link":"","permalink":"https://gladdduck.github.io/2023/11/24/%E7%AC%94%E8%AE%B0-C#%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"","text":"å­—ç¬¦ä¸²å‰é¢çš„å­—ç¬¦ 123456//æ­£å¸¸å­—ç¬¦ä¸² ç±»ä¼¼pythonä¸­çš„&#x27;&#x27;string one = &quot;\\\\&quot;;//æ¨¡æ¿å­—ç¬¦ä¸² ç±»ä¼¼pythonä¸­çš„f&#x27;&#x27;æˆ–è€…&#x27;&#x27;.format() å¯ä»¥åŠ å…¥å˜é‡string two = $&quot;\\\\&quot;;//é€å­—å­—ç¬¦ä¸² ç±»ä¼¼pythonä¸­çš„r&#x27;&#x27; æ¯ä¸ªå­—ç¬¦æ˜¯æœ¬èº«çš„æ„æ€,ä¸è½¬ä¹‰string three = @&quot;\\&quot;;","categories":[{"name":"å¿«æ·å‘½ä»¤","slug":"å¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/categories/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}],"tags":[{"name":"CSharp","slug":"CSharp","permalink":"https://gladdduck.github.io/tags/CSharp/"}]},{"title":"C#ä½¿ç”¨PaddleOCRSharp","slug":"é…ç½®-C#ä½¿ç”¨PaddleOCRSharp","date":"2023-11-24T12:54:49.886Z","updated":"2023-11-26T05:19:59.766Z","comments":true,"path":"2023/11/24/é…ç½®-C#ä½¿ç”¨PaddleOCRSharp/","link":"","permalink":"https://gladdduck.github.io/2023/11/24/%E9%85%8D%E7%BD%AE-C#%E4%BD%BF%E7%94%A8PaddleOCRSharp/","excerpt":"","text":"1. Nugetå®‰è£… 2.æœ¬åœ°ç¼–è¯‘ ç¼–è¯‘ giteeä¸Šæ‹‰ä¸‹æ¥æºç ,githubçš„ç‰ˆæœ¬æ¯”è¾ƒè€ VS2022æ‰“å¼€é¡¹ç›®,åŒå‡»é¡¹ç›®åç§°æ‰“å¼€.csprojæ–‡ä»¶.åœ¨ TargetFrameworksä¸­ä¿®æ”¹éœ€è¦çš„ç‰ˆæœ¬,ä¾‹å¦‚: 1234567891011121314151617&lt;TargetFrameworks&gt; net35; net40; net45; net451; net452; net46; net461; net462; net47; net471; net472; net48; net481; netstandard2.0;netcoreapp3.1; net5.0;net6.0;net7.0;net8.0&lt;/TargetFrameworks&gt; å¦‚æœæ˜¯ .Net8.0,ä¼šæŠ¥é”™ ä¸å­˜åœ¨ImageToBytes, å› ä¸ºåœ¨ EngineBase.csä¸­æœ‰ if !NET8_0_OR_GREATER,ImageToBytesåªé’ˆå¯¹ .Net8.0ä»¥ä¸‹ç‰ˆæœ¬,æ‰€ä»¥åœ¨ #endifåé¢åŠ ä¸Š: 12345678910#if NET8_0_OR_GREATERinternal protected byte[] ImageToBytes(Image image)&#123; using (MemoryStream ms = new MemoryStream()) &#123; image.Save(ms, image.RawFormat); // ä¿å­˜å›¾ç‰‡åˆ°å†…å­˜æµ return ms.ToArray(); // è¿”å›å­—èŠ‚æ•°ç»„ &#125;&#125;#endif æ¸…ç†é¡¹ç›®,é‡æ–°ç”Ÿæˆ,å°±å¯ä»¥åœ¨ binæ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„dllæ–‡ä»¶äº† ä½¿ç”¨ æ–°å»ºé¡¹ç›®,åœ¨ä¾èµ–é¡¹ä¸­,å³é”®æ·»åŠ é¡¹ç›®å¼•ç”¨,æ‰¾åˆ°ç”Ÿæˆçš„dllæ–‡ä»¶,æ·»åŠ å¼•ç”¨ æµ‹è¯•ä»£ç å¯ä»¥ç”¨ä¸‹é¢çš„ 123456789101112131415161718192021222324252627282930OpenFileDialog ofd = new OpenFileDialog();ofd.Filter = &quot;*.*|*.bmp;*.jpg;*.jpeg;*.tiff;*.tiff;*.png&quot;;if (ofd.ShowDialog() != DialogResult.OK) return;var imagebyte = File.ReadAllBytes(ofd.FileName);Bitmap bitmap = new Bitmap(new MemoryStream(imagebyte));OCRModelConfig config = null;OCRParameter oCRParameter = new OCRParameter();OCRResult ocrResult = new OCRResult();//å»ºè®®ç¨‹åºå…¨å±€åˆå§‹åŒ–ä¸€æ¬¡å³å¯ï¼Œä¸å¿…æ¯æ¬¡è¯†åˆ«éƒ½åˆå§‹åŒ–ï¼Œå®¹æ˜“æŠ¥é”™ã€‚ PaddleOCREngine engine = new PaddleOCREngine(config, oCRParameter);&#123; ocrResult = engine.DetectText(bitmap);&#125;if (ocrResult != null)&#123; label1.Text = ocrResult.Text;&#125; å¦‚æœä¸å‡ºæ„å¤–çš„è¯,åº”è¯¥ä¼šæŠ¥é”™,ä¸€ä¸ªé”™è¯¯æ˜¯ æ— æ³•åŠ è½½æ–‡ä»¶æˆ–ç¨‹åºé›†System.Drawing.Common, Version=0.0.0.0, culture=....è¿™ä¸ªæ˜¯å› ä¸ºæ²¡æœ‰å®‰è£… System.Drawing.Commonè¿™ä¸ªåŒ…,åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ç”¨Nugetå®‰è£…å°±å¯ä»¥äº† å¦ä¸€ä¸ªé”™è¯¯æ˜¯ æ‰¾ä¸åˆ°xxxxx.dllæˆ– ä»€ä¹ˆdllæ–‡ä»¶ä¸å­˜åœ¨æˆ– ch-xxxxxxxæ‰¾ä¸åˆ°,ä¸å­˜åœ¨.è§£å†³æ–¹æ³•: ç¬¬ä¸€ç§,å…ˆæ˜¾ç¤ºå…¨éƒ¨æ–‡ä»¶,åœ¨bin/debug/å¯¹åº”çš„ç‰ˆæœ¬æ–‡ä»¶å¤¹ä¸‹,æŠŠPaddleOCRSharpé¡¹ç›®ä¸­çš„ PaddleOCRLibæ–‡ä»¶ä¸‹çš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ ç¬¬äºŒç§,æŠŠ PaddleOCRLibæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤åˆ¶åˆ°è§£å†³æ–¹æ¡ˆåŒç›®å½•,ç„¶åæŠŠæ¯ä¸€ä¸ªæ–‡ä»¶çš„å±æ€§éƒ½è®¾ç½®ä½ å§‹ç»ˆå¤åˆ¶æˆ–è€… å¦‚æœè¾ƒæ–°åˆ™å¤åˆ¶,ä½†æ˜¯è¿™æ ·æ–‡ä»¶ç»“æ„å°±å¤æ‚äº† ç¬¬ä¸‰ç§,æŠŠ PaddleOCRLibæ–‡ä»¶å¤¹å¤åˆ¶è¿‡æ¥,","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"PaddleOCRSharp","slug":"PaddleOCRSharp","permalink":"https://gladdduck.github.io/tags/PaddleOCRSharp/"}]},{"title":"VS2022å¿«æ·é”®","slug":"æ‚è°ˆ-VS2022å¿«æ·é”®","date":"2023-11-24T12:54:49.882Z","updated":"2023-11-24T09:14:47.861Z","comments":true,"path":"2023/11/24/æ‚è°ˆ-VS2022å¿«æ·é”®/","link":"","permalink":"https://gladdduck.github.io/2023/11/24/%E6%9D%82%E8%B0%88-VS2022%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"","text":"å¤åˆ¶ä¸€è¡Œ 1Ctrl+D æ³¨é‡Š 121. æ³¨é‡Š:Ctrl+K æ¥ä¸Š Ctrl+C2. å–æ¶ˆæ³¨é‡Š:Ctrl+K æ¥ä¸Š Ctrl+U ä»£ç æŠ˜å  1231. æŠ˜å å…‰æ ‡æ‰€åœ¨éƒ¨åˆ†:Ctrl+M æ¥ä¸Š Ctrl+M2. æŠ˜å å…¨éƒ¨å‡½æ•°:Ctrl+M æ¥ä¸Š Ctrl+O(æ‰“å¼€åŒç†) ä»£ç æ ¼å¼åŒ– 1Ctrl+K æ¥ä¸Š Ctrl+D Få¼€å¤´çš„å¿«æ·é”® 12345671. F5:å¼€å§‹è°ƒè¯•2. F7:é¡µé¢è·³è½¬ä»£ç 3. F9:è®¾ç½®æ–­ç‚¹4. F10:å•æ­¥æ‰§è¡Œ5. F11:å•æ­¥è¿›å…¥6. F12:è½¬åˆ°å®šä¹‰7. Shift+F12:æŸ¥æ‰¾å˜é‡æ‰€æœ‰å¼•ç”¨","categories":[{"name":"å¿«æ·å‘½ä»¤","slug":"å¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/categories/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}],"tags":[{"name":"VS2022","slug":"VS2022","permalink":"https://gladdduck.github.io/tags/VS2022/"}]},{"title":"VSCodeç™»å½•Githubè´¦å·åŒæ­¥","slug":"é…ç½®-VSCodeç™»å½•Github","date":"2023-11-20T04:44:58.504Z","updated":"2023-11-20T04:52:43.741Z","comments":true,"path":"2023/11/20/é…ç½®-VSCodeç™»å½•Github/","link":"","permalink":"https://gladdduck.github.io/2023/11/20/%E9%85%8D%E7%BD%AE-VSCode%E7%99%BB%E5%BD%95Github/","excerpt":"","text":"é—®é¢˜ å¤šä¸ªè®¾å¤‡ä½¿ç”¨vscode,æ¯æ¬¡éƒ½è¦é…ç½®(å¿«æ·é”®,æ’ä»¶è¿™äº›),å¾ˆéº»çƒ¦ ç™»å½•GitHubè´¦å·(Microsoftè´¦å·ä¹Ÿå¯ä»¥),æç¤º:vscode ç™»å½•github å°šæœªå®Œæˆæˆæƒæ­¤æ‰©å±•ä½¿ç”¨ GitHub çš„æ“ä½œã€‚æ˜¯å¦è¦å°è¯•å…¶ä»–æ–¹å¼? (æœ¬åœ°æœåŠ¡å™¨) æ–¹æ³• åŸå› æ˜¯æœ¬åœ°ç”µè„‘è¿ä¸ä¸Šgithub,éœ€è¦ä¸€ä¸ªå…¨å±€ä»£ç†(æ²¡æœ‰) æ–¹æ³•:åœ¨C:\\Windows\\System32\\drivers\\etcä¸‹æ‰¾åˆ°hostsæ–‡ä»¶,æ·»åŠ  12345140.82.112.4 github.com185.199.108.153 vscode-auth.github.com185.199.109.153 vscode-auth.github.com185.199.110.153 vscode-auth.github.com185.199.111.153 vscode-auth.github.com å¯ä»¥å…ˆæŠŠhostæ–‡ä»¶å¤åˆ¶åˆ°æ¡Œé¢,ä¿®æ”¹æ¡Œé¢çš„host,ç„¶åæ›¿æ¢,è¿™æ ·å°±ä¸å­˜åœ¨æƒé™é—®é¢˜äº†","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"VSCode Github","slug":"VSCode-Github","permalink":"https://gladdduck.github.io/tags/VSCode-Github/"}]},{"title":"BingChatå›½å†…ä½¿ç”¨","slug":"é…ç½®-Bing Chatä½¿ç”¨","date":"2023-11-20T01:35:57.276Z","updated":"2023-11-26T05:19:19.444Z","comments":true,"path":"2023/11/20/é…ç½®-Bing Chatä½¿ç”¨/","link":"","permalink":"https://gladdduck.github.io/2023/11/20/%E9%85%8D%E7%BD%AE-Bing%20Chat%E4%BD%BF%E7%94%A8/","excerpt":"","text":"å¥½å¤„ ä¸éœ€è¦ç”³è¯·,ç½‘ç»œOkéƒ½å¯ä»¥ç”¨ DALLÂ·E 3 å…è´¹ç”¨ æ®è¯´æ˜¯ChatGPT 4.0,å¤šæ¨¡æ€,å¯ä»¥ä¸Šä¼ å›¾ç‰‡ åç»­å¯ä»¥å¢åŠ æ’ä»¶ ä½¿ç”¨ æ‰“å¼€bing.com(è¿™ä¸ªåœ°æ–¹å¦‚æœæ‰“å¼€çš„æ˜¯cn.bing.com,å°±ä¸ä¼šå‡ºç°Chatçª—å£),ä¸éœ€è¦ç™»å½• è°ƒæ•´å›½å®¶å’Œåœ°åŒº,éšä¾¿å›½å®¶ å·¦è¾¹æ ‡ç­¾é¡µå°±æœ‰Chatäº† æ³¨æ„ æ¯å¤©å¥½åƒåªæœ‰30æ¬¡æŸ¥è¯¢æœºä¼š,ä¸ç™»å½•åªæœ‰5æ¬¡(åœ¨Chromeä¸Šåªæœ‰5æ¬¡,åœ¨Edgeä¸Šæ˜¯30æ¬¡) å›¾ç‰‡ç”Ÿæˆå¯ä»¥ç›´æ¥åœ¨bing.com/createä¸Šç”Ÿæˆ,éœ€è¦ç™»å½•","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"BingChat","slug":"BingChat","permalink":"https://gladdduck.github.io/tags/BingChat/"}]},{"title":"æ‚ä¸ƒæ‚å…«å°çŸ¥è¯†","slug":"æ‚è°ˆ-æ‚è®°çŸ¥è¯†ç‚¹","date":"2023-11-19T07:27:51.051Z","updated":"2023-11-26T05:18:31.885Z","comments":true,"path":"2023/11/19/æ‚è°ˆ-æ‚è®°çŸ¥è¯†ç‚¹/","link":"","permalink":"https://gladdduck.github.io/2023/11/19/%E6%9D%82%E8%B0%88-%E6%9D%82%E8%AE%B0%E7%9F%A5%E8%AF%86%E7%82%B9/","excerpt":"","text":"cookieå’Œtokençš„åŒºåˆ«æ˜¯ä»€ä¹ˆ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"çŸ¥è¯†ç‚¹","slug":"çŸ¥è¯†ç‚¹","permalink":"https://gladdduck.github.io/tags/%E7%9F%A5%E8%AF%86%E7%82%B9/"}]},{"title":"Zero-shot Detectionè®ºæ–‡æ€»ç»“","slug":"å­¦æœ¯-Zero-shotDetectionè®ºæ–‡æ€»ç»“","date":"2023-11-14T12:57:15.167Z","updated":"2023-11-14T12:59:53.394Z","comments":true,"path":"2023/11/14/å­¦æœ¯-Zero-shotDetectionè®ºæ–‡æ€»ç»“/","link":"","permalink":"https://gladdduck.github.io/2023/11/14/%E5%AD%A6%E6%9C%AF-Zero-shotDetection%E8%AE%BA%E6%96%87%E6%80%BB%E7%BB%93/","excerpt":"","text":"Zero-shot Object Detection ç¼ºç‚¹: éœ€è¦ç»“åˆæ–‡æœ¬ä¿¡æ¯,æ²¡åŠæ³•å®Œå…¨æ ¹æ®å›¾ç‰‡è¿›è¡Œæ£€æµ‹ ç»¼è¿° A Survey of Vision-Language Pre-Trained Models è§†è§‰è¯­è¨€å¤šæ¨¡æ€ç»¼è¿° ä»‹ç»äº†è§†è§‰è¯­è¨€å¤šæ¨¡æ€çš„1. ç‰¹å¾è¡¨ç¤º 2. æ¨¡æ€äº¤äº’ 3. é¢„è®­ç»ƒä»»åŠ¡ 4. ä¸‹æ¸¸ä»»åŠ¡ 5. æ–¹å‘ 2022å¹´ä¹‹å‰çš„VLé¢„è®­ç»ƒæ¨¡å‹å’Œå¸¸ç”¨æ•°æ®é›† ç½‘é¡µ Zero-Shot Object Detectionä»‹ç» ä»‹ç»äº†Zero-Shot Object Detectionçš„åŸºæœ¬æ¦‚å¿µï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨Region-CLIPè¿›è¡ŒZero-Shot Object Detection Zero-Shot Object Detectionæ¡ˆä¾‹ ä¸€ä¸ªæ ·ä¾‹ä»£ç ,ä½¿ç”¨CLIPè¿›è¡Œæ£€æµ‹ è®ºæ–‡ Zero-Shot Detection åˆ©ç”¨BackBoneæŠ½å‡ºæ¥å›¾åƒçš„ç‰¹å¾TFT_FTFâ€‹ åœ¨TFT_FTFâ€‹ä¸Šè¿›è¡Œæ£€æµ‹,å¾—åˆ°ç›®æ ‡çš„ä½ç½®ä¿¡æ¯TLT_LTLâ€‹ åœ¨TFT_FTFâ€‹ä¸Šè¿›è¡Œè¯­ä¹‰é¢„æµ‹,å¾—åˆ°ç›®æ ‡çš„æ–‡æœ¬ä¿¡æ¯TST_STSâ€‹ æŠŠTF,TL,TST_F,T_L,T_STFâ€‹,TLâ€‹,TSâ€‹æ‹¼æ¥èµ·æ¥,è¿›è¡Œç½®ä¿¡åº¦çš„é¢„æµ‹,å¾—åˆ°äº†æœ€ç»ˆçš„é¢„æµ‹ç»“æœ(x,y,w,h,cls) æŸå¤±å‡½æ•°ç”±1)ä½ç½®æŸå¤± 2)è¯­ä¹‰æŸå¤± 3)ç½®ä¿¡åº¦æŸå¤±ç»„æˆ åœ¨éªŒè¯è¿‡ç¨‹ä¸­åˆ†ä¸ºTest-Seen,Test-Unseen,Test-Mixä¸‰ç§æƒ…å†µ è§£å†³é—®é¢˜: RPNå¯èƒ½æ— æ³•æè®®å‡ºé‚£ä¹ˆå¤šæ²¡è§è¿‡çš„ç‰©ä½“ åŸºäºYOLOv2,æ€§èƒ½å¼ºå¤§ ç®€å•å®¹æ˜“ç†è§£ Zero-Shot Object Detection æ–¹æ³•: ä¸¤é˜¶æ®µæ£€æµ‹å™¨ç»“æ„,å¯¹åŒºåŸŸå»ºè®®æ¡†å†…çš„ç‰©ä½“æŠ½å–å‡ºå›¾åƒç‰¹å¾ é€šè¿‡æ˜ å°„å°†å›¾åƒç‰¹å¾æ˜ å°„åˆ°æ–‡æœ¬ç‰¹å¾ç©ºé—´(é€šè¿‡wordEmbeddingå¾—åˆ°) åœ¨å…¬å…±ç©ºé—´è®¡ç®—å›¾åƒç‰¹å¾å’Œæ–‡æœ¬ç‰¹å¾çš„ç›¸ä¼¼åº¦,å¾—åˆ°æœªè§ç‰©ä½“çš„ç±»åˆ« è§£å†³é—®é¢˜: å°†æœªè§ç‰©ä½“åˆ†ä¸ºèƒŒæ™¯çš„è§£å†³ ä½¿ç”¨å›ºå®šçš„èƒŒæ™¯ç±»:åœ¨åµŒå…¥ç©ºé—´ä¸­ä¸ºèƒŒæ™¯æ·»åŠ ä¸€ä¸ªå›ºå®šçš„å‘é‡ å°†å¤šä¸ªæ½œåœ¨çš„ç±»åˆ†é…ç»™èƒŒæ™¯å¯¹è±¡,ä¸æ–­çš„å°†èƒŒæ™¯æ¡†æ ‡è®°ä¸ºå¯¹è±¡åå¤è®­ç»ƒ å¯†é›†é‡‡æ ·åµŒå…¥ç©ºé—´:æ•°æ®é›†ä¸­å¯è§ç±»å¤ªå°‘äº†å¯¼è‡´å…¬å…±ç©ºé—´ç¨€ç–,æœªè§ç±»çš„è¯­ä¹‰å’Œè§†è§‰ä¹‹é—´æ— æ³•å¯¹é½ ä½¿ç”¨é™¤äº†æœªè§ç±»ä¹‹å¤–çš„é¢å¤–æ•°æ®è¡¥å……è®­ç»ƒ Region-CLIP åˆ©ç”¨RPNä»å›¾åƒä¸­æå–å‡ºregion,æŠ½å–å‡ºç‰¹å¾ åˆ©ç”¨ç°æœ‰æ–‡æœ¬è§£æå™¨,ä»æ–‡æœ¬ä¸­æå–å‡ºconcept,æŠ½å–å‡ºç‰¹å¾ åˆ©ç”¨CLIPè®¡ç®—regionå’Œconceptçš„ç›¸ä¼¼åº¦,å¾—åˆ°region-textçš„é…å¯¹ åˆ©ç”¨ä¸‰ä¸ªæŸå¤±å‡½æ•°è®­ç»ƒæ¨¡å‹","categories":[{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"Zero-shot Detection","slug":"Zero-shot-Detection","permalink":"https://gladdduck.github.io/tags/Zero-shot-Detection/"}]},{"title":"Blazorä¸­çš„Localization","slug":"é…ç½®-Blazorä¸­çš„Localization","date":"2023-10-09T11:38:30.993Z","updated":"2023-11-26T05:19:29.773Z","comments":true,"path":"2023/10/09/é…ç½®-Blazorä¸­çš„Localization/","link":"","permalink":"https://gladdduck.github.io/2023/10/09/%E9%85%8D%E7%BD%AE-Blazor%E4%B8%AD%E7%9A%84Localization/","excerpt":"","text":"å‚è€ƒè¿æ¥ 1.æ ¹æ®æµè§ˆå™¨è¯­è¨€æ˜¾ç¤ºè¯­è¨€ é¡¹ç›®ä¸­æ–°å»ºResourcesæ–‡ä»¶å¤¹ æ–°å»ºText.resxæ–‡ä»¶(è¿™ä¸ªä¸ç”¨åŠ è¯­è¨€çš„åç¼€,ä¼šæŠ¥é”™ è‡ªå®šä¹‰å·¥å…· PublicResXFileCodeGenerator æœªèƒ½å¯¹è¾“å…¥æ–‡ä»¶äº§ç”Ÿè¾“å‡º) æ–°å»ºå…¶ä»–è¯­è¨€çš„Textæ–‡ä»¶,æ¯”å¦‚Text.zh.resx resxæ–‡ä»¶ä¸­è®¿é—®ä¿®é¥°ç¬¦éœ€è¦è®¾ç½® public,æ¯ä¸ªæ–‡ä»¶ä¸­çš„åç§°éœ€è¦ç›¸åŒ,å€¼æ˜¯å„ä¸ªè¯­è¨€ å®Œæˆä¹‹å,ç±»ä¼¼ä¸‹å›¾ åœ¨ Program.csä¸­æ·»åŠ  builder.Services.AddLocalization(); åœ¨ _Imports.razorä¸­æ·»åŠ  @using Microsoft.Extensions.Localization @using é¡¹ç›®å.æ–‡ä»¶å¤¹åç§°,ä¾‹å¦‚:@using BlazorWasmLocalization.Shared.ResourceFiles åœ¨é¡µé¢ä¸­æ·»åŠ ä»£ç ,å…¶ä¸­Textå°±æ˜¯resxæ–‡ä»¶çš„åç§° 12345@page &quot;/&quot;@inject IStringLocalizer&lt;Text&gt; localizer&lt;h1&gt;@localizer[&quot;resxæ–‡ä»¶ä¸­çš„ä¸€ä¸ªåç§°&quot;]&lt;/h1&gt;@localizer[&quot;resxæ–‡ä»¶ä¸­çš„ä¸€ä¸ªåç§°&quot;] 2.æ ¹æ®ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€æ˜¾ç¤ºè¯­è¨€ å¯ä»¥æ–°å»ºä¸€ä¸ªç»„ä»¶ä¹Ÿå¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸­æ·»åŠ  1234567891011121314151617181920212223242526272829303132333435363738394041&lt;!-- ä¸‹æ‹‰é€‰æ¡† --&gt;&lt;strong&gt;Culture:&lt;/strong&gt;&lt;select class=&quot;form-control&quot; @bind=&quot;Culture&quot; style=&quot;width:300px; margin-left:10px;&quot;&gt; @foreach (var culture in cultures) &#123; &lt;option value=&quot;@culture&quot;&gt;@culture.DisplayName&lt;/option&gt; &#125;&lt;/select&gt;&lt;!-- ç»„ä»¶ä»£ç  --&gt;public partial class CultureSelector&#123; [Inject] public NavigationManager NavManager &#123; get; set; &#125; [Inject] public IJSRuntime JSRuntime &#123; get; set; &#125; &lt;!-- è¯­è¨€åˆ—è¡¨,å’Œresxæ–‡ä»¶å¯¹åº” --&gt; CultureInfo[] cultures = new[] &#123; new CultureInfo(&quot;en-US&quot;), new CultureInfo(&quot;zh-CN&quot;) &#125;; CultureInfo Culture &#123; get =&gt; CultureInfo.CurrentCulture; set &#123; if (CultureInfo.CurrentCulture != value) &#123; var js = (IJSInProcessRuntime)JSRuntime; js.InvokeVoid(&quot;blazorCulture.set&quot;, value.Name); &lt;!-- æ¯æ¬¡é€‰æ‹©ä¹‹åä¼šåˆ·æ–°ä¸€ä¸‹é¡µé¢ --&gt; NavManager.NavigateTo(NavManager.Uri, forceLoad: true); &#125; &#125; &#125;&#125; åœ¨é¡¹ç›®ä¸‹æ–°å»ºä¸€ä¸ª Extensionsæ–‡ä»¶å¤¹,æ–°å»ºä¸€ä¸ª WebAssemblyHostExtension.csæ–‡ä»¶ 123456789101112131415161718public static class WebAssemblyHostExtension&#123; public async static Task SetDefaultCulture(this WebAssemblyHost host) &#123; var jsInterop = host.Services.GetRequiredService&lt;IJSRuntime&gt;(); var result = await jsInterop.InvokeAsync&lt;string&gt;(&quot;blazorCulture.get&quot;); CultureInfo culture; if (result != null) culture = new CultureInfo(result); else culture = new CultureInfo(&quot;zh-CN&quot;); CultureInfo.DefaultThreadCurrentCulture = culture; CultureInfo.DefaultThreadCurrentUICulture = culture; &#125;&#125; åœ¨ Program.csä¸­æ·»åŠ  123var host = builder.Build();await host.SetDefaultCulture();await host.RunAsync(); åœ¨ wwwroot/index.htmlä¸­æ·»åŠ  123456&lt;script&gt; blazorCulture = &#123; get: () =&gt; localStorage[&#x27;BlazorCulture&#x27;], set: (value) =&gt; localStorage[&#x27;BlazorCulture&#x27;] = value &#125;; &lt;/script&gt; åœ¨csprojæ–‡ä»¶ä¸­æ·»åŠ  1&lt;BlazorWebAssemblyLoadAllGlobalizationData&gt;true&lt;/BlazorWebAssemblyLoadAllGlobalizationData&gt; è¿è¡Œå³å¯","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"BlazorLocalization","slug":"BlazorLocalization","permalink":"https://gladdduck.github.io/tags/BlazorLocalization/"}]},{"title":"Blazorå­¦ä¹ ç¬”è®°","slug":"ç¬”è®°-C#-Blazorç¬”è®°","date":"2023-09-16T05:56:55.560Z","updated":"2023-11-26T05:19:32.110Z","comments":true,"path":"2023/09/16/ç¬”è®°-C#-Blazorç¬”è®°/","link":"","permalink":"https://gladdduck.github.io/2023/09/16/%E7%AC%94%E8%AE%B0-C#-Blazor%E7%AC%94%E8%AE%B0/","excerpt":"","text":"ğŸ˜ğŸ˜ğŸ˜ Blazor ç”¨C#ä»£æ›¿JavaScriptåˆ›å»ºä¸°å¯Œçš„UI é¡µé¢ç»„ä»¶ ç»„ä»¶ ä»¥razorç»“å°¾,æ–‡ä»¶åé¦–å­—æ¯å¤§å†™,HTMLå’ŒC#ä»£ç çš„ç»„åˆ. ç±»ä¼¼vue,åœ¨ç»„ä»¶ä¸­å¯ä»¥ä½¿ç”¨@æ¥å¼•ç”¨å˜é‡ 1234567&lt;h1 style=&quot;font-style:@_headingFontStyle&quot;&gt;@_headingText&lt;/h1&gt;@code &#123; private string _headingFontStyle = &quot;italic&quot;; private string _headingText = &quot;ä½ å¥½,ä¸–ç•Œ!&quot;;&#125; ç»„ä»¶å‚æ•° å®šä¹‰ä¸€ä¸ªå¸¦æœ‰[Parameter]çš„å…¬å…±å±æ€§,åœ¨çˆ¶ç±»ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ—¶,å¯ä»¥ä¼ å‚ 1234567891011// å­ç»„ä»¶:Child&lt;h1&gt;@Title&lt;/h1&gt;@code &#123; [Parameter] public string Title &#123; get; set; &#125;&#125;// çˆ¶ç»„ä»¶&lt;Child Title=&quot;ä¼ é€’å‚æ•°&quot; /&gt; ç»„ä»¶å¤šå‚æ•° å½“å­ç»„ä»¶å¯æºå¸¦å¤šä¸ªå‚æ•°æ—¶,ä¸ç”¨æ¯ä¸ªå‚æ•°éƒ½è¿›è¡Œå®šä¹‰. ä½¿ç”¨@attributesè¯­æ³•å…³è”å­—æ®µè¿›è¡Œç»‘å®š 12345678910111213141516171819202122// ç¬¬ä¸€ç§æ–¹å¼,å•ç‹¬ä¼ å‚&lt;input title=&quot;@Title&quot; value=&quot;@Value&quot; /&gt;// ç¬¬äºŒç§æ–¹å¼,attributeå­—å…¸ä¼ å‚&lt;input @attributes=&quot;ButtonAttributes&quot; /&gt;@code &#123; [Parameter] public string Title &#123; get; set; &#125; = &quot;Hello&quot;; [Parameter] public string Value &#123; get; set; &#125; = &quot;10&quot;; [Parameter] public Dictionary&lt;string, object&gt; ButtonAttributes &#123; get; set; &#125; = new Dictionary&lt;string, object&gt;()&#123; &#123; &quot;title&quot;,&quot;Hello&quot; &#125; , &#123; &quot;value&quot;,&quot;10&quot; &#125; , &#125;;&#125; ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ ç»„ä»¶æ¨¡æ¿ çˆ¶ç»„ä»¶åœ¨ä½¿ç”¨å­ç»„ä»¶æ—¶ï¼Œå¯ä»¥å‘å­ç»„ä»¶ä¸­æ’å…¥ä»£ç ç‰‡æ®µ.ç±»ä¼¼vueä¸­çš„æ’æ§½? 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758// å­ç»„ä»¶ï¼Œæ„å»ºä¸€ä¸ªRenderFragmentæ¨¡æ¿@typeparam IData&lt;table&gt; &lt;thead&gt; @HeaderTemplate &lt;/thead&gt; &lt;tbody&gt; @foreach (var item in Data) &#123; &lt;tr&gt; &lt;td&gt;@RowTemplate(item)&lt;/td&gt; &lt;/tr&gt; &#125; &lt;/tbody&gt;&lt;/table&gt;@code &#123; [Parameter] public RenderFragment HeaderTemplate &#123; get; set; &#125; [Parameter] public RenderFragment&lt;IData&gt; RowTemplate &#123; get; set; &#125; [Parameter] public IReadOnlyList&lt;IData&gt; Data &#123; get; set; &#125;&#125;// çˆ¶ç»„ä»¶ä½¿ç”¨æ—¶ä¼ é€’htmlæ ‡ç­¾&lt;TableTemplate Data=&quot;students&quot;&gt; &lt;HeaderTemplate&gt; &lt;th&gt;Id&lt;/th&gt; &lt;th&gt;Name&lt;/th&gt; &lt;/HeaderTemplate&gt; &lt;RowTemplate&gt; &lt;td&gt;@context.Id&lt;/td&gt; &lt;td&gt;@context.Name&lt;/td&gt; &lt;/RowTemplate&gt;&lt;/TableTemplate&gt;@code&#123; public List&lt;Student&gt; students &#123; get; set; &#125; protected override Task OnInitializedAsync() &#123; students = new List&lt;Student&gt;(); students.Add(new Student() &#123; Id = 1, Name = &quot;John&quot; &#125;); students.Add(new Student() &#123; Id = 2, Name = &quot;Mary&quot; &#125;); students.Add(new Student() &#123; Id = 3, Name = &quot;Jane&quot; &#125;); students.Add(new Student() &#123; Id = 4, Name = &quot;Peter&quot; &#125;); return base.OnInitializedAsync(); &#125;&#125; ç»„ä»¶æ–¹æ³• å­ç»„ä»¶æ—¶é—´å®Œæˆä¹‹åçš„ä¸€ä¸ªå›è°ƒ,å½“å­ç»„ä»¶å‘ç”ŸæŸä¸ªäº‹ä»¶ä¹‹åé€šçŸ¥çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶çš„ä¸€ä¸ªå“åº”å‡½æ•° ä¸‹é¢çš„ä¾‹å­ï¼Œå½“å­ç»„ä»¶å‘ç”Ÿç‚¹å‡»äº‹ä»¶ä¹‹åï¼Œçˆ¶ç»„ä»¶å¯åšå‡ºç›¸åº”çš„ååº” 123456789101112131415161718192021222324252627282930// å­ç»„ä»¶ï¼šChildCallBack&lt;button @onclick=&quot;OnClickChild&quot;&gt; Click&lt;/button&gt;@code &#123; [Parameter] public EventCallback&lt;MouseEventArgs&gt; OnClickCallback &#123; get; set; &#125; // private async void OnClickChild()&#123; // do somethings // ()ä¼ é€’å‚æ•° OnClickCallback.InvokeAsync(1); &#125;&#125;// çˆ¶ç»„ä»¶&lt;ChildCallBack OnClickCallback=&quot;ReceiveDataFromSideBar&quot;&gt;&lt;/ChildCallBack&gt;@code&#123; private void ReceiveDataFromSideBar(int number) &#123; // å¯æ¥å—å‚æ•°åšå¤„ç† &#125;&#125; äº‹ä»¶å¤„ç† åœ¨æ ‡ç­¾ä¸­ä½¿ç”¨@ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œä¸€ç§ä½¿ç”¨lambdaè¡¨è¾¾å¼ç›´æ¥å¤„ç†ï¼Œä¸€ç§ä½¿ç”¨å‡½æ•° 1234567891011121314151617181920212223242526272829303132333435363738394041424344// 1.lambda&lt;input @onchange=&quot;@(()=&gt;Console.WriteLine(&quot;Hello&quot;))&quot; /&gt;&lt;button @onclick=&quot;@(()=&gt;Console.WriteLine(&quot;Hello&quot;))&quot; /&gt;// 2.@codeä¸­ä½¿ç”¨å‡½æ•°&lt;button @onclick=&quot;Show&quot; /&gt;@code&#123; public void Show() &#123; //å½“æŒ‰é’®è¢«ç‚¹å‡», å°†æ‰§è¡Œä¸‹é¢ä»£ç  &#125;&#125;// 3.æºå¸¦äº‹ä»¶å‚æ•°ï¼Œåœ¨é»˜è®¤çš„æƒ…å†µä¸‹, æˆ‘ä»¬å¦‚æœåªç¼–å†™ä¸€ä¸ªäº‹ä»¶è§¦å‘çš„æ–¹æ³•, å¹¶ä¸”æ˜ç¡®å®ƒæ˜¯å¦æœ‰å‚æ•°, åœ¨UIå…ƒç´ ç»‘å®šæ–¹æ³•ä¸Š, æˆ‘ä»¬éƒ½æ— éœ€ä¼ é€’å‚æ•°&lt;button @onclick=&quot;Show&quot; /&gt;@code&#123; public async Task Show(MouseEventArgs e) &#123; //... &#125;&#125;// 4.å¯é‡è½½ï¼Œå¸¦æœ‰äº‹ä»¶æˆ–ä¸å¸¦äº‹ä»¶&lt;button @onclick=&quot;@(e=&gt;Show(e))&quot; /&gt; //è°ƒç”¨å¸¦äº‹ä»¶å‚æ•°çš„æ–¹æ³•&lt;button @onclick=&quot;@(()=&gt;Show())&quot; /&gt; //è°ƒç”¨ä¸å¸¦äº‹ä»¶å‚æ•°çš„æ–¹æ³•@code&#123; //ä¸å¸¦äº‹ä»¶å‚æ•°çš„æ–¹æ³• public void Show() &#123; &#125; //å¸¦äº‹ä»¶å‚æ•°çš„æ–¹æ³• public void Show(MouseEventArgs e) &#123; &#125;&#125; æ•°æ®ç»‘å®š ç»‘å®šå­—æ®µ ç±»ä¼¼vueä¸­çš„v-bindï¼Œå¯ä»¥ç»‘å®šC#å­—æ®µ,åŒå‘ç»‘å®š @xxxå’Œ@bindçš„åŒºåˆ«ï¼švalue=â€œ@xxxâ€: åªèƒ½åšåˆ°å±æ€§å‘ˆç°åˆ°UIå…ƒç´ å½“ä¸­, å…ƒç´ å‘ç”Ÿå˜åŒ–å¹¶ä¸ä¼šå½±å“åˆ°å±æ€§å˜æ›´ã€‚ 1234567&lt;input @bind=&quot;Name&quot; /&gt;@code &#123; private string Name&#123; get; set; &#125;&#125; ç»‘å®šå¯¹è±¡çš„å±æ€§ 123456789101112131415&lt;input @bind=&quot;Stu.Name&quot;/&gt;@code&#123; public Student Stu &#123; get; set; &#125; = new Student() &#123; Name = &quot;123&quot; &#125;; public class Student &#123; public string Name &#123; get; set; &#125; &#125;&#125; ç»‘å®šæ•°æ®æ ¼å¼åŒ– 12345678&lt;input @bind=&quot;StartDate&quot; @bind:format=&quot;yyyy-MM-dd&quot; /&gt;@code &#123; [Parameter] public DateTime StartDate &#123; get; set; &#125; = new DateTime(2020, 1, 1);&#125; çˆ¶ç»„ä»¶å‚æ•°ç»‘å®šåˆ°å­ç»„ä»¶ å½“çˆ¶ç»„ä»¶çš„å‚æ•°æ”¹å˜æ—¶ï¼Œå­ç»„ä»¶ä¸­çš„å‚æ•°ä¹Ÿä¼šåŒæ—¶æ”¹å˜ 123456789101112131415161718192021222324// ChildComponent &lt;p&gt;Year: @Year&lt;/p&gt;@code &#123; [Parameter] public int Year &#123; get; set; &#125; [Parameter] public EventCallback&lt;int&gt; YearChanged &#123; get; set; &#125;&#125;// çˆ¶ç»„ä»¶&lt;ChildComponent @bind-Year=&quot;ParentYear&quot; /&gt;&lt;input @bind=&quot;ParentYear&quot; /&gt;@code &#123; [Parameter] public int ParentYear &#123; get; set; &#125; = 1978;&#125; è·¯ç”±å’Œé¡µé¢å¯¼èˆª @page â€œ/xxxâ€ ç»„ä»¶çš„è·¯ç”± @page â€œ/xxx/{aaa}â€ aaaæ˜¯è·¯ç”±ä¼ å‚ï¼Œåœ¨@codeä¸­æ·»åŠ ä¸€ä¸ªå…¬å…±å­—æ®µaaaï¼Œ @page â€œ/xxx/{aaa:int}â€ æŒ‡å®šå‚æ•°ç±»å‹ NavigationManager.NavigateTo(â€œ/test/999â€); è·³è½¬é¡µé¢(NavLink ä¹Ÿå¯ä»¥) Blazor Serverå’ŒBlazor WebAssembly å®˜ç½‘è¯´æ˜ æœåŠ¡å™¨æŠŠä¸œè¥¿å…¨éƒ¨è¿è¡Œåœ¨æµè§ˆå™¨çš„æ²™ç›’é‡Œ, Blazor WebAssemblyçš„ä¼˜ç‚¹ åœ¨æµè§ˆå™¨ä¸­æ‰§è¡ŒC#ä»£ç ï¼Œä¸éœ€è¦é¢å¤–çš„æ’ä»¶ å¯ä»¥åŸºäºWebAssemblyçš„æ€§èƒ½ä¼˜åŠ¿å’Œå¯åœ¨æµè§ˆå™¨å†…æ‰§è¡Œçš„èƒ½åŠ›ï¼Œè·å¾—æ›´å¿«é¡µé¢å¤„ç†é€Ÿåº¦ æ”¯æŒæ— æœåŠ¡å™¨å’Œç¦»çº¿åœºæ™¯ Blazor WebAssemblçš„ç¼ºç‚¹ éœ€è¦åŠ è½½å¤ªå¤šèµ„æºï¼Œé¦–æ¬¡å±•ç°é€Ÿåº¦è¾ƒæ…¢ ç”±äºæ‰€æœ‰ä»£ç éƒ½åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œï¼Œä¸èƒ½åµŒå…¥æœºå¯†æ•°æ® Blazor Serverç±»ä¼¼MVC,ä½†æ˜¯Serveræ˜¯é•¿è¿æ¥,åœ¨æœåŠ¡å™¨ç«¯è®¡ç®—ç»“æœå·®å¼‚,æµè§ˆå™¨æ‹¿åˆ°å·®å¼‚æ¸²æŸ“(blazor.server.js) Blazor Serverçš„ä¼˜ç‚¹ é¡µé¢åŠ è½½æ˜¯è½»é‡çº§çš„ æœåŠ¡å™¨å¯ä»¥ä½¿ç”¨æœºå¯†æ•°æ®ï¼Œä¾‹å¦‚è®¿é—®æ•°æ®åº“ å®ƒæ”¯æŒ100%çš„æµè§ˆå™¨ï¼Œå³ä½¿æ˜¯é‚£äº›æ²¡æœ‰WASMæ”¯æŒçš„æµè§ˆå™¨ï¼Œå¦‚Internet Explorerã€‚ Blazor Serverçš„ç¼ºç‚¹ éœ€è¦ä¸€ä¸ªhttp://ASP.NET CoreæœåŠ¡å™¨ ä¸æ”¯æŒæ— æœåŠ¡å™¨å’Œç¦»çº¿åœºæ™¯ å¤§é‡SignalRè¿æ¥å¯èƒ½å¼•å‘æ€§èƒ½é—®é¢˜,ä¿æŒè¿æ¥","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Blazor","slug":"Blazor","permalink":"https://gladdduck.github.io/tags/Blazor/"}]},{"title":"Gitå­¦ä¹ ç¬”è®°","slug":"å®ä¹ -Gitå­¦ä¹ ç¬”è®°","date":"2023-09-09T02:24:47.503Z","updated":"2023-11-26T05:22:17.136Z","comments":true,"path":"2023/09/09/å®ä¹ -Gitå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://gladdduck.github.io/2023/09/09/%E5%AE%9E%E4%B9%A0-Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"","text":"ğŸ˜ğŸ˜ğŸ˜ æµç¨‹ è¿œç¨‹ä»“åº“(github) æœ¬åœ°ä»“åº“(æœ¬æœº) ç¼“å†²åŒº(é˜²æ­¢è¯¯æäº¤) å·¥ä½œåŒº(å†™ä»£ç çš„åœ°æ–¹) githubç”¨æˆ·åå¯†ç å­˜å‚¨åœ¨ç”¨æˆ·ç®¡ç†ä¸­çš„ç®¡ç†Windowså‡­æ®. git status æŸ¥çœ‹æ–‡ä»¶å½“å‰æ‰€å¤„ä½ç½® gitignore å¿½ç•¥æ–‡ä»¶ æ ¹ç›®å½•åˆ›å»º .gitignore æ¯ä¸ªé…ç½®é¡¹å•ç‹¬ä¸€è¡Œ å¯ä»¥æœ‰ç©ºè¡Œ,æ–¹ä¾¿é˜…è¯» å¯ä»¥æ˜¯æ–‡æ˜ç›®å½•å,è·¯å¾„æˆ–è€…åŒ¹é…æ¨¡å¼ å¦‚æœä¸€ä¸ªæ–‡ä»¶å·²ç»è¢«æäº¤è¿‡äº†,å†ignoreæ²¡æœ‰ç”¨ 12345678910111213141516171819202122232425262728293031323334æ¨¡å¼åŒ¹é…# ç”¨äºæ³¨é‡Š \\ç”¨äºè½¬ä¹‰* åŒ¹é…ä»»æ„å­—ç¬¦ä»»æ„æ¬¡ ?åŒ¹é…ä»»æ„å­—ç¬¦1æ¬¡ ä½†éƒ½ä¸åŒ¹é…/[] ç”¨äºåŒ¹é…åˆ—è¡¨é‡Œé¢çš„ä¸€ä¸ªå­—ç¬¦**ç”¨äºåŒ¹é…å¤šçº§ç›®å½•/ç”¨æˆ·åˆ†éš”ç›®å½• 1)å¦‚æœ/åœ¨å¼€å¤´,åˆ™åŒ¹é…æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶, å¦åˆ™ æ‰€æœ‰å­æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶éƒ½ä¼šåŒ¹é… 2)/ åœ¨æœ«å°¾æ—¶, åªåŒ¹é…ç›®å½•, å¦åˆ™åŒåçš„æ–‡ä»¶å’Œç›®å½•éƒ½ä¼šåŒ¹é…! ç”¨äºé‡æ–°åŒ…å«æŸä¸ªæ–‡ä»¶, å¦‚æœè¿™ä¸ªæ–‡ä»¶çš„çˆ¶çº§ç›®å½•è¢«æ’é™¤äº†,é‚£ä¹ˆå®ƒä¸å›è¢«åŒ…å«äº†ä¾‹:1) å¿½ç•¥æ‰€å“Ÿå†…å®¹ *2) å¿½ç•¥æ‰€æœ‰ç›®å½• */3) å¿½ç•¥public ç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶ public/* !public/xxxxxxx4) åªä¿ç•™publicç›®å½•ä¸‹çš„æŸä¸ªæ–‡ä»¶ /* !/public/ /public/* !/public/a?z.*å¦‚ä½•æ£€æŸ¥è‡ªå·±å†™çš„ignoreè§„åˆ™æ˜¯å¦å¯¹git check-ignore [-v] &#123;æ–‡ä»¶æˆ–ç›®å½•è·¯å¾„&#125; åˆ†æ”¯æ“ä½œ 12345678910111213git branch -a æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯git branch dev åˆ›å»ºåˆ†æ”¯git checkout dev åˆ‡æ¢åˆ†æ”¯git branch -d dev åˆ é™¤åˆ†æ”¯git branch -m æ—§åç§° æ–°åç§° é‡å‘½ååˆ†æ”¯git checkout -b dev åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯git merge dev åˆå¹¶åˆ†æ”¯ åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ä¸Š,ç„¶åå†åˆå¹¶å­åˆ†æ”¯,å°†devåˆå¹¶åˆ°å½“å‰åˆ†æ”¯# å°†æœ¬åœ°åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹git push origin --allgit push origin åˆ†æ”¯ågit push origin -d åˆ†æ”¯å åˆ é™¤è¿œç«¯åˆ†æ”¯ ä¿®æ”¹åˆ†æ”¯åç§°:å‚è€ƒ Merge åˆå¹¶ ä¿®æ”¹ä¹‹å‰å°½é‡å…ˆpullä¸€ä¸‹ è¿œç¨‹ä»“åº“å·²æ›´æ–°,æœ¬åœ°æ²¡pull,ç›´æ¥ä¿®æ”¹,ä¹‹åpush,ä¼šæ˜¾ç¤ºpushå¤±è´¥,ä¼šæç¤ºgit pull. åœ¨git pullä¹‹å, å¯èƒ½ä¼šæœ‰è‡ªåŠ¨åˆå¹¶,auto-merging, ä¿®æ”¹åŒä¸€æ–‡ä»¶ä¸åŒä½ç½® éœ€è¦æ‰‹åŠ¨åˆå¹¶,æ­¤æ—¶è§£å†³å†²çªéœ€è¦å’Œå†²çªè€…å•†é‡,åˆå¹¶æ—¶ä¼šæ–°å»ºä¸€ä¸ªä¸´æ—¶åˆ†æ”¯ ,ä¿®æ”¹ä¹‹åé‡æ–°æäº¤,add commit push,ä¿®æ”¹åŒä¸€æ–‡ä»¶åŒä¸€ä½ç½® &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;HEAD å†²çªå¼€å§‹ =============== ä¸åŒçš„å†…å®¹åˆ†éš”ç¬¦ &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;å†²çªç»“æŸ ç‰ˆæœ¬å›é€€ 123456789101112131415161718192021# æ•´ä¸ªæ–‡ä»¶å¤¹å›é€€# æŸ¥çœ‹å†å²è®°å½•,è¿™ä¸ªè¯´æ˜commité‡Œé¢çš„è¯´æ˜ä¸€å®šè¦å†™è¯¦ç»†,åªä¼šæ˜¾ç¤ºå½“å‰æäº¤ä¹‹å‰çš„ç‰ˆæœ¬git log --oneline# å›é€€åˆ°æŸä¸€ä¸ªç‰ˆæœ¬,åé¢æäº¤çš„å°±çœ‹ä¸åˆ°äº†git reset --hard è¾“å…¥ç‰ˆæœ¬å·# æŸ¥çœ‹ä»ç°åœ¨åˆ°æœ€æ–°çš„commit idgit reflog # å›åˆ°æœ€æ–°çš„ç‰ˆæœ¬git reset --hard commit id# å•ä¸ªæ–‡ä»¶å›é€€,æäº¤ä¿®æ­£# å¯¹é”™è¯¯æ–‡ä»¶ä¿®æ­£,æäº¤æ—¶æ¼äº¤æ–‡ä»¶,æäº¤ä¿¡æ¯ä¿®æ­£,é•¿å¼€å‘ä¸­å°æäº¤è¿‡å¤š# ä¿®æ­£ä¹‹åä¸ä¼šåœ¨logä¸­æ˜¾ç¤ºgit commit --amend -m &quot;æäº¤è¯´æ˜&quot; æ–‡ä»¶æ¢å¤ ä¿®æ”¹æˆ–åˆ é™¤ä¹‹å,æ²¡æœ‰add git checkout æ–‡ä»¶å ä¼šè¿˜åŸæˆä¸Šä¸€æ¬¡addçš„æ–‡ä»¶ ä¿®æ”¹æˆ–åˆ é™¤ä¹‹å,addäº†,ä½†æ²¡æœ‰commit git checkout commit_id æ–‡ä»¶å ä¿®æ”¹æˆ–åˆ é™¤ä¹‹å,å·²commit git checkout commit_id æ–‡ä»¶å æŸ¥çœ‹æ—¥å¿— æ™®é€šæ—¥å¿— å¼•ç”¨æ—¥å¿— 12345# é¡¹ç›®çš„æœ€åä¸€æ ¹ç¨»è‰# æœ¬åœ°æ—¥å¿—,ä¸ä¼šä¸Šä¼ åˆ°è¿œç«¯,ä¼šæŠŠæ–‡ä»¶å›é€€ä¿®æ­£çš„è®°å½•ä¹Ÿåˆ—å‡ºæ¥git reflog æ ‡ç­¾ç®¡ç† å‘è¡Œ: åœ¨githubä¸Šcreate a new release fork å¤åˆ¶åˆ«äººçš„ä»“åº“ ç„¶åå…‹éš†åˆ°æœ¬åœ° ä¿®æ”¹æäº¤â€¦ å‘åŸä»“åº“å‘ç”Ÿå’Œå¹¶è¯·æ±‚,contribute,open a pull request ç­‰å¾…åŸå§‹ä»“åº“åŒæ„åˆå¹¶ æœ¬åœ°åº“ä¸è¿œç¨‹åº“è¿›è¡Œå…³è” githubæ–°å»ºä»“åº“ æœ¬åœ°git initåˆå§‹åŒ– git remote add origin https:// å…³è”è¿œç¨‹ git push -u origin åˆ†æ”¯åç§° å¦‚æœæ·»åŠ ç¬¬äºŒä¸ªè¿œç¨‹ä»“åº“,ä¿®æ”¹originä¸ºä¸€ä¸ªæ–°çš„ *git remote å‚æ•°,è®¾ç½®è¿œç¨‹ä»“åº“çš„ä¿¡æ¯ -hæŸ¥çœ‹å‘½ä»¤å¸®åŠ© git remote -v æŸ¥çœ‹ä»“åº“ git push è¿œç«¯åº“åç§° åˆ†æ”¯åç§° githubä»“åº“ç¾åŒ– å›¾æ ‡ä¿®æ”¹ æµç¨‹ gitå‘å¸ƒæµç¨‹ åˆ†æ”¯åˆå¹¶å‘å¸ƒæµç¨‹ï¼š git add . # å°†æ‰€æœ‰æ–°å¢ã€ä¿®æ”¹æˆ–åˆ é™¤çš„æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº git commit -m â€œç‰ˆæœ¬å‘å¸ƒâ€ # å°†æš‚å­˜åŒºçš„æ–‡ä»¶å‘ç‰ˆ git status # æŸ¥çœ‹æ˜¯å¦è¿˜æœ‰æ–‡ä»¶æ²¡æœ‰å‘å¸ƒä¸Šå» git checkout test # åˆ‡æ¢åˆ°è¦åˆå¹¶çš„åˆ†æ”¯ git pull # åœ¨test åˆ†æ”¯ä¸Šæ‹‰å–æœ€æ–°ä»£ç ï¼Œé¿å…å†²çª git merge dev # åœ¨test åˆ†æ”¯ä¸Šåˆå¹¶ dev åˆ†æ”¯ä¸Šçš„ä»£ç  git push # ä¸Šä¼ teståˆ†æ”¯ä»£ç ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Git","slug":"Git","permalink":"https://gladdduck.github.io/tags/Git/"}]},{"title":"AcWingç®—æ³•åŸºç¡€è¯¾","slug":"ç®—æ³•-AcWingç®—æ³•åŸºç¡€è¯¾,","date":"2023-06-04T14:26:33.383Z","updated":"2023-06-09T06:10:38.786Z","comments":true,"path":"2023/06/04/ç®—æ³•-AcWingç®—æ³•åŸºç¡€è¯¾,/","link":"","permalink":"https://gladdduck.github.io/2023/06/04/%E7%AE%97%E6%B3%95-AcWing%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E8%AF%BE,/","excerpt":"","text":"åŸºç¡€ç®—æ³• å¿«é€Ÿæ’åº 12345678910111213141516171819202122232425262728293031def quick_sort(lst,start,end): # è¾¹ç•Œæ¡ä»¶ if start&gt;=end: return None # é€‰æ‹©å“¨å…µç‚¹ standby=lst[(start+end)&gt;&gt;1] # å·¦å³æŒ‡é’ˆ left=start-1 right=end+1 while left&lt;right: left+=1 while lst[left]&lt;standby: left+=1 right-=1 while lst[right]&gt;standby: right-=1 if left&lt;right: lst[left],lst[right]=lst[right],lst[left] # if j-l+1&gt;=m: # return quick_sort(nums,l,j,m) # else: # return quick_sort(nums,j+1,r,m-(j-l+1)) quick_sort(lst,start,right) quick_sort(lst,right+1,end)import sysn=int(input())nums=list(map(int,sys.stdin.read().split()))quick_sort(nums,0,len(nums)-1)for item in nums: print(item,end=&quot; &quot;) é€‰æ‹©æ’åº 123456789101112131415161718192021222324252627282930313233n=int(input())lst=list(map(int,input().split()))def merge(a,b): lena=len(a) lenb=len(b) i=j=0 c=[] while i&lt;lena and j&lt;lenb: if a[i]&lt;b[j]: c.append(a[i]) i+=1 else: # ans+=len(l)-i c.append(b[j]) j+=1 if i==lena: c.extend(b[j:]) else: c.extend(a[i:]) return c def sort(nums): if len(nums)&lt;=1: return nums mid=len(nums)&gt;&gt;1 l=sort(nums[:mid]) r=sort(nums[mid:]) return merge(l,r)ret=sort(lst)for item in ret: print(item,end=&quot; &quot;) äºŒåˆ† 123456789101112131415161718192021222324252627282930313233343536373839404142n,m=list(map(int,input().split()))lst=list(map(int,input().split()))for _ in range(m): q=int(input()) l=0 r=n-1 while l&lt;r: mid=(l+r)&gt;&gt;1 if lst[mid]&gt;=q: r=mid else: l=mid+1 if lst[l]!=q: print(&quot;-1 -1&quot;) else: print(l,end=&#x27; &#x27;) l=0 r=n-1 while l&lt;r: mid=(r+l+1)&gt;&gt;1 if lst[mid]&gt;q: r=mid-1 else: l=mid print(l)# --------import bisectn,m=list(map(int,input().split()))lst=list(map(int,input().split()))for _ in range(m): q=int(input()) l=bisect.bisect_left(lst,q) r=bisect.bisect_right(lst,q) if l&gt;=n or r&lt;=0: print(&quot;-1 -1&quot;) elif r!=0 and lst[r-1]!=q: print(&quot;-1 -1&quot;) else: r-=1 print(f&#x27;&#123;l&#125; &#123;r&#125;&#x27;) å‰ç¼€å’Œ 12 å·®åˆ† 1234567891011121314n,m=map(int,input().split())nums=list(map(int,input().split()))diff=[0]*(n+1)diff[0]=nums[0]for i in range(1,len(nums)): diff[i]=nums[i]-nums[i-1]for i in range(m): a,b,c=map(int,input().split()) diff[a-1]+=c diff[b]-=ctemp=0for i in range(n): temp+=diff[i] print(temp,end=&#x27; &#x27;) åŒæŒ‡é’ˆ 12 ä½è¿ç®— 12 ç¦»æ•£åŒ– 12345678910111213141516171819202122232425262728293031323334n,m=map(int,input().split())all=set()add=[]query=[]for _ in range(n): x,c=map(int,input().split()) all.add(x) add.append((x,c))for _ in range(m): l,r=map(int,input().split()) all.add(l) all.add(r) query.append((l,r)) all=sorted(all)nums=[0]*len(all)nums2index=&#123;&#125;for i,x in enumerate(all): nums2index[x]=i for k,v in add: nums[nums2index[k]]+=vsums=[0]*(len(all)+1)for i in range(len(nums)): sums[i+1]=sums[i]+nums[i]for l,r in query: indexl=nums2index[l] indexr=nums2index[r] print(sums[indexr+1]-sums[indexl]) åŒºé—´å’Œå¹¶ 12345678910111213141516n=int(input())nums=[]for _ in range(n): a,b=list(map(int,input().split())) nums.append((a,b))nums=sorted(nums)left,right=nums[0][0],nums[0][1]ans=1for i in range(1,len(nums)): a,b=nums[i][0],nums[i][1] if a&lt;=right: right=max(b,right) else: ans+=1 left,right=a,bprint(ans) æ•°æ®ç»“æ„ å•é“¾è¡¨ åŒé“¾è¡¨ æ ˆ 12345678910111213141516171819202122232425262728293031323334353637383940414243s=input()num_stack=[]op_stack=[]pro=&#123;&#x27;+&#x27;:1,&#x27;-&#x27;:1,&#x27;*&#x27;:2,&#x27;/&#x27;:2&#125;def eval(): b=num_stack.pop() a=num_stack.pop() op=op_stack.pop() if op==&#x27;+&#x27;: num_stack.append(a+b) elif op==&#x27;-&#x27;: num_stack.append(a-b) elif op==&#x27;*&#x27;: num_stack.append(a*b) else: num_stack.append(int(a/b))i=0while i&lt;len(s): if s[i].isdigit(): temp=0 while i&lt;len(s) and s[i].isdigit(): temp=temp*10+int(s[i]) i+=1 num_stack.append(temp) continue elif s[i]==&#x27;(&#x27;: op_stack.append(&#x27;(&#x27;) elif s[i]==&#x27;)&#x27;: while op_stack[-1]!=&#x27;(&#x27;: eval() op_stack.pop() else: while op_stack and op_stack[-1]!=&#x27;(&#x27; and pro[s[i]]&lt;=pro[op_stack[-1]]: eval() op_stack.append(s[i]) i+=1while op_stack: eval()print(num_stack[0]) é˜Ÿåˆ— å•è°ƒæ ˆ 12345678910111213141516n=int(input())lst=list(map(int,input().split()))stack=[lst[0]]ans=[-1]for i in range(1,len(lst)): while stack and stack[-1]&gt;=lst[i]: stack.pop() ans.append(stack[-1] if stack else -1) stack.append(lst[i])for i in ans: print(i,end=&#x27; &#x27;) å•è°ƒé˜Ÿåˆ— 1234567891011121314151617181920212223242526272829from collections import dequen,k=map(int,input().split())lst=list(map(int,input().split()))ans=[]dq=deque()ans2=[]dq2=deque()for i in range(n): while (dq and lst[dq[-1]]&lt;lst[i]): dq.pop() while dq and i-dq[0]&gt;=k: dq.popleft() dq.append(i) ans.append(lst[dq[0]]) for i in range(n): while (dq2 and lst[dq2[-1]]&gt;lst[i]): dq2.pop() while dq2 and i-dq2[0]&gt;=k: dq2.popleft() dq2.append(i) ans2.append(lst[dq2[0]]) for item in ans2[k-1:]: print(item ,end=&#x27; &#x27;) print()for item in ans[k-1:]: print(item ,end=&#x27; &#x27;) Tire 1234567891011121314151617181920212223242526272829303132333435n=int(input())lst=list(map(int,input().split()))tire=[[0]*2 for i in range(3000000)]count=0def insert(x): p=0 for i in range(32,-1,-1): t=(x&gt;&gt;i)&amp;1 if not tire[p][t]: global count count+=1 tire[p][t]=count p=tire[p][t] def find(x): p=0 res=0 for i in range(32,-1,-1): t=(x&gt;&gt;i)&amp;1 if tire[p][not t]: res+=(1&lt;&lt;i) p=tire[p][not t] else: p=tire[p][t] return resans=-1for i in lst: insert(i) ans=max(ans,find(i)) print(ans) å¹¶æŸ¥é›† 123456789101112131415161718192021222324252627282930n,m=map(int,input().split())size=[1]*(n+1)p=[i for i in range(n+1)]def find(x): if x!=p[x]: p[x]=find(p[x]) return p[x]def merge(a,b): fa=find(a) fb=find(b) p[fa]=fb size[fb]+=size[fa]for _ in range(m): inp=input().split() q=inp[0] if q==&#x27;C&#x27;: a,b=int(inp[1]),int(inp[2]) if find(a)!=find(b): merge(a,b) elif q==&#x27;Q1&#x27;: a,b=int(inp[1]),int(inp[2]) if find(a)==find(b): print(&quot;Yes&quot;) else: print(&#x27;No&#x27;) else: a=int(inp[1]) print(size[find(a)]) å † 12import heapq å“ˆå¸Œè¡¨ 12345678910111213141516171819202122232425import sysN=100010n,m=map(int,sys.stdin.readline().split())h=[0]*Np=[0]*Nseed=131Q=1&lt;&lt;64s=&#x27; &#x27;+input()def get(l,r): return (h[r]-h[l-1]*p[r-l+1])%Q p[0]=1for i in range(1,n+1): p[i]=(p[i-1]*seed)%Q h[i]=(h[i-1]*seed+ord(s[i]))%Q while m: m-=1 a,b,x,y=map(int,sys.stdin.readline().split()) if get(a,b)==get(x,y): print(&quot;Yes&quot;) else: print(&quot;No&quot;) æœç´¢ä¸å›¾è®º æ·±æœ&amp;å¹¿æœ æ‹“æ‰‘æ’åº 123456789101112131415161718192021222324252627282930313233n,m=map(int,input().split())from collections import defaultdict,dequegraph=defaultdict(list)degr=[0]*(n+1)for i in range(m): a,b=map(int,input().split()) graph[a].append(b) degr[b]+=1def topsort(): ans=[] dq=deque() for i in range(1,n+1): if degr[i]==0: dq.append(i) while dq: cur = dq.pop() ans.append(cur) for neigh in graph.get(cur,[]): degr[neigh]-=1 if degr[neigh]==0: dq.append(neigh) return ans if len(ans)==n else Noneans=topsort()if ans: for i in ans: print(i,end=&#x27; &#x27;)else: print(-1) dijkstra 1234567891011121314151617181920212223242526272829303132333435363738from collections import defaultdictimport heapqn,m=list(map(int,input().split()))graph=[[-1]*(n+1) for _ in range(n+1)]for i in range(m): a,b,c=list(map(int,input().split())) graph[a-1][b-1]=c if graph[a-1][b-1]==-1 else min(graph[a-1][b-1],c) def dijkstra(): dis=[float(&#x27;inf&#x27;)]*(n) dis[0]=0 visited=set() min_heap=[(0,0)] # ä¾æ¬¡ç¡®å®šnä¸ªç‚¹çš„è·ç¦» for i in range(n): # æ²¡æœ‰å¯è¾¾çš„ç‚¹äº† if len(min_heap)==0: break # æœªç¡®å®šç‚¹æœ€è¿‘çš„ä¸€ä¸ª _,min_index=heapq.heappop(min_heap) visited.add(min_index) # å¯»æ‰¾é‚»å±… for v in range(n): # å¯è¾¾ä¸”æœªè®¿é—® if v not in visited and graph[min_index][v]&gt;0: new_dis=dis[min_index]+graph[min_index][v] # æ›´æ–° if dis[v]&gt;new_dis: dis[v]=new_dis heapq.heappush(min_heap,(dis[v],v)) return disd=dijkstra()print(d[n-1] if d[n-1]!=float(&#x27;inf&#x27;) else -1) 123456789101112131415161718192021222324252627282930from collections import defaultdictimport heapqimport sysn,m=map(int,input().split())graph=defaultdict(list)for i in range(m): a,b,c=map(int,sys.stdin.readline().split()) graph[a-1].append((b-1,c)) def dijkstra(): dis=[float(&#x27;inf&#x27;)]*n dis[0]=0 visit=set() min_heap=[(0,0)] while len(min_heap): _,node=heapq.heappop(min_heap) if node in visit:continue visit.add(node) for v,d in graph.get(node,[]): new_dis=dis[node]+d if dis[v]&gt;new_dis: dis[v]=new_dis heapq.heappush(min_heap,(dis[v],v)) return disd=dijkstra()print(d[n-1] if d[n-1]!=float(&#x27;inf&#x27;) else -1) bellman-ford 12345678910111213141516171819202122232425from collections import defaultdictimport heapqimport sysn,m,k=map(int,input().split())graph=[]for i in range(m): a,b,c=map(int,sys.stdin.readline().split()) graph.append((a,b,c)) def bellmen_ford(): dis=[float(&#x27;inf&#x27;)]*(n+1) dis[1]=0 backup=[] for _ in range(k): backup=dis.copy() for a,b,c in graph: dis[b]=min(backup[a]+c,dis[b]) if float(dis[n])&gt;float(&#x27;inf&#x27;)/2 or dis[n]==float(&#x27;inf&#x27;): return &#x27;impossible&#x27; return dis[n]ans=bellmen_ford()print(ans) spfa 1234567891011121314151617181920212223242526272829303132from collections import defaultdict,dequeimport sysn,m=map(int,input().split())graph=defaultdict(list)for i in range(m): a,b,c=map(int,sys.stdin.readline().split()) graph[a].append((b,c)) def spfa(): dist = [float(&#x27;inf&#x27;)] * (n+1) dist[1] = 0 visited = [0] * (n+1) q=deque() q.append(1) visited[1]=1 while q: cur=q.popleft() visited[cur]=0 for b,c in graph.get(cur,[]): if dist[b]&gt;dist[cur]+c: dist[b]=dist[cur]+c if not visited[b]: visited[b]=1 q.append(b) return dist[n] if dist[n]!=float(&#x27;inf&#x27;) else &#x27;impossible&#x27;ans=spfa()print(ans) floyd 1234567891011121314151617181920212223import sysn,m,k=map(int,input().split())dist = [[float(&#x27;inf&#x27;)] * (n+1) for _ in range(n+1)]for i in range(m): a,b,c=map(int,sys.stdin.readline().split()) dist[a][b]=min(c,dist[a][b]) for i in range(n+1): dist[i][i]=0def floyd(): for k in range(1,n+1): for i in range(1,n+1): for j in range(1,n+1): dist[i][j]=min(dist[i][j],dist[i][k]+dist[k][j])ans=floyd()for _ in range(k): a,b=map(int,sys.stdin.readline().split()) print(&#x27;impossible&#x27; if dist[a][b]==float(&#x27;inf&#x27;) else dist[a][b]) prime 1234567891011121314151617181920212223242526272829303132333435import sysn,m=map(int,input().split())INF=float(&#x27;inf&#x27;)graph = [[INF] * (n+1) for _ in range(n+1)]for i in range(m): a,b,c=map(int,sys.stdin.readline().split()) graph[b][a]=min(c,graph[b][a]) graph[a][b]=graph[b][a]for i in range(n+1): graph[i][i]=0def prime(): dist= [INF] * (n+1) visit= [False] * (n+1) res=0 for i in range(n): t=-1 for j in range(1,n+1): if not visit[j] and (t==-1 or dist[t]&gt;dist[j] ): t=j if i and dist[t]==INF:return INF if i:res+=dist[t] for j in range(1,n+1): dist[j]=min(dist[j],graph[t][j]) visit[t]=True return resans=prime()print(ans if ans!=INF else &#x27;impossible&#x27;) kruskal 12345678910111213141516171819202122232425262728293031323334import sysfrom collections import defaultdictn,m=map(int,input().split())INF=float(&#x27;inf&#x27;)graph = []p = [i for i in range(n+1)]for i in range(m): a,b,c=map(int,sys.stdin.readline().split()) graph.append((c,a,b)) graph=sorted(graph)def find(x): if p[x]!=x: p[x]=find(p[x]) return p[x]def kruskal(): res=0 cnt=0 for w,a,b in graph: a=find(a) b=find(b) if a!=b: p[a]=b cnt+=1 res+=w return INF if cnt&lt;n-1 else resans=kruskal()print(ans if ans!=INF else &#x27;impossible&#x27;) æ•°å­¦çŸ¥è¯† ç­›è´¨æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142def get_prime(n): count=0 isprime=[1]*(n+1) isprime[0]=isprime[1]=0 for i in range(2,n+1): if isprime[i]: count+=1 for j in range(2,n+1): if j*i&gt;n: break isprime[i*j]=0 return count# åŸƒå¼ç­›æ³•def get_prime2(n): count=0 isprime=[1]*(n+1) isprime[0]=isprime[1]=0 for i in range(2,n+1): if isprime[i]: count+=1 for j in range(2,n+1): if j*i&gt;n: break isprime[i*j]=0 return count# çº¿æ€§ç­›æ³•def get_prime3(n): nums=[1]*(n+1) isprime=[] for i in range(2,n+1): if nums[i]: isprime.append(i) for j in range(len(isprime)): if i*isprime[j]&gt;n: break nums[i*isprime[j]]=0 if i%isprime[j]==0: break return len(isprime)n=int(input())print(get_prime3(n)) çº¦æ•° 12def gcd(a,b): return a if b==0 else gcd(b,a%b) çº¦æ•°å®šç† n=âˆpiai=p1a1âˆ—p2a2âˆ—...âˆ—pkakn=\\prod p_i^{a_i}= p_1^{a_1}* p_2^{a_2}*...*p_k^{a_k}n=âˆpiaiâ€‹â€‹=p1a1â€‹â€‹âˆ—p2a2â€‹â€‹âˆ—...âˆ—pkakâ€‹â€‹ çº¦æ•°ä¸ªæ•°:f(n)=âˆ(ai+1)=(a1+1)âˆ—(a2+1)âˆ—...âˆ—(ak+1)f(n)=\\prod (a_i+1)= (a_1+1)*(a_2+1)*...*(a_k+1)f(n)=âˆ(aiâ€‹+1)=(a1â€‹+1)âˆ—(a2â€‹+1)âˆ—...âˆ—(akâ€‹+1) çº¦æ•°å’Œ:Ïƒ(n)=(p10+p11+p12+â‹¯p1a1)(p20+p21+p22+â‹¯p2a2)â‹¯(pk0+pk1+pk2+â‹¯pkak)\\sigma(n)=\\left(p_{1}^{0}+p_{1}^{1}+p_{1}^{2}+\\cdots p_{1}^{a_{1}}\\right)\\left(p_{2}^{0}+p_{2}^{1}+p_{2}^{2}+\\cdots p_{2}^{a_{2}}\\right) \\cdots\\left(p_{k}^{0}+p_{k}^{1}+p_{k}^{2}+\\cdots p_{k}^{a_{k}}\\right)Ïƒ(n)=(p10â€‹+p11â€‹+p12â€‹+â‹¯p1a1â€‹â€‹)(p20â€‹+p21â€‹+p22â€‹+â‹¯p2a2â€‹â€‹)â‹¯(pk0â€‹+pk1â€‹+pk2â€‹+â‹¯pkakâ€‹â€‹) äº’è´¨ä¸ªæ•°:Ï•(n)=nÃ—p1âˆ’1p1Ã—p2âˆ’1p2Ã—â€¦Ã—pkâˆ’1pk\\phi(n)=n \\times \\frac{p_{1}-1}{p_{1}} \\times \\frac{p_{2}-1}{p_{2}} \\times \\ldots \\times \\frac{p_{k}-1}{p_{k}}Ï•(n)=nÃ—p1â€‹p1â€‹âˆ’1â€‹Ã—p2â€‹p2â€‹âˆ’1â€‹Ã—â€¦Ã—pkâ€‹pkâ€‹âˆ’1â€‹ 12345678# çº¦æ•°ä¸ªæ•°# çº¦æ•°ä¹‹å’Œ# 1~nä¸­ä¸näº’è´¨çš„æ•°çš„ä¸ªæ•°(æ¬§æ‹‰å‡½æ•°) æ¬§æ‹‰å‡½æ•° 1234567891011121314151617181920212223# ç­›æ³•æ±‚æ¬§æ‹‰å‡½æ•°n=int(input())def oula(): nums=[1]*(n+1) oula=[0]*(n+1) oula[1]=1 prime=[] for i in range(2,n+1): if nums[i]: prime.append(i) oula[i]=i-1 for j in range(len(prime)): if i*prime[j]&gt;n: break nums[i*prime[j]]=0 if i%prime[j]==0: oula[i*prime[j]]=oula[i]*prime[j] break oula[i*prime[j]]=oula[i]*(prime[j]-1) return sum(oula)print(oula()) å¿«é€Ÿå¹‚ 12345678910111213n=int(input())for _ in range(n): a,b,c=list(map(int,input().split())) ans=1 while b: if b&amp;1: ans*=a ans%=c a*=a a%=c b//=2 print(int(ans)) æ±‚ç»„åˆæ•° æ•°æ®é‡ æ•°æ®èŒƒå›´ æ–¹æ³• å¤æ‚åº¦ åä¸‡ 1&lt;=b&lt;=a&lt;=2000 é€’æ¨ N2N^2N2 ä¸€ä¸‡ 1&lt;=b&lt;=a&lt;=10510^5105 é¢„å¤„ç†æ‰“è¡¨ NlogNNlogNNlogN äºŒå 1&lt;=b&lt;=a&lt;=101810^181018 å¢å¡æ–¯å®šç†(Lucas) PlogpmPlog_pmPlogpâ€‹m 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576# 1&lt;=b&lt;=a&lt;=2000n=int(input())MOD=10**9+7C=[[0]*(2005+1) for _ in range(2005+1)]def init(): for i in range(2005+1): for j in range(i+1): if j==0: C[i][j]=1 else: C[i][j]=(C[i-1][j]+C[i-1][j-1])%MODinit()for _ in range(n): a,b=map(int,input().split()) print(C[a][b])# 1&lt;=b&lt;=a&lt;=$10^5$n=int(input())MOD=10**9+7N=100010fact=[0]*(N)infact=[0]*Ndef qmi(a,b,m): res=1 while b : if b&amp;1: res=(res*a)%MOD a=(a*a)%MOD b&gt;&gt;=1 return resdef init(): fact[0]=infact[0]=1 for i in range(1,N): fact[i]=(fact[i-1]*i)%MOD infact[i]=infact[i-1]*qmi(i,MOD-2,MOD)%MODinit()for _ in range(n): a,b=map(int,input().split()) print(fact[a]*infact[a-b]%MOD*infact[b]%MOD)# 1&lt;=b&lt;=a&lt;=$10^18$n=int(input())p=0def qmi(x,q): res=1 while q: if q&amp;1: res=res*x%p x=(x*x)%p q&gt;&gt;=1 return resdef C(a,b): res=1 i=1 j=a for _ in range(1,b+1): res=(res*j)%p res=(res*qmi(i,p-2))%p i+=1 j-=1 return resdef lucas(a,b): if a&lt;p and b&lt;p: return C(a,b) else: return C(a%p,b%p)*lucas(a//p,b//p)%pfor _ in range(n): a,b,p=map(int,input().split()) print(lucas(a,b)) å®¹æ–¥åŸç† 1234567891011121314151617181920n,m=map(int,input().split())lst=list(map(int,input().split()))res=0for num in range(1,1&lt;&lt;m): t=1 s=0 for i in range(m): if num&gt;&gt;i&amp;1: if t*lst[i]&gt;n: t=-1 break s+=1 t*=lst[i] if t!=-1: if s&amp;1: res+=(n//t) else: res-=(n//t)print(res) åšå¼ˆè®º 12345678910111213141516171819202122232425262728n=int(input())count=list(map(int,input().split()))m=int(input())store=list(map(int,input().split()))memory=[-1]*10005def sg(x): if memory[x]!=-1: return memory[x] mex=set() for i in count: if x&gt;=i: mex.add(sg(x-i)) i=0 while True: if i not in mex: memory[x]=i return memory[x] i+=1res=0for num in store: res^=sg(num)print(&#x27;Yes&#x27; if res else &#x27;No&#x27;) åŠ¨æ€è§„åˆ’ 0-1èƒŒåŒ… 1234567891011121314151617181920212223242526n,m=map(int,input().split())weight=[0]value=[0]for _ in range(n): a,b=map(int,input().split()) weight.append(a) value.append(b)def dp1(): dp=[[0]*1005 for i in range(1005)] for i in range(1,n+1): for j in range(m+1): dp[i][j]=dp[i-1][j] if j&gt;=weight[i]: dp[i][j]=max(dp[i-1][j],dp[i-1][j-weight[i]]+value[i]) print(dp[n][m])def dp2(): dp=[0]*1005 for i in range(1,n+1): for j in range(m,-1,-1): if j&gt;=weight[i]: dp[j]=max(dp[j],dp[j-weight[i]]+value[i]) print(dp[m])dp2() å®Œå…¨èƒŒåŒ… 12345678910111213141516171819202122232425262728293031n,m=map(int,input().split())weight=[0]value=[0]for _ in range(n): a,b=map(int,input().split()) weight.append(a) value.append(b)def dp1(): dp=[[0]*1005 for i in range(1005)] for i in range(1,n+1): for j in range(m+1): dp[i][j]=dp[i-1][j] if j&gt;=weight[i]: # dp[i][j]=max(dp[i-1][j],dp[i-1][j-weight[i]]+value[i],dp[i][j-weight[i]]+value[i]) # dp[i][j]=max(dp[i-1][j],dp[i-1][j-weight]+value,dp[i-1][j-2*weight]+2*value,...) # dp[i][j-weight]=max(dp[i-1][j-weight],dp[i-1][j-2*weight]+value,dp[i-1][j-3*weight]+2*value,...) # dp[i][j]=max(dp[i-1][j],dp[i][j-weight]+value) dp[i][j]=max(dp[i-1][j],dp[i][j-weight[i]]+value[i]) print(dp[n][m])def dp2(): dp=[0]*1005 for i in range(1,n+1): for j in range(m+1): if j&gt;=weight[i]: dp[j]=max(dp[j],dp[j-weight[i]]+value[i]) print(dp[m])dp2() å¤šé‡èƒŒåŒ… 1234567891011121314151617181920212223242526272829303132333435363738n,m=map(int,input().split())weight=[0]value=[0]nums=[0]for _ in range(n): a,b,c=map(int,input().split()) weight.append(a) value.append(b) nums.append(c)def dp1(): dp=[[0]*1005 for i in range(1005)] for i in range(1,n+1): for j in range(m+1): dp[i][j]=dp[i-1][j] for k in range(nums[i]+1): if j&lt;k*weight[i]: break dp[i][j]=max(dp[i][j],dp[i-1][j-k*weight[i]]+k*value[i]) # dp[i][j]=max(dp[i-1][j],dp[i-1][j-weight]+value,dp[i-1][j-2*weight]+2*value,...) # dp[i][j-weight]=max(dp[i-1][j-weight],dp[i-1][j-2*weight]+value,dp[i-1][j-3*weight]+2*value,...) # dp[i][j]=max(dp[i-1][j],dp[i][j-weight]+value) # dp[i][j]=max(dp[i-1][j],dp[i][j-weight[i]]+value[i]) print(dp[n][m])def dp2(): dp=[0]*1005 for i in range(1,n+1): for j in range(m+1,-1,-1): for k in range(nums[i]+1): if j&lt;k*weight[i]: break dp[j]=max(dp[j],dp[j-k*weight[i]]+k*value[i]) print(dp[m])dp2() åˆ†ç»„èƒŒåŒ… 12345678910111213141516171819202122232425262728293031323334n,m=map(int,input().split())from collections import defaultdictweight=defaultdict(list)value=defaultdict(list)for i in range(1,1+n): nums=int(input()) for j in range(nums): a,b=map(int,input().split()) weight[i].append(a) value[i].append(b)def dp1(): dp=[[0]*105 for i in range(10005)] for i in range(1,1+n): for j in range(m+1): dp[i][j]=dp[i-1][j] for k in range(len(weight[i])): if j&gt;=weight[i][k]: dp[i][j]=max(dp[i][j],dp[i-1][j-weight[i][k]]+value[i][k]) print(dp[n][m])def dp2(): dp=[0]*10005 for i in range(1,n+1): for j in range(m+1,-1,-1): for k in range(len(weight[i])): if j&gt;=weight[i][k]: dp[j]=max(dp[j],dp[j-weight[i][k]]+value[i][k]) print(dp[m])dp2() æœ€é•¿é€’å¢å­åºåˆ— 12345678910111213141516171819202122232425262728n=int(input())nums=list(map(int,input().split()))dp=[0]*nans=float(&#x27;-inf&#x27;)for i in range(n): dp[i]=1 for j in range(i): if nums[j]&lt;nums[i]: dp[i]=max(dp[i],dp[j]+1) ans=max(ans,dp[i])print(ans)# ----------import bisectn=int(input())nums=list(map(int,input().split()))INF=float(&#x27;inf&#x27;)length=[INF]*(n+1)ans=1length[0]=-INFfor index,num in enumerate(nums): i=bisect.bisect_left(length,num) length[i]=num ans=max(ans,i)print(ans) æœ€é•¿å…¬å…±å­åºåˆ— 1234567891011121314n,m=map(int,input().split())s=&#x27; &#x27;+input()t=&quot; &quot;+input()dp=[[0]*(m+1) for _ in range(n+1)]for i in range(1,n+1): for j in range(1,m+1): if s[i]==t[j]: dp[i][j]=dp[i-1][j-1]+1 else: dp[i][j]=max(dp[i-1][j],dp[i][j-1])print(dp[n][m]) æœ€çŸ­ç¼–è¾‘è·ç¦» 123456789101112131415161718n=int(input())s=&#x27; &#x27;+input()m=int(input())t=&quot; &quot;+input()dp=[[0]*(m+1) for _ in range(n+1)]for i in range(n+1): dp[i][0]=ifor j in range(m+1): dp[0][j]=jfor i in range(1,n+1): for j in range(1,m+1): if s[i]==t[j]: dp[i][j]=min(dp[i-1][j-1],dp[i-1][j]+1,dp[i][j-1]+1) else: dp[i][j]=min(dp[i-1][j-1],dp[i-1][j],dp[i][j-1])+1print(dp[n][m]) è´ªå¿ƒ åŒºé—´è¦†ç›– 123456789101112131415161718192021222324252627282930s,t=map(int,input().split())n=int(input())pair=[]for _ in range(n): a,b=map(int,input().split()) if a&gt;t or b&lt;s: continue pair.append([a,b])pair=sorted(pair)start=send=float(&#x27;-inf&#x27;)count=1i=0while end&lt;t and i &lt;len(pair): a,b=pair[i] if a&lt;=start: end=max(end,b) i+=1 elif a&gt;start: if i==0: break start=end count+=1 if end&gt;=t: break if a&gt;end: end=float(&#x27;-inf&#x27;) breakprint(count if end&gt;=t else -1) åŒºé—´åˆ†ç»„ 1234567891011121314151617n=int(input())pair=[]for _ in range(n): pair.append(list(map(int,input().split())))pair=sorted(pair)import heapqcount=[]for i in range(len(pair)): a,b=pair[i] if len(count)==0 or a&lt;=count[0]: heapq.heappush(count,b) else: heapq.heappop(count) heapq.heappush(count,b)print(len(count)) æœ€å¤§ä¸ç›¸äº¤åŒºé—´ 1234567891011121314151617181920212223n=int(input())pair=[]for _ in range(n): pair.append(list(map(int,input().split())))pair=sorted(pair,key=lambda x:x[1])start=pair[0][0]end=pair[0][1]count=1for i in range(1,len(pair)): a,b=pair[i] if a&lt;=end and b&gt;end: continue elif a&lt;=end and b&lt;=end: continue elif a&gt;end: start=a end=b count+=1print(count) åŒºé—´é€‰ç‚¹ 123456789101112131415161718192021222324n=int(input())pair=[]for _ in range(n): pair.append(list(map(int,input().split())))pair=sorted(pair)start=pair[0][0]end=pair[0][1]count=1for i in range(1,len(pair)): a,b=pair[i] if a&lt;=end and b&gt;end: start=a elif a&lt;=end and b&lt;=end: start=a end=b elif a&gt;end: start=a end=b count+=1print(count) å“ˆå¤«æ›¼æ ‘ 123456789101112131415n=int(input())nums=list(map(int,input().split()))import heapqheapq.heapify(nums)ans=0for i in range(n-1): a=heapq.heappop(nums) b=heapq.heappop(nums) ans+=(a+b) heapq.heappush(nums,a+b)print(ans) è€æ‚æŠ€çš„ç‰› 12345678910111213141516n=int(input())pair=[]for _ in range(n): a,b=list(map(int,input().split())) pair.append((a,b))pair=sorted(pair,key=lambda x:x[0]+x[1])ans=float(&#x27;-inf&#x27;)weight=0for i in range(len(pair)): temp=weight-pair[i][1] ans=max(ans,temp) weight+=pair[i][0]print(ans)","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"2023ç›®æ ‡æ£€æµ‹CCF-Cä¼šè®®","slug":"å­¦æœ¯-åƒåœ¾æ£€æµ‹ä¼šè®®","date":"2023-06-03T07:02:51.042Z","updated":"2023-11-26T04:44:16.828Z","comments":true,"path":"2023/06/03/å­¦æœ¯-åƒåœ¾æ£€æµ‹ä¼šè®®/","link":"","permalink":"https://gladdduck.github.io/2023/06/03/%E5%AD%A6%E6%9C%AF-%E5%9E%83%E5%9C%BE%E6%A3%80%E6%B5%8B%E4%BC%9A%E8%AE%AE/","excerpt":"","text":"call for paper ASIG 2023 7.15 Asia Symposium on Image and Graphics ICCPR 2023 7.05 International Conference on Computing and Pattern Recognition ICGIP 2023 6.25 International Conference on Graphics and Image Processing ISVC 2023 7.20 International Symposium on Visual Computing ICMV 2023 7.05 International Conference on Machine Vision ICTAI 2023 6.25 -CCFC International Conference on Tools with Artificial Intelligence ICVISP 2023 7.15 International Conference on Vision, Image and Signal Processing","categories":[{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"ç›®æ ‡æ£€æµ‹ä¼šè®®","slug":"ç›®æ ‡æ£€æµ‹ä¼šè®®","permalink":"https://gladdduck.github.io/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E4%BC%9A%E8%AE%AE/"}]},{"title":"åƒåœ¾æ£€æµ‹ç›¸å…³è®ºæ–‡","slug":"å­¦æœ¯-åƒåœ¾æ£€æµ‹è®ºæ–‡æ€»ç»“","date":"2023-04-15T08:51:40.893Z","updated":"2023-11-13T07:05:38.024Z","comments":true,"path":"2023/04/15/å­¦æœ¯-åƒåœ¾æ£€æµ‹è®ºæ–‡æ€»ç»“/","link":"","permalink":"https://gladdduck.github.io/2023/04/15/%E5%AD%A6%E6%9C%AF-%E5%9E%83%E5%9C%BE%E6%A3%80%E6%B5%8B%E8%AE%BA%E6%96%87%E6%80%BB%E7%BB%93/","excerpt":"","text":"æ•°æ®å¢å¼ºã€æ”¹è¿›Backboneã€æ”¹è¿›FPNã€æ”¹è¿›æ£€æµ‹å¤´ã€æ”¹è¿›lossã€æ”¹è¿›åå¤„ç† åŸºç¡€ç½‘ç»œ R-CNN B ç«™è®ºæ–‡ 12345678# ä¹‹å‰éƒ½æ˜¯äººå·¥æå–ç‰¹å¾,ç”¨æœºå™¨å­¦ä¹ åˆ†ç±»# æŠŠäººå·¥æå–ç‰¹å¾æ”¹æˆCNNæå–ç‰¹å¾# ä¸‰ä¸ªæ¨¡å—# 1.å€™é€‰åŒºåŸŸç”Ÿæˆ(Selective search)(2000ä¸ª)(ç»Ÿä¸€å¤§å°)# 2.ç‰¹å¾æŠ½å–(æ‰©å±•16ä¸ªåƒç´ )(AlexNet)# 3.åˆ†ç±»,æ¡†å›å½’ SPPnet 123456# ç”¨CNNæå–æ•´ä¸ªå›¾çš„ç‰¹å¾ï¼ŒæŠŠå€™é€‰åŒºåŸŸæ˜ å°„åˆ°ç‰¹å¾å›¾ä¸Š# æœ€åç”¨ç©ºé—´é‡‘å­—å¡”(ä¸‰ä¸ªå±‚)ï¼Œä¸€ä¸ªåŠ¨æ€æ± åŒ–å±‚ï¼Œå¯¹å€™é€‰åŒºåŸŸç‰¹å¾å›¾å¾—åˆ°å›ºå®šå¤§å°çš„è¾“å‡ºç‰¹å¾ï¼Œæ‹¼æ¥åœ¨ä¸€èµ·# è¿˜æ˜¯ç”¨svmåˆ†ç±»# ä¸èƒ½å¾ˆå¥½çš„æ›´æ–°cnnæƒé‡ FPN,ASFF,PANet,NASFPN,BiFPNç»“æ„ FPN 1612 PANet 1803:FPNæ˜¯è‡ªä¸Šè€Œä¸‹,é¦–æ¬¡æå‡ºäº†è‡ªä¸‹è€Œä¸Š CSPnet æ¢¯åº¦åˆ†æµ,å‡å°‘è®¡ç®—é‡å’Œå†…å­˜ SPP 1406 SPPF Fast R-CNN B ç«™è®ºæ–‡ 12345678910111213141516# é’ˆå¯¹R-CNNå’ŒSPPnet# å¤šé˜¶æ®µæ¨¡å‹,ä¸åŒçš„æ¨¡å—éƒ½è¦åˆ†åˆ«è®­ç»ƒ# è¦æŠŠæå–åˆ°çš„ç‰¹å¾å­˜åˆ°ç£ç›˜é‡Œï¼Œå†ç»™åˆ†ç±»å™¨# å•é˜¶æ®µï¼Œä¸ç”¨å­˜ç‰¹å¾# ç”¨CNNå¾—åˆ°æ•´å¼ å›¾ç‰‡çš„ç‰¹å¾# æ ¹æ®å€™é€‰åŒºåŸŸåœ¨å›¾ç‰‡ä¸Šçš„ä½ç½®ï¼ˆè¾“å…¥åæ ‡ï¼‰ï¼Œåˆ©ç”¨ROIæŠ•å½±è·å¾—å€™é€‰åŒºåŸŸåœ¨ç‰¹å¾å›¾ä¸Šçš„ç‰¹å¾# ç”¨ROIæ± åŒ–å±‚ï¼ˆç©ºé—´é‡‘å­—å¡”ç‰¹æ®Šæƒ…å†µï¼Œä¸€ä¸ªå±‚ï¼‰æŠŠå€™é€‰åŒºåŸŸç‰¹å¾è½¬ä¸ºå›ºå®šå¤§å°çš„ç‰¹å¾å›¾# ä¸¤ä¸ªå¹¶è¡Œå…¨è¿æ¥å±‚ï¼Œåˆ†ç±»ã€é¢„æµ‹åæ ‡# å…¶ä»–éªŒè¯æ€§å®éªŒ # æµ‹è¯•é˜¶æ®µè¾“å…¥å›¾åƒå’Œå€™é€‰åŒºåŸŸåæ ‡# å€™é€‰åŒºåŸŸå»ºè®®æ˜¯å•ç‹¬çš„ Faster R-CNN B ç«™è®ºæ–‡ 1234567891011# Fast R-CNNè¿˜æ˜¯éœ€è¦å•ç‹¬çš„æ¨¡å—ç”Ÿæˆå€™é€‰åŒºåŸŸæŠ•å½±# è§£å†³å€™é€‰åŒºåŸŸé€‰æ‹©çš„é—®é¢˜# RPNså’Œç‰¹å¾æå–å±‚ å…±äº«å·ç§¯å±‚# ç”¨n*nçš„æ»‘åŠ¨çª—å£åœ¨ç‰¹å¾å›¾ä¸Šæå–ï¼Œä¼ ç»™small network åˆ¤æ–­æ˜¯å¦èƒ½ç”Ÿæˆå€™é€‰åŒºåŸŸ# ä½¿ç”¨ä¸‰ä¸ªå°ºåº¦ï¼ˆ128ï¼Œ256ï¼Œ512 1:1,1:2,2:1ï¼Œä¹ä¸ªæ¡†ï¼‰ç”Ÿæˆkä¸ªanchor boxesï¼Œï¼ˆæ ¹æ®æ•°æ®é›†è®¾ç½®æ¡†çš„å¤§å°ï¼‰ï¼Œéæå¤§å€¼æŠ‘åˆ¶# ä¸æ ‡æ³¨ç‹‚IOUå€¼æœ€å¤§ï¼Œä¸æ ‡æ³¨æ¡†IOUå€¼å¤§äº0.7 åˆ†ç»™æ­£æ ‡ç­¾# äº¤æ›¿è®­ç»ƒ Mask R-CNN 1234567891011121314# Faster R-CNNçš„RoI Pooling æ˜¯ç›´æ¥å–æ•´,ä¼šå¯¼è‡´å®ä¾‹åç§»,å¯¹äºåƒç´ çº§ ä¸å¯å–# æŠŠå€™é€‰åŒºåŸŸçš„ç‰¹å¾å›¾è½¬æ¢ä¸ºå›ºå®šå¤§å°çš„ROI featureæ—¶ ä¹Ÿä¼šå–æ•´# ä¸¤æ¬¡è¯¯å·®# éª¨å¹²ç½‘ç»œæ¢æˆResNet-FPN# Mask R-CNNä½¿ç”¨åŒçº¿æ€§æ’å€¼è§£å†³ç¼©æ”¾çš„é—®é¢˜# å¢åŠ MASK åˆ†æ”¯,ä¸‰è·¯å¹¶è¡Œ,MASK headä¸¤ç§å®ç° 1.ResNet 2.ResNet+FPN å˜æˆK*M*M # K*M*M å¤§å°,Kä¸ªç±»åˆ«# ä¸FCNæ–¹æ³•æ˜¯ä¸åŒï¼ŒFCNæ˜¯å¯¹æ¯ä¸ªåƒç´ è¿›è¡Œå¤šç±»åˆ«softmaxåˆ†ç±»ï¼Œç„¶åè®¡ç®—äº¤å‰ç†µæŸå¤±ï¼Œè¿™ç§åšæ³•æ˜¯ä¼šé€ æˆç±»é—´ç«äº‰çš„ è®ºæ–‡ Analysis of Object Detection Performance Based on Faster RCNN åŸºäºFaster R-CNNçš„ç›®æ ‡æ£€æµ‹æ€§èƒ½åˆ†æ ä»‹ç»äº†R-CNN-&gt;Fast R-CNN-&gt; Faster R-CNNçš„å˜åŒ–è¿‡ç¨‹ Faster R-CNNçš„å¤§æ¦‚ç»“æ„ å¯¹æ¯”ä¸‰ä¸ªæ¨¡å‹åœ¨ä¸åŒæ•°æ®é›†ä¸Šçš„æ•ˆæœ End-to-End Object Detection with Transformers é‡Œç¨‹ç¢‘:ç«¯åˆ°ç«¯çš„æ–¹æ³•,ä¸ç”¨éæå¤§å€¼æŠ‘åˆ¶ å˜æˆé›†åˆé¢„æµ‹é—®é¢˜ CNNæŠ½å–ç‰¹å¾ï¼ï¼é€å…¥Transformerå­¦ä¹ å…¨å±€ç‰¹å¾-&gt;è¾“å‡º100ä¸ªæ¡†-&gt;äºŒåˆ†å›¾lossåŒ¹é…çœŸå®æ¡†-&gt;è®¡ç®—loss é—®é¢˜:å°ç›®æ ‡,è®­ç»ƒepoché•¿ EfficientDet: Scalable and Efficient Object Detection æ–°çš„ç»“æ„,å¤šå±‚ç‰¹å¾èåˆ Deformable DETR: Deformable Transformers for End-to-End Object Detection è§£å†³DETRçš„ä¸¤ä¸ªé—®é¢˜ 12341.ä¸ç”¨TRansformeråŸæœ‰çš„è‡ªæ³¨æ„åŠ›,æ”¹ä¸ºå¯å˜æ³¨æ„åŠ›(å¯å˜å·ç§¯å˜æ¥çš„)ä¸€ä¸ªåƒç´ å‘é‡zæ ¹æ®åç§»é‡é€‰æ‹©å››ä¸ªå…¶ä»–åƒç´ ,ç„¶åä¸€å±‚Linerå¾—åˆ°æƒé‡,å’Œé€‰å‡ºçš„åƒç´ è¿›è¡Œè¿ç®—æ›´æ–°2.å¤šå°ºåº¦çš„æ³¨æ„åŠ›æœºåˆ¶(Mulit-Scale),ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾ä¸Šåš,å¤šå¤´å¯å˜æ³¨æ„åŠ›æœºåˆ¶,ç„¶åç›¸åŠ  â˜…Deep learning-based waste detection in natural and urban environments ä¼ ç»Ÿå›¾åƒåˆ†ç±»ç½‘ç»œ:ResNet,DenseNet,EfficientNet,EfficientNet-B2,EfficientNetv2 ç»å…¸ç›®æ ‡æ£€æµ‹ç½‘ç»œ:R-CNN,Fast R-CNN ,Faster R-CNN,SSD,Yolo,DETR,Deformable DETR,EfficientDet åƒåœ¾æ•°æ®é›† å¯¹æ‰€æœ‰æ•°æ®é›†è¿›è¡Œå¤„ç† å¯¹æ¯”æ¨¡å‹:Efficentdet, DETRå’ŒMask RCNNï¼Œå‘ç°Efficentdetèƒ½äº§ç”Ÿæœ€é«˜çš„mAP ä¸€ä¸ªç›®æ ‡æ£€æµ‹ç½‘ç»œEfficientDet-D2,ä¸€ä¸ªå›¾åƒåˆ†ç±»ç½‘ç»œEfficientNet-B2 è®­ç»ƒæ­¥éª¤:åˆ†å¼€è®­ç»ƒ,å…ˆè®­ç»ƒç›®æ ‡æ£€æµ‹ç½‘ç»œ,å†è®­ç»ƒå›¾åƒåˆ†ç±»ç½‘ç»œ é—®é¢˜:å°ç›®æ ‡,æ¨ç†æ—¶é—´ Garbage object detection method based on improved Faster R-CNN å¯¹Faster R-CNNè¿›è¡Œäº†ä¸¤ç‚¹æ”¹è¿›: 1.åŸºç¡€ç½‘ç»œä»VGG16æ”¹æˆäº†ResNet50 2.å¢åŠ äº†FPNç‰¹å¾é‡‘å­—å¡” 3.å°†åŸæœ¬çš„ROIæ”¹æˆROI Align(Mask R-CNN) 4.ä¿®æ”¹äº†RPNç»“æ„å‚æ•° åŸºäºæ”¹è¿› Faster RâƒCNN çš„åƒåœ¾æ£€æµ‹ä¸åˆ†ç±»æ–¹æ³• 1234567891011# æŠŠFaster R-CNN çš„ç½‘ç»œæ¢æˆäº†ResNet50# æŠŠéæå¤§å€¼æŠ‘åˆ¶ï¼ˆNMSï¼‰æ¢æˆäº†Soft-NMS# å¯¹æ¯”å®éªŒæŠŠVGG16çš„7*7 5*5 æ¢æˆäº†å åŠ çš„3*3# äº”æŠ˜äº¤å‰éªŒè¯# ç”¨FasterR-CNNç›¸åŒçš„äº¤æ›¿è®­ç»ƒè®­ç»ƒ# 73-&gt;81% NMS:0,IoU(M,bi)â‰¥NtNMS:0,IoU(M,b_i) \\geq N_tNMS:0,IoU(M,biâ€‹)â‰¥Ntâ€‹ Softâˆ’NMS:si(1âˆ’IoU(M,bi)),IoU(M,bi)â‰¥NtSoft-NMS:s_i(1-IoU(M,b_i)),IoU(M,b_i) \\geq N_tSoftâˆ’NMS:siâ€‹(1âˆ’IoU(M,biâ€‹)),IoU(M,biâ€‹)â‰¥Ntâ€‹ Object detection for autonomous trash and litter collection(æ¯•ä¸šè®ºæ–‡) é’ˆå¯¹åƒåœ¾æ”¶é›†æœºå™¨äºº,ç®¡é“æ–¹æ³•:ä»æ•°æ®æ”¶é›†åˆ°é¢„æµ‹å‡ºç»“æœçš„ä¸€ç³»åˆ— ä»‹ç»:åœ¨æœºå™¨äººä¸Šéƒ¨ç½²æœ€å…ˆè¿›çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ èƒŒæ™¯:æ·±åº¦å­¦ä¹ (MLP,CNN,YOLO),ç›®æ ‡æ£€æµ‹,åƒåœ¾æ£€æµ‹æ•°æ®é›† ç®¡é“æ–¹æ³•ç»„æˆ(æ”¶é›†,é¢„å¤„ç†,å¢å¼º,è®­ç»ƒ,éªŒè¯) è‡ªå·±çš„ç®¡é“å®šä¹‰ä¸å®ç°(tileæ•°æ®å¢å¼ºæ–¹æ³•,å…‰å¼ºå½’ä¸€åŒ–,ä¸åŒæ¨¡å‹) ç»“æœä¸åˆ†æ Future work 123456789101. æ ¹æ®æ•°æ®é›†ä¸­ç‰©ä½“å¤§å°ä¸åŒä½¿ç”¨ä¸åŒæ¨¡å‹,å‚æ•°2. ä¸“é—¨ä¸ºå°ç›®æ ‡è®¾è®¡ä¸€ä¸ªæ£€æµ‹å™¨(Yolo-z)3. æ— ç›‘ç£å­¦ä¹ ,åˆ›å»ºå…¨åŠŸèƒ½æ£€æµ‹å™¨4. å¯¹å›¾åƒçš„ä¸åŒä½ç½®ä½¿ç”¨ä¸åŒçš„æ£€æµ‹å™¨5. ç¨å¾®æ‰©å¤§è¾¹ç•Œæ¡†,è·å–æ›´å¤šä¸Šä¸‹æ–‡ä¿¡æ¯6. åˆ©ç”¨GANç”Ÿæˆæ›´å¤šçš„ç±»åˆ«å‡è¡¡æ•°æ®é›†7. å¼€å‘å‡å°‘å‡é˜³æ€§æ•°é‡çš„æ–¹æ³•8. é›†æˆå­¦ä¹ ,ä½¿ç”¨å¤šä¸ªè¾ƒå°çš„æ¨¡å‹,åŠ æƒç›’èåˆ9. æ›´å¤šçš„æ•°æ®å¢å¹¿10. ç»Ÿä¸€å¤„ç†ç±»åˆ«ä¸å¯çŸ¥çš„åƒåœ¾,é¿å…å¯¹åƒåœ¾è¿›è¡Œåˆ†ç±» Tiny Object Detection based on YOLOv5 1234567891011121. ç”Ÿæˆ4å¹…ç‰¹å¾å›¾åƒè¿›è¡Œèåˆ2. åœ¨Neckéƒ¨åˆ†,ä½¿ç”¨FPNå’ŒPANetå¯¹ç‰¹å¾è¿›è¡Œèåˆ3. ä½¿ç”¨GIoUæŸå¤±å‡½æ•°æ›¿æ¢IoU4. ç”¨SWISHæ¿€æ´»å‡½æ•°æ›¿æ¢ReLU5. é©¬èµ›å…‹æ•°æ®å¢å¼ºå’Œå­¦ä¹ ç‡ä½™å¼¦é€€ç«# è‡ªå·±æ•°æ®é›†ä¸Š# map@50: 45+ =&gt; 55+# mAP@0.5:0.95 : 25+ =&gt; 30+# recall,precision,.... YOLO-Z: Improving small object detection in YOLOv5 for autonomous vehicles åœ¨è‡ªåŠ¨é©¾é©¶é¢†åŸŸ,å¯¹å°ç‰©ä½“æ£€æµ‹å’Œæ£€æµ‹é€Ÿåº¦è¦æ±‚å¾ˆé«˜ å¾ˆå¤šæ¨¡å‹æ²¡æœ‰ä¿®æ”¹æ¨¡å‹çš„æ¶æ„,ä¿®æ”¹çš„ä¸ç—›ä¸ç—’ 12345678910111213141516171819202122ä¿®æ”¹:1. ResNet50ä¸DenseNetä½œä¸ºä¸»å¹²ç½‘ç»œçš„æ¯”è¾ƒ2. PanNetæ¢æˆFPNå’ŒBiFPN3. å¯¹headéƒ¨åˆ†çš„è¾“å…¥,å°†neckä¸åŒçš„ç‰¹å¾å›¾é€å…¥head(æœ€æœ‰æ•ˆ)ç»“æœåˆ†æ:1.DenseNetæ•ˆæœæ¯”ResNetå¥½,è¿™å¯èƒ½æ˜¯ç”±äºç½‘ç»œæ·±åº¦ä¸å¤Ÿï¼Œæ— æ³•è·å¾—ResNetä¸»å¹²çš„å¥½å¤„ï¼Œè€ŒDenseNetåœ¨ä¿å­˜ç‰¹å¾å›¾çš„ç»†èŠ‚æ–¹é¢åšå¾—å¾ˆå¥½2. åœ¨å°æ¨¡å‹ä¸ŠFPNæ¯”BiFPNæ•ˆæœå¥½,å› ä¸ºè¾ƒç®€å•çš„æ¨¡å‹å—ç›Šäºä¿æŒç‰¹å¾å›¾ç›¸å¯¹ä¸å˜ï¼Œè€Œå…¶ä»–æ¯”ä¾‹éœ€è¦é¢å¤–çš„æ­¥éª¤æ¥é€‚åº”æ·»åŠ çš„ç‰¹å¾å›¾å¤„ç†ï¼Œå¹¶æœ€ç»ˆä¼˜äºå‰è€…ã€‚ä½†éƒ½ä¼˜äºä¼ ç»Ÿæ¨¡å‹.3. ç‰¹å¾å›¾çš„ä¿®æ”¹æœ€æœ‰æ•ˆæœ,å› ä¸ºåœ¨å¤´éƒ¨åŒ…å«æ›´é«˜åˆ†è¾¨ç‡çš„ç‰¹å¾å›¾åï¼Œå°å¯¹è±¡æœ€ç»ˆä¼šå ç”¨æ›´å¤šåƒç´ ï¼Œå› æ­¤å…·æœ‰æ›´å¤§çš„å½±å“ï¼Œè€Œä¸æ˜¯åœ¨ä¸»å¹²çš„å·ç§¯é˜¶æ®µä¸¢å¤±ã€‚åŒæ ·ï¼Œåˆ é™¤åŸå§‹è¾ƒä½åˆ†è¾¨ç‡çš„è¦ç´ ç‰¹å¾å›¾ä¼šå‡å°‘æ‰€éœ€çš„å¤„ç†é‡ï¼Œå¹¶é˜²æ­¢æ¨¡å‹æŠµæ¶ˆè¾ƒé«˜åˆ†è¾¨ç‡è´´å›¾æä¾›çš„ç»†èŠ‚çº§åˆ«ã€‚4. å°æ¨¡å‹anchorå°‘æ¯”è¾ƒå¥½,å¤§æ¨¡å‹å¤šäº†å¥½,å› ä¸ºæ›´å¤æ‚æˆ–æ›´æ·±å…¥çš„æ¨¡å‹ç¡®å®å¯èƒ½å—ç›Šäºé¢å¤–çš„é”šï¼Œæˆ–è€…æ¢å¥è¯è¯´ï¼Œå¯èƒ½æ›´æœ‰èƒ½åŠ›åˆ©ç”¨é¢å¤–é”šæä¾›çš„ç»†èŠ‚5.å…¶ä»–å­¦ä¹ ç‡,æ·±åº¦å®½åº¦å½±å“, Accuracy and Efficiency Comparison of Object Detection Open-Source Models 1234è‡ªå·±æ„å»ºçš„æ‚è‰æ£€æµ‹æ•°æ®é›†,ä½¿ç”¨å¤šç§æ•°æ®å¢å¼ºæ–¹æ³•ä½¿ç”¨EfficientDet,Faster R-CNN,YOLOv5,Detectron2 å››ä¸ªå¼€æºæ¨¡å‹å®éªŒ The Object Detection of Underwater Garbage with an Improved YOLOv5 Algorithm 123456ä½¿ç”¨K-meanså¯¹anchorè¿›è¡Œèšç±»ï¼Œäº§ç”Ÿä¹ä¸ªæ–°çš„æ¡†å¤§å°å°†IoUæˆ–è€…GIoUæŸå¤±å‡½æ•°æ”¹ä¸ºCIoUæŸå¤±å‡½æ•°æ²¡æœ‰ä½¿ç”¨æ•°æ®å¢å¼º An Irregularly Dropped Garbage Detection Method Based on Improved YOLOv5s 1234567CBAM æ³¨æ„åŠ›æ¨¡å—EIoU LossDeepSort è¿‡æ»¤é™æ€ç‰©å“--åªé€‰å–äº†å°éƒ¨åˆ†åƒåœ¾ç§ç±» Towards Lightweight Neural Networks for Garbage Object Detection 12345678910111213141516Yolov3ç”¨DarkNet53åšåˆ†ç±»å™¨Yolov4çš„backboneæ˜¯CSPDarkNet53å¯¹CSPResNetä¼˜åŒ–å¾—åˆ°DCSPResNetå¯¹ç»“æ„è¿›è¡Œæ›¿æ¢è½»é‡å‹Yolov4 çš„1/10 çš„å‚æ•°æ¿€æ´»å‡½æ•°çš„ä¿®æ”¹ SiLU LReLUDCSPDarkNet+è†¨èƒ€å·ç§¯/è†¨èƒ€å˜å½¢å·ç§¯ä½¿ç”¨è†¨èƒ€å˜å½¢å·ç§¯å¯¹CSPResNetç»“æ„è¿›è¡Œäº†æ”¹è¿›æ²¡æœ‰è€ƒè™‘åƒåœ¾å †åœºæ™¯ä¸èƒ½åœ¨ä»·æ ¼è¾ƒä½ã€æ€§èƒ½è¾ƒä½çš„CPUè®¾å¤‡ä¸Šå®æ—¶è¿è¡Œå¯¹äºç›®æ ‡é®æŒ¡å’Œç›¸å¯¹å°‘è§çš„ç›®æ ‡è¯†åˆ«ï¼ŒYOLOGçš„è¯†åˆ«æ•ˆæœè¾ƒå·® Real-Time Garbage Object Detection With Data Augmentation and Feature Fusion Using SUAV Low-Altitude Remote Sensing Images 123456ä¿®æ”¹Yolov4ä½¿ç”¨ä¸åŒç»“æ„FPN,ASFF,PANet,NASFPN,BiFPNåŠ ä¸Šæ•°æ®å¢å¼º Yolov5 Yolox Yolov3 1234æå‡ºäº†Darknet53ä¿®ä¿®è¡¥è¡¥ Yolov4 Yolov4åˆ†æ 1234567891011é’ˆå¯¹input,backbone,neck,headé€‰æ‹©ä¸åŒçš„ç»“æ„Bag of freebies:åœ¨è®­ç»ƒæ—¶çš„æŠ€å·§ä¸å½±å“æ¨æµ‹æ—¶é—´æ•°æ®å¢å¹¿,æŸå¤±å‡½æ•°,å½’ä¸€åŒ–Bag of special:åº”ç”¨åˆ°æ¨¡å‹ä¸­çš„æŠ€å·§ç‰¹å¾èšåˆç»“æ„å—,æ³¨æ„åŠ›æœºåˆ¶,æ¿€æ´»å‡½æ•°,NMS,éª¨å¹²ç½‘ç»œé€‰æ‹©æ£€æµ‹å¤´ç»§ç»­ç”¨yolov3 Yolov5 yolov5åˆ†æ 123456789101112131415161718192021222324252627282930313233343536373839# YOLOv5 v6.0 backbonebackbone: # [from, number, module, args] [[-1, 1, Conv, [64, 6, 2, 2]], # 0-P1/2 [-1, 1, Conv, [128, 3, 2]], # 1-P2/4 [-1, 3, C3, [128]], [-1, 1, Conv, [256, 3, 2]], # 3-P3/8 [-1, 6, C3, [256]], [-1, 1, Conv, [512, 3, 2]], # 5-P4/16 [-1, 9, C3, [512]], [-1, 1, Conv, [1024, 3, 2]], # 7-P5/32 [-1, 3, C3, [1024]], [-1, 1, SPPF, [1024, 5]], # 9 ]# YOLOv5 v6.0 headhead: [[-1, 1, Conv, [512, 1, 1]], [-1, 1, nn.Upsample, [None, 2, &#x27;nearest&#x27;]], [[-1, 6], 1, Concat, [1]], # cat backbone P4 [-1, 3, C3, [512, False]], # 13 [-1, 1, Conv, [256, 1, 1]], [-1, 1, nn.Upsample, [None, 2, &#x27;nearest&#x27;]], [[-1, 4], 1, Concat, [1]], # cat backbone P3 [-1, 3, C3, [256, False]], # 17 (P3/8-small) [-1, 1, Conv, [256, 3, 2]], [[-1, 14], 1, Concat, [1]], # cat head P4 [-1, 3, C3, [512, False]], # 20 (P4/16-medium) [-1, 1, Conv, [512, 3, 2]], [[-1, 10], 1, Concat, [1]], # cat head P5 [-1, 3, C3, [1024, False]], # 23 (P5/32-large) [[17, 20, 23], 1, Detect, [nc, anchors]], # Detect(P3, P4, P5) ] å¼€æºå¤ç° FasterR-CNN æ¨¡å‹é“¾æ¥ 123456789101112131415161718192021222324252627282930313233343536373839404142434445461. ä¸‹è½½åˆ°Google Colab2. å®‰è£…ä¾èµ–!pip install ipdb visdom torchnet fire3. ä¿®æ”¹ä»£ç data\\voc_dataset.pyä¸­çš„VOC_BBOX_LABEL_NAMESä¿®æ”¹æˆè‡ªå·±ç±»åˆ«utils\\vis_tool.py ä¸­çš„VOC_BBOX_LABEL_NAMESä¿®æ”¹æˆè‡ªå·±ç±»åˆ«4. æºä»£ç ç›´æ¥è¿è¡Œä¼šæŠ¥é”™raise ValueError(&#x27;need at least one array to stack&#x27;)ValueError: need at least one array to stackå› ä¸ºåªè®­ç»ƒæœ‰ç‰©ä½“çš„å›¾ç‰‡,åœ¨data\\voc_dataset.py76è¡Œæ›¿æ¢å¦‚ä¸‹&#x27;&#x27;&#x27;id_list_file = os.path.join(data_dir, &#x27;ImageSets/Main/&#123;0&#125;.txt&#x27;.format(split))id_list_read = [id_.strip() for id_ in open(id_list_file)]id_list = list()for i in id_list_read: obj = ET.parse(os.path.join(data_dir, &#x27;Annotations&#x27;, i + &#x27;.xml&#x27;)) if obj.findall(&#x27;object&#x27;): id_list.append(i)self.ids = id_list&#x27;&#x27;&#x27;5.åœ¨Google Colabè¿è¡Œä¸èƒ½å¯è§†åŒ–ä¼šæŠ¥é”™! npm install -g localtunnelget_ipython().system_raw(&#x27;python3 -m pip install visdom&#x27;)get_ipython().system_raw(&#x27;python3 -m visdom.server -port 8097 &gt;&gt; visdomlog.txt 2&gt;&amp;1 &amp;&#x27;)get_ipython().system_raw(&#x27;lt --port 8097 &gt;&gt; url.txt 2&gt;&amp;1 &amp;&#x27;)åœ¨è¿è¡Œ,æ‰“å¼€url.txt æŸ¥çœ‹å¯è§†åŒ–çš„çª—å£code_root/â””â”€â”€ data/ â””â”€â”€ VOC2007/ â”œâ”€â”€ Annotations/ â”œâ”€â”€ JPEGImages/ â””â”€â”€ ImageSets/ â””â”€â”€ Main/ â”œâ”€â”€ test.txt â”œâ”€â”€ train.txt â”œâ”€â”€ val.txt â””â”€â”€ trainval.txt EfficientDet æ¨¡å‹é“¾æ¥ 12345678910111213141516171819202122# è¿è¡Œç¯å¢ƒGoogle Colab1.ä¸‹è½½åˆ°å·¥ä½œåŒº2.å®‰è£…ä¾èµ–3. ä»£ç :effdet\\data\\parsers\\parser_voc.py æ–‡ä»¶ä¸­çš„DEFAULT_CLASSESæ”¹æˆè‡ªå·±çš„ç±»åˆ«åç§°4.! python ..../efficientdet-pytorch-master/train.py /content --dataset VOC2007 --num-classes è‡ªå·±çš„ç±»åˆ« # JPEGImages:æ‰€æœ‰å›¾ç‰‡ Annotations:æ‰€æœ‰xmlæ ‡æ³¨ txt:ç”¨ä½œè®­ç»ƒæµ‹è¯•çš„æ–‡ä»¶å,ä¸å¸¦åç¼€code_root/â””â”€â”€ data/ â””â”€â”€ VOC2007/ â”œâ”€â”€ Annotations/ â”œâ”€â”€ JPEGImages/ â””â”€â”€ ImageSets/ â””â”€â”€ Main/ â”œâ”€â”€ test.txt â”œâ”€â”€ train.txt â”œâ”€â”€ val.txt â””â”€â”€ trainval.txt Deformable-DETR æ¨¡å‹é“¾æ¥ 1234567891011121314151617181920212223242526272829303132333435363738394041# è¿è¡Œç¯å¢ƒGoogle Colab1.ä¸‹è½½åˆ°å·¥ä½œåŒº2.å®‰è£…ç›¸å…³ä¾èµ–3.!python ..(ç»å¯¹è·¯å¾„..)/Deformable-DETR-main/models/ops/setup.py build install (ç”¨çš„jupyter)(å¯ä»¥ç”¨opsæ–‡ä»¶å¤¹ä¸‹çš„test.pyæµ‹è¯•ç¯å¢ƒæ˜¯å¦æ­£ç¡®)#é”™è¯¯åç§°:æ‰¾ä¸åˆ°....hæ–‡ä»¶å¦‚æœæŠ¥é”™,æ·»åŠ  export CUDA_PATH=/usr/local/cuda-ä½ çš„ç‰ˆæœ¬# é”™è¯¯åå§è¿™ä¸€æ®µä¿®æ”¹åˆ°setup.pyé‡Œé¢extra_compile_args[&quot;nvcc&quot;] = [ &quot;-DCUDA_HAS_FP16=1&quot;, &quot;-D__CUDA_NO_HALF_OPERATORS__&quot;, &quot;-D__CUDA_NO_HALF_CONVERSIONS__&quot;, &quot;-D__CUDA_NO_HALF2_OPERATORS__&quot;, &quot;-arch=sm_60&quot;, &quot;-gencode=arch=compute_60,code=sm_60&quot;, &quot;-gencode=arch=compute_61,code=sm_61&quot;, &quot;-gencode=arch=compute_70,code=sm_70&quot;, &quot;-gencode=arch=compute_75,code=sm_75&quot;,]5.ä»£ç :...../Deformable-DETR-main/util/misc.py é‡Œé¢çš„# float(torchvision.__version__[:3]) &lt; 0.5/0.7 éœ€è¦æ”¹åŠ¨,å› ä¸ºå¯¹äº0.10.xç‰ˆæœ¬çš„ä¸é€‚ç”¨,è‡ªå·±æ”¹æˆäº†# float(torchvision.__version__[:4]) &lt; 0.05:å¦åˆ™æŠ¥é”™cannot import name &#x27;_NewEmptyTensorOp&#x27; from &#x27;torchvision.ops.misc&#x27;6.! python ...../Deformable-DETR-main/main.py --coco_path ..../coco # train2017:è®­ç»ƒå›¾ç‰‡ val2017:æµ‹è¯•å›¾ç‰‡ annotationsä¸¤ä¸ªæ–‡ä»¶ä¸‹é¢çš„æ ‡æ³¨å›¾ç‰‡code_root/â””â”€â”€ data/ â””â”€â”€ coco/ â”œâ”€â”€ train2017/ â”œâ”€â”€ val2017/ â””â”€â”€ annotations/ â”œâ”€â”€ instances_train2017.json â””â”€â”€ instances_val2017.json YOLOv5 æ¨¡å‹é“¾æ¥ 1234567# è¿è¡Œç¯å¢ƒGoogle Colab1.ä¸‹è½½åˆ°å·¥ä½œåŒº2.å®‰è£…ç›¸å…³ä¾èµ–3.æŒ‡å®šæ•°æ®è·¯å¾„ è¿è¡Œ YOLOv8 æ¨¡å‹é“¾æ¥ 1234567# è¿è¡Œç¯å¢ƒGoogle Colab1.!pip install ultralytics==8.0.202.å®‰è£…ç›¸å…³ä¾èµ–3.æŒ‡å®šæ•°æ®è·¯å¾„ è¿è¡Œ","categories":[{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"}],"tags":[{"name":"åƒåœ¾æ£€æµ‹","slug":"åƒåœ¾æ£€æµ‹","permalink":"https://gladdduck.github.io/tags/%E5%9E%83%E5%9C%BE%E6%A3%80%E6%B5%8B/"}]},{"title":"Involutionå·ç§¯ç†è§£","slug":"å­¦æœ¯-å›¾åƒå¤„ç†","date":"2023-04-11T12:46:41.871Z","updated":"2023-11-26T05:18:03.146Z","comments":true,"path":"2023/04/11/å­¦æœ¯-å›¾åƒå¤„ç†/","link":"","permalink":"https://gladdduck.github.io/2023/04/11/%E5%AD%A6%E6%9C%AF-%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/","excerpt":"","text":"ä¸€ç§ä»‹ä¹CNNå’ŒselfAttentionä¹‹é—´çš„æ“ä½œ å°†ç©ºé—´ä¸å˜æ€§(å¹³ç§»ä¸å˜æ€§)ä¸é€šé“å˜æ¢æ€§ äº¤æ¢äº† æ™®é€šå·ç§¯ å¥½å¤„ 1.ä¸åŒä½ç½®ä¹‹é—´é‡ç”¨å·ç§¯æ ¸,å‡å°‘å‚æ•° 2.ä¸åŒé€šé“ä»£è¡¨ä¸åŒå«ä¹‰çš„ä¿¡æ¯ ç¼ºç‚¹ 1.é€šé“å†—ä½™ 2.å·ç§¯çš„æ¥å—èŒƒå›´ 3.ä¸èƒ½æ ¹æ®è¾“å…¥è‡ªé€‚åº”å·ç§¯æ ¸å¤§å° Involution ç©ºé—´äº’å¼‚,é€šé“ä¸å˜ åœ¨é€šé“ä¹‹é—´å…±äº«å·ç§¯æ ¸,ä¸åŒä½ç½®å·ç§¯æ ¸ä¸åŒ Involution å·ç§¯æ ¸å¤§å° HÃ—WÃ—KÃ—KÃ—GHÃ—WÃ—KÃ—KÃ—GHÃ—WÃ—KÃ—KÃ—G GGGæ˜¯group KKKæ˜¯é‚»åŸŸ è¡¨ç¤º:å¯¹äºHW(æ ¸çš„HWæ˜¯æ ¹æ®è¾“å‡ºç‰¹å¾å›¾å¤§å°è®¡ç®—å¾—åˆ°)ä¸ªåƒç´ ç‚¹,æ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰ä¸€ä¸ªK*Kå¤§å°çš„å·ç§¯æ ¸,æŠŠCä¸ªé€šé“åˆ†æˆGç»„,ç»„å†…çš„é€šé“å…±äº«å·ç§¯æ ¸ å¯¹äºä¸€ä¸ªåƒç´ ç‚¹ 1Ã—1Ã—C1Ã—1Ã—C1Ã—1Ã—C -(ä¸¤å±‚çº¿æ€§å˜æ¢)&gt; 1Ã—1Ã—K2Ã—G1Ã—1Ã—K^2Ã—G1Ã—1Ã—K2Ã—G -(Reshape)&gt; 1Ã—1Ã—KÃ—KÃ—G1Ã—1Ã—KÃ—KÃ—G1Ã—1Ã—KÃ—KÃ—G -(æ³¨æ„åŠ›æœºåˆ¶)&gt; 1Ã—1Ã—KÃ—KÃ—C1Ã—1Ã—KÃ—KÃ—C1Ã—1Ã—KÃ—KÃ—C -(èšåˆ)&gt; 1Ã—1Ã—C1Ã—1Ã—C1Ã—1Ã—C ä¸è‡ªæ³¨æ„åŠ›çš„åŒºåˆ« æ˜¯ä¸€ç§æ›´åŠ ç®€æ´é€šç”¨çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶ è‡ªæ³¨æ„åŠ›å…¬å¼: Q=XWQQ=XW^QQ=XWQ, K=XWKK=XW^KK=XWK ,V=XWVV=XW^VV=XWV Involution: é€šç”¨æè¿°: Hi,j=(XWQ)(XWK)H_{i,j}=(XW^Q)(XW^K)Hi,jâ€‹=(XWQ)(XWK) å¤šå¤´æ³¨æ„åŠ›å¤´æ•°&lt;-&gt;é€šé“ç»„æ•° ç›¸ä¼¼çŸ©é˜µ:QKQKQK&lt;-&gt;æ ¸:H ä½ç½®ç¼–ç &lt;-&gt;ç”Ÿæˆçš„æ ¸æœ‰åºçš„","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[]},{"title":"AcWingæ¯æ—¥ä¸€é¢˜","slug":"ç®—æ³•-AcWingæ¯æ—¥ä¸€é¢˜","date":"2023-04-06T11:15:17.545Z","updated":"2023-04-22T10:51:26.840Z","comments":true,"path":"2023/04/06/ç®—æ³•-AcWingæ¯æ—¥ä¸€é¢˜/","link":"","permalink":"https://gladdduck.github.io/2023/04/06/%E7%AE%97%E6%B3%95-AcWing%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98/","excerpt":"","text":"å‰ç¼€å’Œ å°†åŒºé—´æ±‚å’Œæ±‚å·®,æ”¹ä¸ºä¸¤ä¸ªå€¼çš„è¿ç®— å·®åˆ† å‰ç¼€å’Œçš„é€†è¿ç®—,å¯ä»¥åœ¨O(1)O(1)O(1)çš„æ—¶é—´å†…æ›´æ–°åŒºé—´ äºŒåˆ† ä¸‹æ ‡äºŒåˆ† ç­”æ¡ˆäºŒåˆ† æ³¨æ„è¾¹ç•Œ åŒæŒ‡é’ˆ åŒºé—´é—®é¢˜,æœ€å¤§æœ€å°å€¼,ä½†æ˜¯å·¦æŒ‡é’ˆæ˜¯é€’å¢(å•è°ƒæ€§) é€’æ¨ æ ¹æ®è§„å¾‹æˆ–è€…æ¨æ–­,æ‰¾è§£ é€’å½’ æ ‘çš„éå† å¹¶æŸ¥é›† é›†åˆåˆ’åˆ†ä¸åˆå¹¶ å“ˆå¸Œ é‡å¤å€¼æˆ–è€…å‡ºç°çš„æ¬¡æ•° å•è°ƒé˜Ÿåˆ— ä¹‹å‰æˆ–è€…ä¹‹åçš„æœ€å¤§æœ€å°å€¼ KMP å­—ç¬¦ä¸²åŒ¹é… Trie å­—å…¸æ ‘,æœ€å¤§çš„å¼‚æˆ–å¯¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;using namespace std;int tire[3100005][3];int index=1;void build(int num)&#123; int p=0; for(int i=31;i&gt;=0;i--)&#123; int temp=(num&gt;&gt;i)&amp;1; if(tire[p][temp]==0)&#123; tire[p][temp]=index++; &#125; p=tire[p][temp]; &#125;&#125;int query(int num)&#123; int p=0,ans=0; for (int i=31;i&gt;=0;i--)&#123; int temp=(num&gt;&gt;i)&amp;1; if(tire[p][!temp])&#123; ans+=(1&lt;&lt;i); p=tire[p][!temp]; &#125;else&#123; p=tire[p][temp]; &#125; &#125; return ans;&#125;int main()&#123; int n; scanf(&quot;%d&quot;,&amp;n); int ans=-1; for(int i=0;i&lt;n;i++)&#123; int t; scanf(&quot;%d&quot;,&amp;t); build(t); ans=max(ans,query(t)); &#125; cout&lt;&lt;ans&lt;&lt;endl; return 0;&#125; BFS DFS æ‹“æ‰‘æ’åº Dijkstra Dijkstraç®—æ³•æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„æœ€çŸ­è·¯å¾„ç®—æ³•ï¼Œå¯ä»¥æ±‚è§£ä»å•ä¸ªæºèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚å…¶åŸºæœ¬æ€è·¯æ˜¯ç»´æŠ¤ä¸¤ä¸ªé›†åˆï¼Œä¸€ä¸ªé›†åˆå­˜å‚¨å·²ç»ç¡®å®šæœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªé›†åˆå­˜å‚¨æœªç¡®å®šè·¯å¾„çš„èŠ‚ç‚¹ã€‚åˆå§‹æ—¶ï¼Œåªæœ‰æºèŠ‚ç‚¹åœ¨å·²ç¡®å®šçš„è·¯å¾„é›†åˆä¸­ï¼Œå…¶ä»–èŠ‚ç‚¹åœ¨æœªç¡®å®šè·¯å¾„çš„é›†åˆä¸­ã€‚æ¯æ¬¡ä»æœªç¡®å®šèŠ‚ç‚¹ä¸­é€‰æ‹©è·ç¦»æºèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹åŠ å…¥åˆ°å·²ç¡®å®šè·¯å¾„çš„é›†åˆä¸­ï¼Œæ›´æ–°è¯¥èŠ‚ç‚¹åˆ°å…¶ä»–æœªç¡®å®šèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚é‡å¤æ­¤æ­¥éª¤ç›´åˆ°å·²ç¡®å®šçš„è·¯å¾„é›†åˆä¸­åŒ…å«æ‰€æœ‰èŠ‚ç‚¹ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940import heapqdef dijkstra(graph): n = len(graph) dist = [float(&#x27;inf&#x27;)] * (n) dist[0] = 0 visited = set() min_heap = [(0, 0)] for _ in range(n): # æ‰¾åˆ°è¿˜æ²¡ç¡®å®šçš„é‡Œé¢è·ç¦»æœ€å°çš„ if len(min_heap)==0: break temp, min_index = heapq.heappop(min_heap) # å·²ç»ç¡®å®šäº† visited.add(min_index) for v in range(n): if v not in visited and graph[min_index][v] &gt; 0: # graph[min_index][v] &gt; 0 è¡¨ç¤ºå­˜åœ¨è¿™ä¸ªè·¯å¾„ new_dist = dist[min_index] + graph[min_index][v] if dist[v] &gt; new_dist: # è¡¨ç¤ºå€¼å¾—è¢«æ›´æ–° dist[v] = new_dist heapq.heappush(min_heap, (dist[v], v)) return distn,m=list(map(int,input().split()))graph = [[0]*(n+2) for i in range(n+2)]for i in range(m): a,b=list(map(int,input().split())) graph[a-1][b-1]=1 graph[b-1][a-1]=1ans=dijkstra(graph) for item in ans[1:n]: print(item) è´¨æ•°é—®é¢˜ ç­›è´¨æ•° 1.åŸƒæ°ç­› O(NloglogN)O(NloglogN)O(NloglogN) å¯ä¼˜åŒ– 123456789101112const int N=1e6+5;bool vis[N];void esieve(int n)&#123;//æ ‡è®°0~nçš„æ•°å­—çš„è´¨æ•°çŠ¶æ€,å¹¶ç»Ÿè®¡è´¨æ•°ä¸ªæ•° vis[0]=vis[1]=1;//0ï¼Œ1å±äºéè´¨æ•° for(int i=2;i&lt;=n;i++)&#123;//æ ‡è®°å‰©ä¸‹çš„2~nçš„æ•°å­—çš„çŠ¶æ€ if(vis[i]==0)&#123;//åˆ¤æ–­iæ˜¯ä¸æ˜¯è´¨æ•° æ€è€ƒï¼šä¸ºä»€ä¹ˆè¿™æ ·å°±èƒ½åˆ¤æ–­iæ˜¯è´¨æ•°ï¼Ÿ for(int j=2*i;j&lt;=n;j+=i)&#123;//éå†èŒƒå›´å†…çš„içš„å€æ•° vis[j]=1;//å°†å€æ•°æ ‡è®°ä¸º1ï¼ˆéè´¨æ•°ï¼‰ &#125; &#125; &#125;&#125; ä¼˜åŒ–å 123456789101112const int N=1e6+5;bool vis[N];void esieve(int n)&#123;//æ ‡è®°0~nçš„æ•°å­—çš„è´¨æ•°çŠ¶æ€,å¹¶ç»Ÿè®¡è´¨æ•°ä¸ªæ•° vis[0]=vis[1]=1; for(int i=2;i*i&lt;=n;i++)&#123;//æ ‡è®°å‰©ä¸‹çš„2~nçš„æ•°å­—çš„çŠ¶æ€ ä¼˜åŒ–ï¼šåˆ°æ ¹å·nå³å¯åœæ­¢ if(vis[i]==0)&#123;//åˆ¤æ–­iæ˜¯ä¸æ˜¯è´¨æ•° for(int j=i*i;j&lt;=n;j+=i)&#123;//éå†èŒƒå›´å†…çš„içš„å€æ•° ä»i*iå¼€å§‹ï¼Œå‡å°‘é‡å¤ç­›é€‰ vis[j]=1;//å°†å€æ•°æ ‡è®°ä¸º1ï¼ˆéè´¨æ•°ï¼‰ &#125; &#125; &#125;&#125; 2.æ¬§æ‹‰ç­› O(N)O(N)O(N) çº¿æ€§ç­› 12345678910111213141516171819const int N=1e8+5;bool vis[N];//æ ‡è®°æ•°ç»„int prime[N/10];//è´¨æ•°è¡¨ï¼Œå­˜æ”¾è´¨æ•°int erla(int n)&#123; vis[0]=vis[1]=1;//0.1ä¸æ˜¯è´¨æ•° int cnt=0;//ç»Ÿè®¡è´¨æ•°çš„ä¸ªæ•° for(int i=2;i&lt;=n;i++)&#123; if(!vis[i])&#123;//åˆ¤æ–­iæ˜¯ä¸æ˜¯è´¨æ•° prime[cnt++]=i;//å°†è´¨æ•°å­˜åˆ°è´¨æ•°è¡¨ä¸­ &#125; //éå†è´¨æ•°è¡¨ æ–°åºåˆ— prime[j]*i for(int j=0;prime[j]*i&lt;=n&amp;&amp;j&lt;cnt;j++)&#123; vis[prime[j]*i]=1;//æ ‡è®°ç»„æˆçš„åºåˆ—ä¸ºéè´¨æ•° if(i%prime[j]==0) break;//prime[j]æ˜¯içš„æœ€å°è´¨å› å­ ï¼Œä¸èƒ½ç»§ç»­ç»„åˆï¼Œé¿å…é‡å¤ &#125; &#125; return cnt;//è¿”å›è´¨æ•°ä¸ªæ•°&#125; 3.æ¬§æ‹‰å‡½æ•° å¯¹æ­£æ•´æ•°næ¬§æ‹‰å‡½æ•°æ˜¯å°äºæˆ–ç­‰äºnçš„æ­£æ•´æ•°ä¸­ä¸näº’è´¨çš„æ•°çš„æ•°ç›® 12345678910111213141516171819202122232425bool vis[N];//æ ‡è®°æ•°ç»„int prime[N];//è´¨æ•°è¡¨ï¼Œå­˜æ”¾è´¨æ•°int phi[N];int erla(int n)&#123; vis[0]=vis[1]=1;//0.1ä¸æ˜¯è´¨æ•° int cnt=0;//ç»Ÿè®¡è´¨æ•°çš„ä¸ªæ•° phi[1]=1;//1çš„æ¬§æ‹‰å‡½æ•°å€¼æ˜¯1 for(int i=2;i&lt;=n;i++)&#123; if(!vis[i])&#123;//åˆ¤æ–­iæ˜¯ä¸æ˜¯è´¨æ•° prime[cnt++]=i;//å°†è´¨æ•°å­˜åˆ°è´¨æ•°è¡¨ä¸­ phi[i]=i-1;//æ€§è´¨1 &#125; //éå†è´¨æ•°è¡¨ æ–°åºåˆ— prime[j]*i for(int j=0;prime[j]*i&lt;=n&amp;&amp;j&lt;cnt;j++)&#123; vis[prime[j]*i]=1;//æ ‡è®°ç»„æˆçš„åºåˆ—ä¸ºéè´¨æ•° if(i%prime[j]==0)&#123; phi[i*prime[j]]=prime[j]*phi[i];//æ€§è´¨2 break;//prime[j]æ˜¯içš„æœ€å°è´¨å› å­ ï¼Œä¸èƒ½ç»§ç»­ç»„åˆï¼Œé¿å…é‡å¤ &#125;else&#123; phi[i*prime[j]]=(prime[j]-1)*phi[i];//æ€§è´¨3 &#125; &#125; &#125; return cnt;//è¿”å›è´¨æ•°ä¸ªæ•°&#125; æœ€å¤§å…¬çº¦æ•° æœ€è¿‘å…¬å…±ç¥–å…ˆ æ’åˆ—ç»„åˆ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"ç®—æ³•åˆ·é¢˜æ‚é¢˜","slug":"ç®—æ³•-åˆ·é¢˜æ‚é¢˜","date":"2023-04-03T09:24:36.314Z","updated":"2023-11-26T05:33:12.207Z","comments":true,"path":"2023/04/03/ç®—æ³•-åˆ·é¢˜æ‚é¢˜/","link":"","permalink":"https://gladdduck.github.io/2023/04/03/%E7%AE%97%E6%B3%95-%E5%88%B7%E9%A2%98%E6%9D%82%E9%A2%98/","excerpt":"","text":"A é¢˜ç›®è¿æ¥ nä¸ªäºº,ä»ç¬¬ä¸€ä¸ªå¼€å§‹ä¼ çƒ,ç»è¿‡mæ¬¡å›åˆ°ç¬¬ä¸€ä¸ªäººæ‰‹é‡Œçš„æ–¹æ³•æ•° åšé¢˜æ€è·¯:ç¬¨æ¯”æ–¹æ³•:1ä½œä¸ºroot,å»ºäº†æ£µäºŒå‰æ ‘,æ¯æ¬¡åˆ†è£‚å‡ºä¸¤ä¸ªèŠ‚ç‚¹,ç„¶åå†dfs,æœç´¢è·¯å¾„æ•°é‡(å¶èŠ‚ç‚¹æ˜¯1),è¶…å†…å­˜äº† æ­£ç¡®æ€è·¯:dp[i][j] è¡¨ç¤ºä¼ äº†iæ¬¡åœ¨jæ‰‹é‡Œçš„å¯èƒ½,åˆ¤æ–­ä¸€ä¸‹1å’Œnçš„è¾¹ç•Œæƒ…å†µ 12345678910111213141516n,m=input().split()n=int(n)m=int(m)dp=[[0 for _ in range(n)] for _ in range(m+1)]# dp[i][j] ç©¿äº†iæ¬¡åœ¨jæ‰‹é‡Œçš„å¯èƒ½dp[0][0]=1for i in range(1,m+1): for j in range(n): if j==n-1: dp[i][j]=dp[i-1][0]+dp[i-1][j-1] elif j==0: dp[i][j]=dp[i-1][n-1]+dp[i-1][j+1] else: dp[i][j]=dp[i-1][j+1]+dp[i-1][j-1] print(dp[m][0]) B é¢˜ç›®è¿æ¥ nå¯¹æœå­,ä¸€å †å †åˆå¹¶,æœå­çš„æ•°é‡æ˜¯æ¶ˆè€—çš„ä½“åŠ›,æ±‚nå †åˆæˆä¸€å †çš„æœ€å°ä½“åŠ› æ€è·¯:å“ˆå¤«æ›¼æ ‘ 1234567891011121314151617import heapqn=int(input())nums=[]numstr=input().split()for i in range(n): heapq.heappush(nums,int(numstr[i])) ans=0while len(nums)!=1: a=heapq.heappop(nums) b=heapq.heappop(nums) temp=a+b ans+=temp heapq.heappush(nums,temp) print(ans) C é¢˜ç›®é“¾æ¥ ä¸€ä¸ªçŸ©é˜µ,æ¯ä¸ªç‚¹æœ‰å¯¹åº”çš„å€¼,ä»(0,0)èµ°åˆ°(n,n),èµ°ä¸¤æ¬¡,æ¯æ¬¡èµ°è¿‡ä¹‹åä¼šæŠŠçŸ©é˜µçš„å€¼æ¸…é›¶,é—®è¿™ä¸¤æ¬¡èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ æ€è·¯:ç¬¨æ¯”æ–¹æ³•:ä»¥ä¸ºä¸¤æ¬¡BFSå°±è¡Œ,æ¯æ¬¡éƒ½æ‹¿åˆ°æœ€å¤§çš„,è¿™æ ·æœ‰å¯èƒ½æœ¬æ¥ä¸Šä¸‰è§’ä¸€æ¬¡,ä¸‹ä¸‰è§’ä¸€æ¬¡æœ€å¤§,ä½†æ˜¯ç¬¬ä¸€æ¬¡èµ°æœ€å¤§è·¯å¾„æŠŠè¿™ä¸ªæ‰“ç ´äº†,ä¼šå¯¼è‡´ä¸Šä¸‹ä¸‰è§’æœ‰çš„æ²¡æ‹¿åˆ° æ­£ç¡®æ€è·¯:f[i][j][h][k];è¡¨ç¤ºä¸¤æ¡è·¯åŒæ—¶èµ°ï¼Œç¬¬ä¸€æ¡è·¯å¾„èµ°åˆ°(i,j)æ—¶ï¼Œç¬¬äºŒæ¡èµ°åˆ°ï¼ˆh,kï¼‰æ—¶çš„æœ€å¤§æ•°å­—å’Œï¼› 123456789101112131415161718192021222324252627n=int(input())m=[[0]*(n+1) for _ in range(n+1)]for _ in range(n*n): x,y,v=list(map(int,input().split())) if v==0 and x==0 and y==0: break m[x][y]=vdp=[[[[0]*(n+1) for _ in range(n+1)] for _ in range(n+1)] for _ in range(n+1)]for i in range(1,n+1): for j in range(1,n+1): for h in range(1,n+1): for k in range(1,n+1): dp[i][j][h][k]=max( dp[i-1][j][h-1][k], dp[i-1][j][h][k-1], dp[i][j-1][h-1][k], dp[i][j-1][h][k-1] )+m[i][j]+m[h][k] if i==h and j==k: dp[i][j][h][k]-=m[h][k] print(dp[n][n][n][n]) D é¢˜ç›®é“¾æ¥ ä¸€ä¸ªæ•°æ˜¯ä¸¤ä¸ªè´¨æ•°çš„ä¹˜ç§¯,è¿”å›è¾ƒå¤§çš„è´¨æ•° 80%æ€è·¯:ä»nnnåˆ°n0.5n^{0.5}n0.5éå†,ä½™æ•°ä¸º0å°±è¿”å›,80è«åå…¶å¦™(ç­”æ¡ˆé”™è¯¯),ç¬¨æ¯”,å†™çš„æ˜¯n0.5n^{0.5}n0.5åˆ°nnnéå†äº† æ­£ç¡®æ€è·¯:ä»222åˆ°n0.5n^{0.5}n0.5,ä½™æ•°ä¸º0,è¿”å›å•† 1234567n=int(input())right=int(n**0.5)for i in range(2,right+1): if n%i==0: print(n//i) break E é¢˜ç›®é“¾æ¥\\ éš¾,ç•¥ F é¢˜ç›®é“¾æ¥ nç§ä¸åŒé¢é¢çš„è´§å¸,ä½†æ˜¯æœ‰çš„é¢å€¼èƒ½è¡¨ç¤º,æœ‰çš„é¢å€¼ä¸èƒ½è¡¨ç¤º,æ±‚æœ€å°‘åªè¦å‡ ç§è´§å¸,èƒ½å’Œnç§è¡¨ç¤ºçš„é¢å€¼ä¸€æ · 80%æ€è·¯:å¦‚æœné‡Œé¢æœ‰çš„æ•°èƒ½å¤Ÿè¢«å…¶ä»–æ•°è¡¨ç¤º,è¿™ä¸ªå°±æ˜¯å¤šä½™çš„,å¯ä»¥å»æ‰(???æŠ„åˆ«äºº100çš„ä»£ç ä¹Ÿæ˜¯80),åˆ¤æ–­ä¸€ä¸ªæ•°èƒ½ä¸èƒ½è¢«å…¶ä»–çš„è¡¨ç¤ºæœ‰ç‚¹èƒŒåŒ…çš„æ„Ÿè§‰ 1234567891011121314151617181920212223T=int(input())# n=100def check(x,lst): if len(lst)==0: return False dp=[False]*(x+1) dp[0]=True for num in lst: for index,item in enumerate(dp): if index-num&gt;=0: dp[index]|=dp[index-num] if dp[x]: return True return dp[x]for _ in range(T): n=int(input()) nums=list(map(int,input().split())) nums.sort(reverse=True) temp=0 for index,item in enumerate(nums): if check(item,nums[index+1:]): temp+=1 print(n-temp) G é¢˜ç›®é“¾æ¥ nä¸ªå›šçŠ¯,ä¸¤ä¸ªçŠ¯äººä¸­é—´æœ‰æ€¨æ°”å€¼,æŠŠä»–ä»¬åˆ†æˆä¸¤ä¸ªç›‘ç‹±,æ±‚ä¸€ä¸ªç›‘ç‹±å†…æ€¨æ°”å€¼æœ€å¤§çš„,å¦‚æœç›‘ç‹±å†…çš„çŠ¯äººä¹‹é—´æ²¡æœ‰æ€¨æ°”å€¼,è¿”å›0 æ€è·¯:ä¸ä¼š,éšä¾¿æƒ³çš„,æƒ³åˆ°å¹¶æŸ¥é›†äº†,ä½†æ˜¯æ„Ÿè§‰æ›´åƒäºŒåˆ†å›¾åŒ¹é…,æ²¡åšå‡ºæ¥,0è›‹ æ­£ç¡®æ€è·¯:å¹¶æŸ¥é›†,ä½†æ˜¯ä¸æ˜¯ä¸¤ä¸ªæœ‰æ€¨æ°”çš„çŠ¯äººä¹‹é—´,å¦‚æœAå’ŒBæœ‰æ€¨æ°”,Bå’ŒCæœ‰æ€¨æ°”,é‚£ä¹ˆåº”è¯¥æŠŠAå’ŒCå½’å¹¶,Bå•ç‹¬,å…ˆæŒ‰ç…§æ€¨æ°”å€¼ä»å¤§åˆ°å°æ’åº,å¦‚æœè¿™ä¸¤ä¸ªäººåœ¨ä¸€ä¸ªé›†é‡Œé¢äº†,é‚£å°±è¯´æ˜ä¸å¯é¿å…äº†, 1234567891011121314151617181920212223242526272829303132333435363738394041n,m=input().split()n=int(n)m=int(m)parent=[-1]*(n+1)def findx(x): if parent[x]!=-1: return findx(parent[x]) return xdef merge(a,b): a_p=findx(a) b_p=findx(b) if a_p!=b_p: parent[a_p]=b_pvalues=[]for _ in range(m): a,b,c=list(map(int,input().split())) values.append((a,b,c)) values=sorted(values,key=lambda x:x[2],reverse=True)disfriend=[0]*(n+1)def solve(): for a,b,c in values: if findx(a)==findx(b): print(c) return True if disfriend[a]==0: disfriend[a]=b else: merge(disfriend[a],b) if disfriend[b]==0: disfriend[b]=a else: merge(disfriend[b],a)if not solve(): print(0) H é¢˜ç›®é“¾æ¥ åœ¨æœ‰å‘å›¾Gä¸­ï¼Œæ¯æ¡è¾¹çš„é•¿åº¦å‡ä¸º1ï¼Œç°ç»™å®šèµ·ç‚¹å’Œç»ˆç‚¹ï¼Œè¯·ä½ åœ¨å›¾ä¸­æ‰¾ä¸€æ¡ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ï¼Œè¯¥è·¯å¾„æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š 1ï¼è·¯å¾„ä¸Šçš„æ‰€æœ‰ç‚¹çš„å‡ºè¾¹æ‰€æŒ‡å‘çš„ç‚¹éƒ½ç›´æ¥æˆ–é—´æ¥ä¸ç»ˆç‚¹è¿é€šã€‚ 2ï¼åœ¨æ»¡è¶³æ¡ä»¶1çš„æƒ…å†µä¸‹ä½¿è·¯å¾„æœ€çŸ­ã€‚ éš¾,ç•¥ å»ºåŒå‘è¾¹ï¼Œå¯¹äºæ­£è¾¹å’Œåè¾¹æˆ‘ä»¬æ ‡è®°ä¸€ä¸‹å³å¯ã€‚ é‚£ä¹ˆå»ºå®Œè¾¹åæˆ‘ä»¬å…ˆä»ç»ˆç‚¹bfsä¸€éï¼Œåªè·‘åå‘è¾¹ï¼Œå¯¹äºæ¯ä¸ªéå†åˆ°çš„è¾¹è¿›è¡Œæ ‡è®°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‰¾å‡ºä¸èƒ½ç›´æ¥æˆ–é—´æ¥åˆ°è¾¾ç»ˆç‚¹çš„ç‚¹ã€‚ å¾—åˆ°è¿™äº›ç‚¹åï¼Œæˆ‘ä»¬å†éå†è¿™äº›ç‚¹çš„åå‘è¾¹çš„å‡ºè¾¹ï¼Œå°†ä¸è¿™äº›ç‚¹ç›¸è¿çš„ç‚¹è¿›è¡Œæ ‡è®°ã€‚ æ ‡è®°å®Œåæˆ‘ä»¬å‰©ä¸‹çš„æ²¡æœ‰è¢«ç¬¬äºŒæ¬¡æ ‡è®°çš„ç‚¹å°±æ˜¯å¯ä»¥èµ°çš„ç‚¹ã€‚è¿™æ—¶æˆ‘ä»¬å†ä»èµ·ç‚¹bfsä¸€éï¼Œåªè·‘æ­£å‘è¾¹ï¼Œä¸”ä¸èµ°è¢«ç¬¬äºŒæ¬¡æ ‡è®°è¿‡çš„ç‚¹ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡åˆ°è¾¾ç»ˆç‚¹çš„æ—¶å€™å°±æ˜¯å¯åˆ°è¾¾çš„æœ€çŸ­è·¯ã€‚ èƒŒåŒ…é—®é¢˜ èƒŒåŒ…é—®é¢˜ 0-1èƒŒåŒ… 123456789for (int i = 1; i &lt;= N; ++i) &#123; for (int j = 0; j &lt;= V; ++j) &#123; backpack[i][j] = backpack[i - 1][j]; if (j &gt;= cap[i]) &#123; backpack[i][j] = Math.max(backpack[i][j], backpack[i - 1][j - cap[i]] + val[i]); &#125; &#125;&#125; å¤šé‡èƒŒåŒ… 1234567891011for (int i = 1; i &lt;= N; ++i) &#123; for (int j = 0; j &lt;= V; ++j) &#123; backpack[i][j] = backpack[i - 1][j]; for (int k = 1; k &lt;= num[i]; ++k) &#123; if (j &gt;= k * cap[i]) &#123; backpack[i][j] = Math.max(backpack[i][j], backpack[i - 1][j - k * cap[i]] + k * val[i]); &#125; &#125; &#125;&#125; å®Œå…¨èƒŒåŒ… 12345678for (int i = 1; i &lt;= N; ++i) &#123; for (int k = 1; k * cap[i] &lt;= V; ++k) &#123; for (int j = V; j &gt;= cap[i]; --j) &#123; f[j] = Math.max(f[j], f[j - cap[i]] + val[i]); &#125; &#125;&#125; åŠ¨æ€è§„åˆ’è¡¥å…… ä»é›†åˆçš„è§’åº¦ æœ‰é™é›†ä¸­çš„æœ€ä¼˜åŒ– åŠ¨æ€è§„åˆ’ 01èƒŒåŒ… å®Œå…¨èƒŒåŒ… `` æœ€é•¿å…¬å…±å­åºåˆ— å­—ç¬¦ä¸²ç¼–è¾‘è·ç¦» æœ€çŸ­è·¯å¾„ å¿«é€Ÿå¹‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# çŸ©é˜µç›¸ä¹˜def mul(A, B): # A:m*n, B:n*p ç»“æœm*p m = len(A) n1 = len(A[0]) n2 = len(B) p = len(B[0]) if n1 !=n2: return n = n1= n2 ans = [] # åˆå§‹åŒ–ans for i in range(m): ans.append([0]*p) # éƒ½ç”¨åŒä¸€ä¸ªå˜é‡row = [0]*pï¼Œä¼šåŒæ—¶ä¿®æ”¹ï¼Œæ‰€ä»¥ä¸ç”¨åŒä¸€ä¸ªå˜é‡ for i in range(m): for j in range(p): temp = 0 for q in range(n): temp += A[i][q]*B[q][j] temp%=9999991 ans[i][j] = temp return ans def fib(n): if n==0: return 0 elif n==1 or n==2: return 1 base = [[1,1],[1,0]] n = n-2 ans = [[1,0],[0,1]] while n: if n&amp;1: ans = mul(base,ans) base = mul(base,base) n = n&gt;&gt;1 # temp=mul([[1,1]],ans) # print(temp[0][0],ans[0][0] + ans[0][1]) return ans[0][0] + ans[0][1] if __name__==&#x27;__main__&#x27;: # å‰20ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ— # 0æ˜¯ç¬¬0ä¸ª # 2023040313301730 print(fib(2023040313301730)%9999991) # for i in range(20230403%1330173): # print(fib(i),end=&#x27; &#x27;) çœŸé¢˜Cè¯­è¨€ç½‘ çœŸé¢˜å®˜ç½‘","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"pythonæ ‡å‡†åº“-3","slug":"ç¬”è®°-python3lib-3","date":"2023-04-02T03:24:30.616Z","updated":"2023-04-02T03:25:48.386Z","comments":true,"path":"2023/04/02/ç¬”è®°-python3lib-3/","link":"","permalink":"https://gladdduck.github.io/2023/04/02/%E7%AC%94%E8%AE%B0-python3lib-3/","excerpt":"","text":"ç½‘ç»œé€šä¿¡ ipaddress 12import ipaddress# ipaddress:è§£æipåœ°å€ socket 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465import socket# ç½‘ç»œé€šä¿¡# å¤šçº¿ç¨‹ç½‘ç»œæœåŠ¡&#x27;&#x27;&#x27;æœåŠ¡å™¨ç«¯&#x27;&#x27;&#x27;from socket import socket, SOCK_STREAM, AF_INETfrom base64 import b64encodefrom json import dumpsfrom threading import Threaddef main(): # è‡ªå®šä¹‰çº¿ç¨‹ç±» class FileTransferHandler(Thread): def __init__(self, cclient): super().__init__() self.cclient = cclient def run(self): my_dict = &#123;&#125; my_dict[&#x27;filename&#x27;] = &#x27;guido.jpg&#x27; # JSONæ˜¯çº¯æ–‡æœ¬ä¸èƒ½æºå¸¦äºŒè¿›åˆ¶æ•°æ® # æ‰€ä»¥å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®è¦å¤„ç†æˆbase64ç¼–ç  my_dict[&#x27;filedata&#x27;] = &#x27;data&#x27; # é€šè¿‡dumpså‡½æ•°å°†å­—å…¸å¤„ç†æˆJSONå­—ç¬¦ä¸² json_str = dumps(my_dict) # å‘é€JSONå­—ç¬¦ä¸² self.cclient.send(json_str.encode(&#x27;utf-8&#x27;)) self.cclient.close() # 1.åˆ›å»ºå¥—æ¥å­—å¯¹è±¡å¹¶æŒ‡å®šä½¿ç”¨å“ªç§ä¼ è¾“æœåŠ¡ server = socket() # 2.ç»‘å®šIPåœ°å€å’Œç«¯å£(åŒºåˆ†ä¸åŒçš„æœåŠ¡) server.bind((&#x27;localhost&#x27;, 5566)) # 3.å¼€å¯ç›‘å¬ - ç›‘å¬å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ server.listen(512) print(&#x27;æœåŠ¡å™¨å¯åŠ¨å¼€å§‹ç›‘å¬...&#x27;) while True: client, addr = server.accept() # å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ FileTransferHandler(client).start()if __name__ == &#x27;__main__&#x27;: main()&#x27;&#x27;&#x27;å®¢æˆ·ç«¯&#x27;&#x27;&#x27;from socket import socketfrom json import loadsfrom base64 import b64decodedef main(): client = socket() client.connect((&#x27;localhost&#x27;, 5566)) # å®šä¹‰ä¸€ä¸ªä¿å­˜äºŒè¿›åˆ¶æ•°æ®çš„å¯¹è±¡ in_data = bytes() # ç”±äºä¸çŸ¥é“æœåŠ¡å™¨å‘é€çš„æ•°æ®æœ‰å¤šå¤§æ¯æ¬¡æ¥æ”¶1024å­—èŠ‚ data = client.recv(1024) while data: # å°†æ”¶åˆ°çš„æ•°æ®æ‹¼æ¥èµ·æ¥ in_data += data data = client.recv(1024) # å°†æ”¶åˆ°çš„äºŒè¿›åˆ¶æ•°æ®è§£ç æˆJSONå­—ç¬¦ä¸²å¹¶è½¬æ¢æˆå­—å…¸ # loadså‡½æ•°çš„ä½œç”¨å°±æ˜¯å°†JSONå­—ç¬¦ä¸²è½¬æˆå­—å…¸å¯¹è±¡ my_dict = loads(in_data.decode(&#x27;utf-8&#x27;)) print(my_dict) print(&#x27;å›¾ç‰‡å·²ä¿å­˜.&#x27;)if __name__ == &#x27;__main__&#x27;: main() selectors 123import selectors# ioå¤šè·¯å¤ç”¨æŠ½è±¡ select 12import select# é«˜æ•ˆç­‰å¾…IO socketserver 12import socketserver# åˆ›å»ºç½‘ç»œæœåŠ¡å™¨ äº’è”ç½‘ urllib.parase 123from urllib import parase# åˆ†è§£url urllib.request 1234from urllib import request# æ ¹æ®urlè·å–webèµ„æº# get/post/å‚æ•°/å¤´æ–‡ä»¶/ urllib.robotparser 123456789101112131415161718192021222324252627from urllib import robotparser# è·å¾—ç½‘é¡µçš„robots.txtæ–‡ä»¶,æµ‹è¯•æ˜¯å¦å…è®¸çˆ¬å–é¡µé¢from urllib import parsefrom urllib import robotparserAGENT_NAME = &#x27;Googlebot&#x27;URL_BASE = &#x27;https://zhuanlan.zhihu.com/&#x27;parser = robotparser.RobotFileParser()parser.set_url(parse.urljoin(URL_BASE, &#x27;robots.txt&#x27;))parser.read()PATHS = [ &#x27;/&#x27;, &#x27;/search-special&#x27;, &#x27;/login&#x27;, &#x27;/s&#x27;,]for path in PATHS: print(&#x27;&#123;!r:&gt;6&#125; : &#123;&#125;&#x27;.format( parser.can_fetch(AGENT_NAME, path), path)) url = parse.urljoin(URL_BASE, path) print(&#x27;&#123;!r:&gt;6&#125; : &#123;&#125;&#x27;.format( parser.can_fetch(AGENT_NAME, url), url)) print() True : / True : https://zhuanlan.zhihu.com/ False : /search-special False : https://zhuanlan.zhihu.com/search-special False : /login False : https://zhuanlan.zhihu.com/login True : /s True : https://zhuanlan.zhihu.com/s base64 12345678910111213import base64# å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºé€‚åˆä½¿ç”¨æ–‡æœ¬åè®®ä¼ è¾“çš„ASCIIçš„ä¸€ä¸ªå­é›†initial_data=&#x27;Copyright (c) 2008 Doug Hellmann All rights reserved.&#x27;print(f&#x27;initial_data:&#123;initial_data&#125;&#x27;)byte_string = initial_data.encode(&#x27;utf-8&#x27;)encoded_data = base64.b64encode(byte_string)print(f&#x27;base64 data:&#123;encoded_data&#125;&#x27;)encoded_data = b&#x27;VGhpcyBpcyB0aGUgZGF0YSwgaW4gdGhlIGNsZWFyLg==&#x27;decoded_data = base64.b64decode(encoded_data)print(&#x27;Encoded :&#x27;, encoded_data)print(&#x27;Decoded :&#x27;, decoded_data) initial_data:Copyright (c) 2008 Doug Hellmann All rights reserved. base64 data:b'Q29weXJpZ2h0IChjKSAyMDA4IERvdWcgSGVsbG1hbm4gQWxsIHJpZ2h0cyByZXNlcnZlZC4=' Encoded : b'VGhpcyBpcyB0aGUgZGF0YSwgaW4gdGhlIGNsZWFyLg==' Decoded : b'This is the data, in the clear.' http.server 123from http import server# è‡ªå·±å®ç°do_GET(),do_POST()æ–¹æ³•çš„webæœåŠ¡å™¨ http.cookie 123from http import cookie# webbrowser 123456import webbrowser# æµè§ˆå™¨æ‰“å¼€ç•Œé¢webbrowser.open_new_tab( &#x27;https://docs.python.org/3/library/webbrowser.html&#x27;) True uuid 1234import uuidprint(uuid.getnode())print(uuid.uuid1()) 4943745048992 1e4a5d1c-cc80-11ed-8e72-047f0e2ae1a0 json 12345678910import json# é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç±»å‹# tupleä¼šè½¬æˆlist# æ–‡ä»¶json.load()json.dump()# å­—ç¬¦ä¸²json.loads()json.dumps() email 12345678910111213141516171819202122232425262728293031323334353637383940414243444546from smtplib import SMTP,SMTP_SSLfrom email.header import Headerfrom email.mime.text import MIMETextfrom email.mime.image import MIMEImagefrom email.mime.multipart import MIMEMultipartdef main(): # åˆ›å»ºä¸€ä¸ªå¸¦é™„ä»¶çš„é‚®ä»¶æ¶ˆæ¯å¯¹è±¡ message = MIMEMultipart() # åˆ›å»ºæ–‡æœ¬å†…å®¹ text_content = MIMEText(&#x27;é™„ä»¶ä¸­æœ‰æœ¬æœˆæ•°æ®è¯·æŸ¥æ”¶&#x27;, &#x27;plain&#x27;, &#x27;utf-8&#x27;) message[&#x27;From&#x27;] = Header(&#x27;gladdduck&#x27;, &#x27;utf-8&#x27;) message[&#x27;To&#x27;] = Header(&#x27;äºšå“¥&#x27;, &#x27;utf-8&#x27;) message[&#x27;Subject&#x27;] = Header(&#x27;æœ¬æœˆæ•°æ®&#x27;, &#x27;utf-8&#x27;) # å°†æ–‡æœ¬å†…å®¹æ·»åŠ åˆ°é‚®ä»¶æ¶ˆæ¯å¯¹è±¡ä¸­ message.attach(text_content) # è¯»å–æ–‡ä»¶å¹¶å°†æ–‡ä»¶ä½œä¸ºé™„ä»¶æ·»åŠ åˆ°é‚®ä»¶æ¶ˆæ¯å¯¹è±¡ä¸­ with open(&#x27;words.txt&#x27;, &#x27;rb&#x27;) as f: txt = MIMEText(f.read(), &#x27;base64&#x27;, &#x27;utf-8&#x27;) txt[&#x27;Content-Type&#x27;] = &#x27;text/plain&#x27; txt[&#x27;Content-Disposition&#x27;] = &#x27;attachment; filename=hello.txt&#x27; message.attach(txt) # åˆ›å»ºSMTPå¯¹è±¡ smtper = SMTP_SSL(&#x27;smtp.qq.com&#x27;) # å¼€å¯å®‰å…¨è¿æ¥ # smtper.starttls() sender = &#x27;703214452@qq.com&#x27; receivers = [&#x27;syxue@stu.suda.edu.cn&#x27;] # ç™»å½•åˆ°SMTPæœåŠ¡å™¨ # è¯·æ³¨æ„æ­¤å¤„ä¸æ˜¯ä½¿ç”¨å¯†ç è€Œæ˜¯é‚®ä»¶å®¢æˆ·ç«¯æˆæƒç è¿›è¡Œç™»å½• # å¯¹æ­¤æœ‰ç–‘é—®çš„è¯»è€…å¯ä»¥è”ç³»è‡ªå·±ä½¿ç”¨çš„é‚®ä»¶æœåŠ¡å™¨å®¢æœ smtper.login(sender, &#x27;*****&#x27;) # å‘é€é‚®ä»¶ smtper.sendmail(sender, receivers, message.as_string()) # ä¸é‚®ä»¶æœåŠ¡å™¨æ–­å¼€è¿æ¥ smtper.quit() print(&#x27;å‘é€å®Œæˆ!&#x27;)if __name__ == &#x27;__main__&#x27;: main() åº”ç”¨æ„å»ºæ¨¡å— argparse 1234567891011121314151617181920212223242526272829303132333435import argparse# å£°æ˜# parentså‚æ•°,åˆå¹¶å…¶ä»–è§£æå™¨parser = argparse.ArgumentParser(description=&#x27;test&#x27;)# ä½ç½®å‚æ•°,å¿…å¡«parser.add_argument(&quot;echo&quot;)# å¯é€‰å‚æ•°,ä¸€ä¸ªç®€ç§°,ä¸€ä¸ªå…¨ç§°,ä¸ç»™é»˜è®¤ä¸ºNoneparser.add_argument(&quot;-v&quot;, &quot;--verbose&quot;)&#x27;&#x27;&#x27;add_argument()å‚æ•°action:é»˜è®¤æ˜¯store,å­˜å‚¨å‚æ•° store_const:è¡¨ç¤ºåªèƒ½èµ‹å€¼ä¸ºconst append:æŠŠå‚æ•°å­˜å‚¨æˆåˆ—è¡¨ append_const:æŠŠconstçš„å€¼å­˜å‚¨ä¸ºåˆ—è¡¨ count:ç»Ÿè®¡å‚æ•°å‡ºç°çš„æ¬¡æ•° store_true/store_false:ä¿å­˜å¸ƒå°”å€¼,å‡ºç°å°±æ˜¯true or false default:é»˜è®¤å€¼type:å‚æ•°ç±»å‹choice:åªèƒ½ä»é‡Œé¢é€‰required:å¯ä»¥çœç•¥ (ä»…é’ˆå¯¹å¯é€‰å‚æ•°)ã€‚help:æ‰“å°çš„æ—¶å€™çš„å¸®åŠ©ä¿¡æ¯dest:è§£æåçš„å‚æ•°åç§°nargs:è¡¨ç¤ºåé¢è¦è·Ÿå‡ ä¸ªå‚æ•°group=parser.add_mutually_exclusive_group()äº’æ–¥é€‰é¡¹,&#x27;&#x27;&#x27;# è§£æ,é»˜è®¤è§£æçš„sys.argv[1:]parser.parse_args() getopt 123import getopt# å‘½ä»¤è¡Œé€‰é¡¹è§£æ readline getpass 1234import getpassp=getpass.getpass(prompt=&#x27;è¾“å…¥å¯†ç &#x27;)print(p,p) cmd 123import cmd# é¢å‘è¡Œçš„å‘½ä»¤å¤„ç†å™¨ shlex 12import shlex# è§£æshellè¯­æ³• configparser 12345678910111213141516171819202122232425262728293031323334353637383940import configparser&#x27;&#x27;&#x27;[DEFAULT]serveraliveinterval = 45compression = yescompressionlevel = 9[bitbucket]user = kk[topsecrect]port = 22&#x27;&#x27;&#x27;import configparserconfig = configparser.ConfigParser()# ä¸å­˜åœ¨å¿½ç•¥,å¯ä»¥å¤šä¸ªé…ç½®æ–‡ä»¶åˆå¹¶config.read(&#x27;example.ini&#x27;)# sectionså°±æ˜¯[]ä¸­çš„é…ç½®,has_section()# optionsæ˜¯[]ä¸‹é¢çš„é€‰é¡¹,has_option()for section_name in config.sections(): print(&#x27;Section:&#x27;, section_name) print(&#x27; Options:&#x27;, config.options(section_name)) for name, value in config.items(section_name): print(&#x27; &#123;&#125; = &#123;&#125;&#x27;.format(name, value)) print() config.add_section(&#x27;bug_tracker&#x27;)config.set(&#x27;bug_tracker&#x27;, &#x27;url&#x27;, &#x27;http://localhost:8080/bugs&#x27;)config.set(&#x27;bug_tracker&#x27;, &#x27;username&#x27;, &#x27;dhellmann&#x27;)config.set(&#x27;bug_tracker&#x27;, &#x27;password&#x27;, &#x27;secret&#x27;)config.remove_option(&#x27;bug_tracker&#x27;, &#x27;password&#x27;)config.remove_section(&#x27;wiki&#x27;)# parser.write(f) logging 123456789101112import logginglogging.basicConfig(level=logging.WARNING)# ä¸åŒæ¨¡å—çš„æ—¥å¿—logger1 = logging.getLogger(&#x27;package1.module1&#x27;)logger2 = logging.getLogger(&#x27;package2.module2&#x27;)logger1.warning(&#x27;This message comes from one module&#x27;)logger2.warning(&#x27;This comes from another module&#x27;) WARNING:package1.module1:This message comes from one module WARNING:package2.module2:This comes from another module 123456789101112131415161718192021222324252627282930import logging# æ ¼å¼åŒ–# LOG_FILENAME = &#x27;logging_example.out&#x27;logging.basicConfig(format=&#x27;%(asctime)s - %(pathname)s[line:%(lineno)d] - %(levelname)s: %(message)s&#x27;, level=logging.DEBUG, # filename=LOG_FILENAME, )logging.debug(&#x27;debug ä¿¡æ¯&#x27;)logging.info(&#x27;info ä¿¡æ¯&#x27;)logging.warning(&#x27;warning ä¿¡æ¯&#x27;)logging.error(&#x27;error ä¿¡æ¯&#x27;)logging.critical(&#x27;critial ä¿¡æ¯&#x27;)&#x27;&#x27;&#x27;çº§åˆ« æ•°å€¼CRITICAL 50ERROR 40WARNING 30INFO 20DEBUG 10NOTSET 0&#x27;&#x27;&#x27; 2023-03-28 21:44:07,434 - C:\\Users\\22627\\AppData\\Local\\Temp\\ipykernel_2380\\2094327826.py[line:8] - DEBUG: debug ä¿¡æ¯ 2023-03-28 21:44:07,436 - C:\\Users\\22627\\AppData\\Local\\Temp\\ipykernel_2380\\2094327826.py[line:9] - INFO: info ä¿¡æ¯ 2023-03-28 21:44:07,438 - C:\\Users\\22627\\AppData\\Local\\Temp\\ipykernel_2380\\2094327826.py[line:10] - WARNING: warning ä¿¡æ¯ 2023-03-28 21:44:07,440 - C:\\Users\\22627\\AppData\\Local\\Temp\\ipykernel_2380\\2094327826.py[line:11] - ERROR: error ä¿¡æ¯ 2023-03-28 21:44:07,443 - C:\\Users\\22627\\AppData\\Local\\Temp\\ipykernel_2380\\2094327826.py[line:12] - CRITICAL: critial ä¿¡æ¯ 1234567891011121314151617181920212223# å†™ä¸åŒæ–‡ä»¶import globimport loggingimport logging.handlersLOG_FILENAME = &#x27;logging_rotatingfile_example.out&#x27;my_logger = logging.getLogger(&#x27;MyLogger&#x27;)my_logger.setLevel(logging.DEBUG)handler = logging.handlers.RotatingFileHandler( LOG_FILENAME, maxBytes=20, backupCount=5,)my_logger.addHandler(handler)for i in range(20): my_logger.debug(&#x27;i = %d&#x27; % i)logfiles = glob.glob(&#x27;%s*&#x27; % LOG_FILENAME)for filename in sorted(logfiles): print(filename) fileinput 123import fileinput# å‘½ä»¤è¡Œè¿‡æ»¤å™¨æ¡†æ¶ atexit 1234567891011121314151617181920import atexit# ç¨‹åºå…³é—­å›è°ƒdef my_cleanup(name): print(&#x27;my_cleanup(&#123;&#125;)&#x27;.format(name))atexit.register(my_cleanup, &#x27;first&#x27;)atexit.register(my_cleanup, &#x27;second&#x27;)atexit.register(my_cleanup, &#x27;third&#x27;)# å› ä¸ºä¿¡å·ç»ˆæ­¢# os._exit()# è‡´å‘½é”™è¯¯@atexit.registerdef all_done(): print(&#x27;all_done()&#x27;)print(&#x27;starting main program&#x27;) starting main program sched 123456789101112131415161718192021222324import sched# åœ¨æŒ‡å®šæ—¶åˆ»è¿è¡Œä»»åŠ¡import schedimport timescheduler = sched.scheduler(time.time, time.sleep)def long_event(name): print(&#x27;BEGIN EVENT :&#x27;, time.ctime(time.time()), name) time.sleep(2) print(&#x27;FINISH EVENT:&#x27;, time.ctime(time.time()), name)print(&#x27;START:&#x27;, time.ctime(time.time()))# æ—¶é—´,ä¼˜å…ˆçº§,å‡½æ•°,å‚æ•°scheduler.enter(2, 1, long_event, (&#x27;first&#x27;,))# runæ˜¯é˜»å¡çš„,ä½†æ˜¯è¿™ä¸ªæ˜¯åˆ°äº†å°±æ‰§è¡Œ,è¦åœ¨ä¸åŒçº¿ç¨‹å†…å–æ¶ˆscheduler.enter(3, 1, long_event, (&#x27;second&#x27;,))scheduler.run() START: Tue Mar 28 21:57:03 2023 BEGIN EVENT : Tue Mar 28 21:57:05 2023 first FINISH EVENT: Tue Mar 28 21:57:07 2023 first BEGIN EVENT : Tue Mar 28 21:57:07 2023 second FINISH EVENT: Tue Mar 28 21:57:09 2023 second 123456789price=0age=int(input())if age&lt;12: price=0elif age&lt;=65: price=40elif age&gt;65: price=20print(f&#x27;Your price is &#123;price&#125; yuan&#x27;) Your price is 40 yuan å›½é™…åŒ–å’Œæœ¬åœ°åŒ– å¼€å‘å·¥å…· pydoc 1234import pydocimport atexit# è¿è¡Œæ—¶ç”Ÿæˆå¸®åŠ©æ–‡æœ¬pydoc.doc(atexit) doctest 123456789101112131415161718192021222324import doctest# è¿è¡ŒåµŒå…¥æ–‡æ¡£ä¸­çš„ä¾‹å­ï¼ŒéªŒè¯æ˜¯å¦ç”ŸæˆæœŸæœ›çš„ç»“æœdef my_function(a, b): &quot;&quot;&quot;Returns a * b. Works with numbers: &gt;&gt;&gt; my_function(2, 3) 6 and strings: &gt;&gt;&gt; my_function(&#x27;a&#x27;, 3) &#x27;aaa&#x27; # å¿½ç•¥å¯èƒ½ä¼šå˜åŒ–çš„éƒ¨åˆ† &gt;&gt;&gt; unpredictable(MyClass()) #doctest: +ELLIPSIS [&lt;doctest_ellipsis.MyClass object at 0x...&gt;] &quot;&quot;&quot; return a * bif __name__==&quot;__main__&quot;: doctest.testmod()# !python3 -m doctest -v xxx.py unittest 123456789101112131415import unittest# è‡ªåŠ¨æµ‹è¯•æ¡†æ¶class SimplisticTest(unittest.TestCase): def test(self): a = &#x27;a&#x27; b = &#x27;a&#x27; self.assertEqual(a, b) self.assertFalse() self.assertTrue() self.assertNotEqual() self.assertNotEqual() # ... trace 12345678910111213141516171819import trace# ç›‘è§†æ‰€æ‰§è¡Œçš„è¯­å¥ï¼Œç”ŸæˆæŠ¥å‘Šï¼ŒæŸ¥çœ‹äº’ç›¸è°ƒç”¨çš„å‡½æ•°ä¹‹é—´çš„å…³ç³»# ä¼šç”Ÿæˆå‡½æ•°ä¹‹é—´çš„è°ƒç”¨å…³ç³»def recurse(level): print(&#x27;recurse(&#123;&#125;)&#x27;.format(level)) if level: recurse(level - 1)def not_called(): print(&#x27;This function is never called.&#x27;)def main(): print(&#x27;This is the main program.&#x27;) recurse(2)tracer = trace.Trace(count=False, trace=True)tracer.run(&#x27;recurse(2)&#x27;) traceback 12345import traceback# è°ƒç”¨æ ˆæ¥ç”Ÿæˆé”™è¯¯æ¶ˆæ¯ cgitb 1234import cgitb# cgitbæŠŠsys.excepthook æ¢æˆä¸€ä¸ªå‡½æ•°,æ ¼å¼åŒ–è¾“å‡ºï¼Œæ›´è¯¦ç»† pdb 1234import pdb# æš‚åœç¨‹åºï¼Œé€æ­¥ç›‘è§†æ‰§è¡Œ# debug profile &amp; pstats 123456789101112131415161718192021222324252627import profileimport pstats# profileæ”¶é›†æ¶ˆè€—å¤„ç†å™¨èµ„æºçš„ç»Ÿè®¡ä¿¡æ¯def fib(n): if n == 0: return 0 elif n == 1: return 1 else: return fib(n - 1) + fib(n - 2)def fib_seq(n): seq = [] if n &gt; 0: seq.extend(fib_seq(n - 1)) seq.append(fib(n)) return seq# profile.run(&#x27;print(fib_seq(20)); print()&#x27;)profile.runctx( &#x27;print(fib_seq(n)); print()&#x27;, globals(), &#123;&#x27;n&#x27;: 20&#125;,)# pstatsä¸profileç»“åˆ [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765] 57409 function calls (119 primitive calls) in 0.156 seconds Ordered by: standard name ncalls tottime percall cumtime percall filename:lineno(function) 21/1 0.000 0.000 0.156 0.156 1066040024.py:12(fib_seq) 57291/21 0.156 0.000 0.156 0.007 1066040024.py:4(fib) 4 0.000 0.000 0.000 0.000 :0(acquire) 25 0.000 0.000 0.000 0.000 :0(append) 1 0.000 0.000 0.156 0.156 :0(exec) 20 0.000 0.000 0.000 0.000 :0(extend) 3 0.000 0.000 0.000 0.000 :0(getpid) 3 0.000 0.000 0.000 0.000 :0(isinstance) 3 0.000 0.000 0.000 0.000 :0(len) 2 0.000 0.000 0.000 0.000 :0(print) 1 0.000 0.000 0.000 0.000 :0(setprofile) 1 0.000 0.000 0.156 0.156 &lt;string&gt;:1(&lt;module&gt;) 4 0.000 0.000 0.000 0.000 iostream.py:206(schedule) 3 0.000 0.000 0.000 0.000 iostream.py:418(_is_master_process) 3 0.000 0.000 0.000 0.000 iostream.py:437(_schedule_flush) 3 0.000 0.000 0.000 0.000 iostream.py:500(write) 4 0.000 0.000 0.000 0.000 iostream.py:96(_event_pipe) 1 0.000 0.000 0.156 0.156 profile:0(print(fib_seq(n)); print()) 0 0.000 0.000 profile:0(profiler) 4 0.000 0.000 0.000 0.000 socket.py:543(send) 4 0.000 0.000 0.000 0.000 threading.py:1066(_wait_for_tstate_lock) 4 0.000 0.000 0.000 0.000 threading.py:1133(is_alive) 4 0.000 0.000 0.000 0.000 threading.py:536(is_set) timeit 12345678910import timeit# æµ‹é‡å°ä»£ç æ—¶é—´t = timeit.Timer(&quot;print(&#x27;main statement&#x27;)&quot;, &quot;print(&#x27;setup&#x27;)&quot;)print(&#x27;TIMEIT:&#x27;)print(t.timeit(2))print(&#x27;REPEAT:&#x27;)print(t.repeat(3, 2)) TIMEIT: setup main statement main statement 1.2299999980314169e-05 REPEAT: setup main statement main statement setup main statement main statement setup main statement main statement [0.00017259999958696426, 2.790000007735216e-05, 1.540000039312872e-05] 123456789101112131415161718192021222324252627import contextlibimport time# Yolov5æ—¶é—´è®°å½•class Profile(contextlib.ContextDecorator): # YOLOv5 Profile class. Usage: @Profile() decorator or &#x27;with Profile():&#x27; context manager def __init__(self, t=0.0): self.t = t # self.cuda = torch.cuda.is_available() def __enter__(self): self.start = self.time() return self def __exit__(self, type, value, traceback): self.dt = self.time() - self.start # delta-time self.t += self.dt # accumulate dt def time(self): # if self.cuda: # torch.cuda.synchronize() return time.time() ttt=Profile()with ttt: [_ for _ in range(int(1e7))]print(ttt.t) 0.534808874130249 tabnanny 12import tabnanny# ç¼©è¿›éªŒè¯å·¥å…· compileall 1import compileall venv 12import venv# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ è¿è¡Œæ—¶ç‰¹æ€§ site 123import site# ç«™ç‚¹ç‰¹å®šçš„é…ç½®,å¯¼å…¥è·¯å¾„ sys 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import sys# ç³»ç»Ÿç‰¹å®šé…ç½®print(&#x27;Version info:&#x27;)print()print(&#x27;sys.version =&#x27;, repr(sys.version))print(&#x27;sys.version_info =&#x27;, sys.version_info)print(&#x27;sys.hexversion =&#x27;, hex(sys.hexversion))print(&#x27;sys.api_version =&#x27;, sys.api_version)print(&#x27;This interpreter was built for:&#x27;, sys.platform)# è·å–è¿è¡Œæ—¶å‚æ•°print(&#x27;Arguments:&#x27;, sys.argv)# é€€å‡º# sys.exit(1)print(&#x27;Name:&#x27;, sys.implementation.name)print(&#x27;Version:&#x27;, sys.implementation.version)print(&#x27;Cache tag:&#x27;, sys.implementation.cache_tag)# print(&#x27;STATUS: Reading from stdin&#x27;)# data = sys.stdin.read()# print(&#x27;STATUS: Writing data to stdout&#x27;)# sys.stdout.write(data)# sys.stdout.flush()# print(&#x27;STATUS: Done&#x27;)# å‚æ•°çš„å¼•ç”¨è®¡æ•°one = []print(&#x27;At start :&#x27;, sys.getrefcount(one))two = oneprint(&#x27;Second reference :&#x27;, sys.getrefcount(one))del twoprint(&#x27;After del :&#x27;, sys.getrefcount(one))# å‚æ•°å¤§å°class MyClass: passobjects = [ [], (), &#123;&#125;, &#x27;c&#x27;, &#x27;string&#x27;, b&#x27;bytes&#x27;, 1, 2.3, MyClass, MyClass(),]# ä¸ç»Ÿè®¡ç±»çš„å±æ€§å¤§å°for obj in objects: print(&#x27;&#123;:&gt;10&#125; : &#123;&#125;&#x27;.format(type(obj).__name__,sys.getsizeof(obj))) Version info: sys.version = '3.9.13 (main, Aug 25 2022, 23:51:50) [MSC v.1916 64 bit (AMD64)]' sys.version_info = sys.version_info(major=3, minor=9, micro=13, releaselevel='final', serial=0) sys.hexversion = 0x3090df0 sys.api_version = 1013 This interpreter was built for: win32 Arguments: ['C:\\\\Users\\\\Ada\\\\AppData\\\\Roaming\\\\Python\\\\Python39\\\\site-packages\\\\ipykernel_launcher.py', '--ip=127.0.0.1', '--stdin=9008', '--control=9006', '--hb=9005', '--Session.signature_scheme=&quot;hmac-sha256&quot;', '--Session.key=b&quot;fb322aac-cfd4-4a49-87ab-e11c0e6aea3e&quot;', '--shell=9007', '--transport=&quot;tcp&quot;', '--iopub=9009', '--f=c:\\\\Users\\\\Ada\\\\AppData\\\\Roaming\\\\jupyter\\\\runtime\\\\kernel-v2-100766YwHlokYHZ1d.json'] Name: cpython Version: sys.version_info(major=3, minor=9, micro=13, releaselevel='final', serial=0) Cache tag: cpython-39 At start : 2 Second reference : 3 After del : 2 list : 56 tuple : 40 dict : 64 str : 50 str : 55 bytes : 38 int : 28 float : 24 type : 1064 MyClass : 48 123456789101112131415161718192021222324class WithAttributes: def __init__(self): self.a = &#x27;a&#x27; self.b = &#x27;b&#x27; return def __sizeof__(self): return object.__sizeof__(self) + \\ sum(sys.getsizeof(v) for v in self.__dict__.values())# ç»Ÿè®¡å¸¦å‚æ•°çš„ç±»å¤§å°my_inst = WithAttributes()print(sys.getsizeof(my_inst))# getrecursionlimit() setrecursionlimit() æŸ¥çœ‹è®¾ç½®æœ€å¤§é€’å½’æ·±åº¦# getswitchinterval() setswitchinterval() æŸ¥çœ‹è®¾ç½®çº¿ç¨‹è·å–çš„cpuè¿è¡Œæ—¶é—´# åˆ—è¡¨å­—å…¸ä¸²çš„æœ€å¤§å¤§å°print(&#x27;maxsize :&#x27;, sys.maxsize)print(&#x27;maxunicode:&#x27;, sys.maxunicode)# æ•°çš„ä¿¡æ¯# sys.float_info# sys.int_info 148 maxsize : 9223372036854775807 maxunicode: 1114111 123456789101112131415# å¤„ç†é”™è¯¯ä¿¡æ¯def my_excepthook(type, value, traceback): print(&#x27;Unhandled error:&#x27;, type, value)sys.excepthook = my_excepthookprint(&#x27;Before exception&#x27;)raise RuntimeError(&#x27;This is the error message&#x27;)print(&#x27;After exception&#x27;)# Before exception# Unhandled error: &lt;class &#x27;RuntimeError&#x27;&gt; This is the error # message 12345678910111213141516171819202122232425262728293031323334import sysimport threadingimport timedef do_something_with_exception(): exc_type, exc_value = sys.exc_info()[:2] print(&#x27;Handling &#123;&#125; exception with message &quot;&#123;&#125;&quot; in &#123;&#125;&#x27;.format( exc_type.__name__, exc_value, threading.current_thread().name))def cause_exception(delay): time.sleep(delay) raise RuntimeError(&#x27;This is the error message&#x27;)def thread_target(delay): try: cause_exception(delay) except RuntimeError: do_something_with_exception()threads = [ threading.Thread(target=thread_target, args=(0.3,)), threading.Thread(target=thread_target, args=(0.1,)),]for t in threads: t.start()for t in threads: t.join() Handling RuntimeError exception with message &quot;This is the error message&quot; in Thread-7 Handling RuntimeError exception with message &quot;This is the error message&quot; in Thread-6 12345678910import sysnames = sorted(sys.modules.keys())name_text = &#x27;, &#x27;.join(names)# print(name_text)for d in sys.path: print(d)# sys.path åŠ å…¥è·¯å¾„, d:\\BaiduSyncdisk\\Blog\\source\\_posts e:\\Anaconda3\\envs\\AAA\\python39.zip e:\\Anaconda3\\envs\\AAA\\DLLs e:\\Anaconda3\\envs\\AAA\\lib e:\\Anaconda3\\envs\\AAA C:\\Users\\Ada\\AppData\\Roaming\\Python\\Python39\\site-packages e:\\Anaconda3\\envs\\AAA\\lib\\site-packages e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\openea-1.0-py3.9.egg e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\python_levenshtein-0.20.7-py3.9.egg e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\gensim-4.2.0-py3.9-win-amd64.egg e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\matching-0.1.1-py3.9.egg e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\win32 e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\win32\\lib e:\\Anaconda3\\envs\\AAA\\lib\\site-packages\\Pythonwin C:\\Users\\Ada\\AppData\\Roaming\\Python\\Python39\\site-packages\\IPython\\extensions C:\\Users\\Ada\\.ipython os 12345678import osimport syssys.path.append(r&#x27;D:\\BaiduSyncdisk\\Blog\\source&#x27;)# os.listdir()root=&#x27;D:\\BaiduSyncdisk\\Blog\\source&#x27;for dir_name, sub_dirs, files in os.walk(root): print(dir_name,sub_dirs,files) 123456789101112131415161718192021222324for entry in os.scandir(root): if entry.is_dir(): typ = &#x27;dir&#x27; elif entry.is_file(): typ = &#x27;file&#x27; elif entry.is_symlink(): typ = &#x27;link&#x27; else: typ = &#x27;unknown&#x27; print(&#x27;&#123;name&#125; &#123;typ&#125;&#x27;.format( name=entry.name, typ=typ, ))# stat()æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯# chmod()ä¿®æ”¹æƒé™# access()æµ‹è¯•è¿›ç¨‹æƒé™# mkdir() å‰é¢çš„è·¯å¾„å¿…é¡»å­˜åœ¨# makedirs() åˆ›å»ºä¸å­˜åœ¨çš„çˆ¶è·¯å¾„# rmdir() åªä¼šåˆ é™¤å­ç›®å½•# removedirs() åˆ é™¤ä¸ºç©ºçš„æ‰€æœ‰çˆ¶ç›®å½•# replace() # rename()é‡å‘½å# environ() ç¯å¢ƒå˜é‡# getenv() 123456789# å½“å‰å·¥ä½œç›®å½•print(os.getcwd())# æ›´æ”¹å·¥ä½œç›®å½•os.chdir(&#x27;d:\\\\BaiduSyncdisk\\\\Blog\\\\source&#x27;)print(os.getcwd())# è¿è¡Œå¤–éƒ¨å‘½ä»¤print(os.system(&#x27;pwd&#x27;))# åˆ›å»ºè¿›ç¨‹# os.fork() d:\\BaiduSyncdisk\\Blog\\source d:\\BaiduSyncdisk\\Blog\\source 1 platform 12345678910111213141516171819202122import platformprint(&#x27;uname:&#x27;, platform.uname())print()print(&#x27;system :&#x27;, platform.system())print(&#x27;node :&#x27;, platform.node())print(&#x27;release :&#x27;, platform.release())print(&#x27;version :&#x27;, platform.version())print(&#x27;machine :&#x27;, platform.machine())print(&#x27;processor:&#x27;, platform.processor())print(&#x27;interpreter:&#x27;, platform.architecture())print(&#x27;/bin/ls :&#x27;, platform.architecture(&#x27;/bin/ls&#x27;))print(&#x27;Normal :&#x27;, platform.platform())print(&#x27;Aliased:&#x27;, platform.platform(aliased=True))print(&#x27;Terse :&#x27;, platform.platform(terse=True))print(&#x27;Version :&#x27;, platform.python_version())print(&#x27;Version tuple:&#x27;, platform.python_version_tuple())print(&#x27;Compiler :&#x27;, platform.python_compiler())print(&#x27;Build :&#x27;, platform.python_build()) uname: uname_result(system='Windows', node='DESKTOP-SFFEKV7', release='10', version='10.0.19041', machine='AMD64') system : Windows node : DESKTOP-SFFEKV7 release : 10 version : 10.0.19041 machine : AMD64 processor: Intel64 Family 6 Model 158 Stepping 10, GenuineIntel interpreter: ('64bit', 'WindowsPE') /bin/ls : ('64bit', '') Normal : Windows-10-10.0.19041-SP0 Aliased: Windows-10-10.0.19041-SP0 Terse : Windows-10 Version : 3.9.13 Version tuple: ('3', '9', '13') Compiler : MSC v.1916 64 bit (AMD64) Build : ('main', 'Aug 25 2022 23:51:50') resource 12345678910111213141516171819import resource# ç³»ç»Ÿèµ„æºç®¡ç†RESOURCES = [ (&#x27;ru_utime&#x27;, &#x27;User time&#x27;), (&#x27;ru_stime&#x27;, &#x27;System time&#x27;), (&#x27;ru_maxrss&#x27;, &#x27;Max. Resident Set Size&#x27;), (&#x27;ru_ixrss&#x27;, &#x27;Shared Memory Size&#x27;), (&#x27;ru_idrss&#x27;, &#x27;Unshared Memory Size&#x27;), (&#x27;ru_isrss&#x27;, &#x27;Stack Size&#x27;), (&#x27;ru_inblock&#x27;, &#x27;Block inputs&#x27;), (&#x27;ru_oublock&#x27;, &#x27;Block outputs&#x27;),]usage = resource.getrusage(resource.RUSAGE_SELF)for name, desc in RESOURCES: print(&#x27;&#123;:&lt;25&#125; (&#123;:&lt;10&#125;) = &#123;&#125;&#x27;.format( desc, name, getattr(usage, name))) gc 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import gc# åƒåœ¾å›æ”¶&#x27;&#x27;&#x27;enable() --å¯ç”¨è‡ªåŠ¨åƒåœ¾å›æ”¶ã€‚disable() --ç¦ç”¨è‡ªåŠ¨åƒåœ¾å›æ”¶ã€‚isenabled() --å¦‚æœå¯ç”¨äº†è‡ªåŠ¨æ”¶é›†ï¼Œåˆ™è¿”å›trueã€‚collect() --ç«‹å³æ‰§è¡Œå®Œå…¨æ”¶é›†ã€‚get_count() --è¿”å›å½“å‰é›†åˆè®¡æ•°ã€‚get_stats() --è¿”å›åŒ…å«æ¯ä»£ç»Ÿè®¡ä¿¡æ¯çš„è¯å…¸åˆ—è¡¨ã€‚set_debug() --è®¾ç½®è°ƒè¯•æ ‡å¿—ã€‚get_debug() --è·å–è°ƒè¯•æ ‡å¿—ã€‚set_threshold() --è®¾ç½®æ”¶é›†é˜ˆå€¼ã€‚get_threshold() --è¿”å›é›†åˆé˜ˆå€¼çš„å½“å‰å€¼ã€‚get_objects() --è¿”å›æ”¶é›†å™¨è·Ÿè¸ªçš„æ‰€æœ‰å¯¹è±¡çš„åˆ—è¡¨ã€‚is_tracked() --å¦‚æœè·Ÿè¸ªç»™å®šå¯¹è±¡ï¼Œåˆ™è¿”å›trueã€‚is_finalized() --å¦‚æœç»™å®šå¯¹è±¡å·²å®šç¨¿ï¼Œåˆ™è¿”å›trueã€‚get_referrers() --è¿”å›å¼•ç”¨å¯¹è±¡çš„å¯¹è±¡åˆ—è¡¨ã€‚get_referents() --è¿”å›å¯¹è±¡å¼•ç”¨çš„å¯¹è±¡åˆ—è¡¨ã€‚freeze() --å†»ç»“æ‰€æœ‰è·Ÿè¸ªå¯¹è±¡ï¼Œå¹¶åœ¨å°†æ¥çš„æ”¶é›†ä¸­å¿½ç•¥å®ƒä»¬ã€‚unfreeze() --è§£å†»æ°¸ä¹…ç”Ÿæˆä¸­çš„æ‰€æœ‰å¯¹è±¡ã€‚get_freeze_count() --è¿”å›æ°¸ä¹…ç”Ÿæˆä¸­çš„å¯¹è±¡æ•°ã€‚&#x27;&#x27;&#x27;import sysclass Test(): def __init__(self): passt = Test()k = Test()t._self = t# ä¼šå¤šä¸€ä¸ª å› ä¸ºgcä¼šç”¨ä¸€ä¸ªprint(sys.getrefcount(t)) #sys.getrefcountå‡½æ•°ç”¨æ¥æŸ¥çœ‹ä¸€ä¸ªå¯¹è±¡æœ‰å‡ ä¸ªå¼•ç”¨print(sys.getrefcount(k))# delè¯­å¥å¯ä»¥æ¶ˆé™¤ä¸€ä¸ªå¼•ç”¨å…³ç³»# å¼•ç”¨è®¡æ•°ä¸ºä¸»ï¼Œæ ‡è®°-æ¸…é™¤+åˆ†ä»£å›æ”¶ä¸ºè¾…çš„å›æ”¶ç­–ç•¥# ä¸“é—¨ç”¨æ¥å¤„ç†è¿™äº›å¾ªç¯å¼•ç”¨# gc.collect()# gc.get_threshold()# pythonä¸­é»˜è®¤æŠŠæ‰€æœ‰å¯¹è±¡åˆ†æˆä¸‰ä»£ã€‚# ç¬¬0ä»£åŒ…å«äº†æœ€æ–°çš„å¯¹è±¡ï¼Œç¬¬2ä»£åˆ™æ˜¯æœ€æ—©çš„ä¸€äº›å¯¹è±¡ã€‚# åœ¨ä¸€æ¬¡åƒåœ¾å›æ”¶ä¸­ï¼Œæ‰€æœ‰æœªè¢«å›æ”¶çš„å¯¹è±¡ä¼šè¢«ç§»åˆ°é«˜ä¸€ä»£çš„åœ°æ–¹ã€‚# è¿™ä¸ªæ–¹æ³•è¿”å›çš„æ˜¯(700,10,10)ï¼Œè¿™ä¹Ÿæ˜¯gcçš„é»˜è®¤å€¼ã€‚# è¿™ä¸ªå€¼çš„æ„æ€æ˜¯è¯´ï¼Œåœ¨ç¬¬0ä»£å¯¹è±¡æ•°é‡è¾¾åˆ°700ä¸ªä¹‹å‰ï¼Œä¸æŠŠæœªè¢«å›æ”¶çš„å¯¹è±¡æ”¾å…¥ç¬¬ä¸€ä»£ï¼›# è€Œåœ¨ç¬¬ä¸€ä»£å¯¹è±¡æ•°é‡è¾¾åˆ°10ä¸ªä¹‹å‰ä¹Ÿä¸æŠŠæœªè¢«å›æ”¶çš„å¯¹è±¡ç§»åˆ°ç¬¬äºŒä»£ã€‚# å¯ä»¥æ˜¯ä½¿ç”¨gc.set_threshold(threashold0,threshold1,threshold2)æ¥æ‰‹åŠ¨è®¾ç½®è¿™ç»„é˜ˆå€¼ã€‚ sysconfig 12import sysconfig# è§£é‡Šå™¨ç¼–è¯‘æ—¶é…ç½® è¯­è¨€å·¥å…· warnings 123456789101112131415161718import warnings# æŠ¥å‘Šéè‡´å‘½æ¡ä»¶æˆ–å¯ä¿®å¤é”™è¯¯# erroræŠŠè­¦å‘Šå˜æˆé”™è¯¯,simplefilteræ˜¯filterwarningsç®€åŒ–ç‰ˆwarnings.simplefilter(&#x27;ignore&#x27;, UserWarning)# å‘å‡ºä¸€ä¸ªwarningsprint(&#x27;Before the warning&#x27;)warnings.warn(&#x27;This is a warning message&#x27;)print(&#x27;After the warning&#x27;)# filterwarnings() æ ¹æ®è§„åˆ™è¿‡æ»¤ä¿¡æ¯warnings.filterwarnings(&#x27;ignore&#x27;, &#x27;.*do not.*&#x27;,)warnings.warn(&#x27;Show this message&#x27;)warnings.warn(&#x27;Do not show this message&#x27;) Before the warning After the warning 123456789101112131415import warningswarnings.simplefilter(&#x27;once&#x27;, UserWarning)def warning_on_one_line(message, category, filename, lineno, file=None, line=None): return &#x27;-&gt; &#123;&#125;:&#123;&#125;: &#123;&#125;:&#123;&#125;\\n&#x27;.format( filename, lineno, category.__name__, message)warnings.warn(&#x27;Warning message, before&#x27;)warnings.formatwarning = warning_on_one_linewarnings.warn(&#x27;Warning message, after&#x27;)warnings.warn(&#x27;This is a warning!&#x27;)warnings.warn(&#x27;This is a warning!&#x27;)warnings.warn(&#x27;This is a warning!&#x27;) C:\\Users\\Ada\\AppData\\Local\\Temp/ipykernel_9460/3571311107.py:9: UserWarning: Warning message, before warnings.warn('Warning message, before') -&gt; C:\\Users\\Ada\\AppData\\Local\\Temp/ipykernel_9460/3571311107.py:11: UserWarning:Warning message, after -&gt; C:\\Users\\Ada\\AppData\\Local\\Temp/ipykernel_9460/3571311107.py:13: UserWarning:This is a warning! abc dis 123456789101112131415import dis# å­—èŠ‚ç åæ±‡ç¼–å·¥å…·def f(*args): nargs = len(args) print(nargs, args)if __name__ == &#x27;__main__&#x27;: import dis dis.dis(f) dis.show_code(f) 6 0 LOAD_GLOBAL 0 (len) 2 LOAD_FAST 0 (args) 4 CALL_FUNCTION 1 6 STORE_FAST 1 (nargs) 7 8 LOAD_GLOBAL 1 (print) 10 LOAD_FAST 1 (nargs) 12 LOAD_FAST 0 (args) 14 CALL_FUNCTION 2 16 POP_TOP 18 LOAD_CONST 0 (None) 20 RETURN_VALUE Name: f Filename: C:\\Users\\Ada\\AppData\\Local\\Temp/ipykernel_9460/3862671634.py Argument count: 0 Positional-only arguments: 0 Kw-only arguments: 0 Number of locals: 2 Stack size: 3 Flags: OPTIMIZED, NEWLOCALS, VARARGS, NOFREE Constants: 0: None Names: 0: len 1: print Variable names: 0: args 1: nargs inspect 12345678910111213import inspect# æ£€æŸ¥ç°åœºå¯¹è±¡,è·å–ä¸€ä¸ªæ–‡ä»¶å†…çš„ç±»,å‡½æ•°,ç¤ºä¾‹,ç­‰ç­‰# getnumbers() å‘ç°å¯¹è±¡çš„æˆå‘˜å±æ€§,,exampleæ˜¯pyæ–‡ä»¶import examplefor name, data in inspect.getmembers(example): if name.startswith(&#x27;__&#x27;): continue print(&#x27;&#123;&#125; : &#123;!r&#125;&#x27;.format(name, data)) æ¨¡å—å’ŒåŒ… importlib 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849import importlib# è¿è¡Œæ—¶import&#x27;&#x27;&#x27;â”œâ”€â”€ clazzâ”‚ â”œâ”€â”€ __init__.pyâ”‚ â”œâ”€â”€ a.pyâ”‚ â””â”€â”€ b.pyâ””â”€â”€ main.pya.pydef show(): print(&quot;show A&quot;)b.pydef show(): print(&quot;show B&quot;)&#x27;&#x27;&#x27;import osimport importlibdef get_modules(package=&quot;.&quot;): &quot;&quot;&quot; è·å–åŒ…åä¸‹æ‰€æœ‰é__init__çš„æ¨¡å—å &quot;&quot;&quot; modules = [] files = os.listdir(package) for file in files: if not file.startswith(&quot;__&quot;): name, ext = os.path.splitext(file) modules.append(&quot;.&quot; + name) return modulesif __name__ == &#x27;__main__&#x27;: package = &quot;clazz&quot; modules = get_modules(package) # å°†åŒ…ä¸‹çš„æ‰€æœ‰æ¨¡å—ï¼Œé€ä¸ªå¯¼å…¥ï¼Œå¹¶è°ƒç”¨å…¶ä¸­çš„å‡½æ•° for module in modules: module = importlib.import_module(module, package) for attr in dir(module): if not attr.startswith(&quot;__&quot;): func = getattr(module, attr) func() &quot;&quot;&quot; show A show B &quot;&quot;&quot; pkgutil 12345678910111213import pkgutil# åŒ…æ‰©å±•å·¥å…·# ä¸€ä¸ª.pyæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªpythonæ¨¡å—ï¼ˆmoduleï¼‰ï¼Œå¦‚æœä¸€ä¸ªç›®å½•ä¸‹é¢æœ‰ä¸€ä¸ª__init__.pyæ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªç›®å½•å°±æ˜¯ä¸€ä¸ªpythonåŒ…ï¼ˆpackageï¼‰# å®é™…ä¸ŠåŒ…æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ¨¡å—ï¼Œè€Œä»»ä½•å®šä¹‰äº†__path__å±æ€§çš„æ¨¡å—éƒ½è¢«å½“åšåŒ…ã€‚iter_modules(path=None, prefix=&#x27;&#x27;)# pathæ˜¯åŒ…çš„ç›®å½•è·¯å¾„ï¼Œprefixæ˜¯è¾“å‡ºæ—¶ï¼Œæ‰€æœ‰åŒ…çš„åå­—çš„å‰ç¼€ã€‚ç”¨æ¥è·å–è¯¥pathä¸‹çš„å­æ¨¡å—æˆ–å­åŒ…ã€‚walk_packages(path=None, prefix=&#x27;&#x27;, onerror=None)# åŒä¸Šï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•æ˜¯é€’å½’è·å–è·¯å¾„ä¸‹çš„æ‰€æœ‰æ¨¡å—ã€‚for _, name, ispkg in pkgutil.walk_packages(test.__path__, test.__name__ + &quot;.&quot;): print &quot;name: &#123;0:12&#125;, is_sub_package: &#123;1&#125;&quot;.format(name, ispkg) zipimport 123import zipimport# ä»zipæ–‡æ¡£ä¸­å¯¼å…¥åŒ… 1","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"python3 æ ‡å‡†åº“","slug":"python3-æ ‡å‡†åº“","permalink":"https://gladdduck.github.io/tags/python3-%E6%A0%87%E5%87%86%E5%BA%93/"}]},{"title":"pythonæ ‡å‡†åº“-2","slug":"ç¬”è®°-python3lib-2","date":"2023-03-30T05:59:49.971Z","updated":"2023-04-02T03:25:37.260Z","comments":true,"path":"2023/03/30/ç¬”è®°-python3lib-2/","link":"","permalink":"https://gladdduck.github.io/2023/03/30/%E7%AC%94%E8%AE%B0-python3lib-2/","excerpt":"","text":"æ•°å­¦æ¨¡å— decimal 1234import decimal# ç²¾å‡†çš„å°æ•°è®¡ç®—# å¯ä»¥è®¾ç½®ç²¾åº¦,å–å€¼ç­‰ fractions 123456789101112131415161718192021222324252627282930import fractions# åˆ†æ•°/æœ‰ç†æ•° åŠ å‡ä¹˜é™¤æ­£å¸¸ç”¨# åˆ›å»º å°æ•°\\å­—ç¬¦ä¸²\\æ•´æ•° éƒ½è¡Œfor v in [0.1, 0.5, 1.5, 2.0]: print(&#x27;&#123;&#125; = &#123;&#125;&#x27;.format(v, fractions.Fraction(v))) for s in [&#x27;1/2&#x27;, &#x27;2/4&#x27;, &#x27;3/6&#x27;]: f = fractions.Fraction(s) print(&#x27;&#123;&#125; = &#123;&#125;&#x27;.format(s, f)) for s in [&#x27;0.5&#x27;, &#x27;1.5&#x27;, &#x27;2.0&#x27;, &#x27;5e-1&#x27;]: f = fractions.Fraction(s) print(&#x27;&#123;0:&gt;4&#125; = &#123;1&#125;&#x27;.format(s, f))for n, d in [(1, 2), (2, 4), (3, 6)]: f = fractions.Fraction(n, d) print(&#x27;&#123;&#125;/&#123;&#125; = &#123;&#125;&#x27;.format(n, d, f)) # ç²¾ç¡®åº¦import fractionsimport mathprint(&#x27;PI =&#x27;, math.pi)f_pi = fractions.Fraction(str(math.pi))print(&#x27;No limit =&#x27;, f_pi)for i in [1, 6, 11, 60, 70, 90, 100]: limited = f_pi.limit_denominator(i) print(&#x27;&#123;0:8&#125; = &#123;1&#125;&#x27;.format(i, limited)) 0.1 = 3602879701896397/36028797018963968 0.5 = 1/2 1.5 = 3/2 2.0 = 2 1/2 = 1/2 2/4 = 1/2 3/6 = 1/2 0.5 = 1/2 1.5 = 3/2 2.0 = 2 5e-1 = 1/2 1/2 = 1/2 2/4 = 1/2 3/6 = 1/2 PI = 3.141592653589793 No limit = 3141592653589793/1000000000000000 1 = 3 6 = 19/6 11 = 22/7 60 = 179/57 70 = 201/64 90 = 267/85 100 = 311/99 random 1234567891011121314import random# r1=random.Random()# r2=random.Random()# r1r2äº’ä¸å½±å“# random ç”Ÿæˆä¸€ä¸ª[0,1)çš„å°æ•°for i in range(5): print(&#x27;%04.3f&#x27; % random.random(), end=&#x27; &#x27;)print()# æŒ‡å®šåŒºé—´çš„å°æ•°for i in range(5): print(&#x27;&#123;:04.3f&#125;&#x27;.format(random.uniform(1, 100)), end=&#x27; &#x27;)print() 0.413 0.516 0.783 0.878 0.469 50.379 1.563 83.167 90.209 54.711 123456# å›ºå®šç§å­ï¼Œæ€ä¹ˆè¿è¡Œéƒ½æ˜¯ç›¸åŒçš„æ•°random.seed(1)for i in range(5): print(&#x27;&#123;:04.3f&#125;&#x27;.format(random.random()), end=&#x27; &#x27;)print() 0.134 0.847 0.764 0.255 0.495 1234567891011# éšæœºæ•´æ•°print(&#x27;[1, 100]:&#x27;, end=&#x27; &#x27;)for i in range(3): print(random.randint(1, 100), end=&#x27; &#x27;)print(&#x27;\\n[-5, 5]:&#x27;, end=&#x27; &#x27;)for i in range(3): print(random.randint(-5, 5), end=&#x27; &#x27;)print() [1, 100]: 58 61 84 [-5, 5]: 1 -2 -4 123456789101112131415161718192021222324252627# ä»åºåˆ—ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªoutcomes = &#123; &#x27;heads&#x27;: 0, &#x27;tails&#x27;: 0,&#125;sides = list(outcomes.keys())for i in range(10000): outcomes[random.choice(sides)] += 1print(&#x27;Heads:&#x27;, outcomes[&#x27;heads&#x27;])print(&#x27;Tails:&#x27;, outcomes[&#x27;tails&#x27;])# æ‰“ä¹±åºåˆ—l=[i for i in range(10)]print(f&#x27;l :&#123;l&#125;&#x27;)random.shuffle(l)print(f&#x27;shuffled l:&#123;l&#125;&#x27;)# é‡‡æ ·samplelist=random.sample(l, 5)print(f&#x27;sample l:&#123;samplelist&#125;&#x27;) Heads: 4902 Tails: 5098 l :[0, 1, 2, 3, 4, 5, 6, 7, 8, 9] shuffled l:[9, 4, 8, 3, 6, 7, 0, 5, 2, 1] sample l:[4, 6, 9, 5, 3] 123# éå‡åŒ€åˆ†å¸ƒ# é«˜æ–¯åˆ†å¸ƒï¼Œæ­£æ€åˆ†å¸ƒrandom.gauss(mu=1,sigma=2) -0.21029077107544225 math 1234567891011121314151617181920212223242526272829303132import math# å¸¸è§å¸¸é‡print(&#x27; Ï€: &#123;:.30f&#125;&#x27;.format(math.pi))print(&#x27; e: &#123;:.30f&#125;&#x27;.format(math.e))print(&#x27;nan: &#123;:.30f&#125;&#x27;.format(math.nan))print(&#x27;inf: &#123;:.30f&#125;&#x27;.format(math.inf))# åˆ¤æ–­å¼‚å¸¸å€¼print(math.isinf(10.0 ** 140))print(math.isinf((10.0 ** 200)*(10.0 ** 200))) # æ¯”è¾ƒ,æ ¹æ®ç›¸å¯¹è¯¯å·®å’Œç»å¯¹è¯¯å·®print(&#x27;=&#x27;*10)print(math.isclose(1000,900, rel_tol=0.1))print(math.isclose(1000,900, abs_tol=0.1))# æµ®ç‚¹æ•°è½¬æ•´æ•°# trunc() ç›´æ¥æˆªæ–­ åªç•™æ•´æ•°éƒ¨åˆ†# floor() ä¸å¤§äºä»–çš„æ•´æ•°# ceil() æ•°è½´å·¦ä¾§çš„æœ€å°æ•´æ•°import mathprint(&#x27;=&#x27;*10)HEADINGS = (&#x27;i&#x27;, &#x27;int&#x27;, &#x27;trunk&#x27;, &#x27;floor&#x27;, &#x27;ceil&#x27;)print(&#x27;&#123;:^5&#125; &#123;:^5&#125; &#123;:^5&#125; &#123;:^5&#125; &#123;:^5&#125;&#x27;.format(*HEADINGS))print(&#x27;&#123;:-^5&#125; &#123;:-^5&#125; &#123;:-^5&#125; &#123;:-^5&#125; &#123;:-^5&#125;&#x27;.format(&#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;,))fmt = &#x27;&#123;:5.1f&#125; &#123;:5.1f&#125; &#123;:5.1f&#125; &#123;:5.1f&#125; &#123;:5.1f&#125;&#x27;TEST_VALUES = [-1.5,-0.8,-0.5,-0.2,0,0.2,0.5,0.8,1,]for i in TEST_VALUES: print(fmt.format(i,int(i),math.trunc(i),math.floor(i),math.ceil(i),)) Ï€: 3.141592653589793115997963468544 e: 2.718281828459045090795598298428 nan: nan inf: inf False True ========== True False ========== i int trunk floor ceil ----- ----- ----- ----- ----- -1.5 -1.0 -1.0 -2.0 -1.0 -0.8 0.0 0.0 -1.0 0.0 -0.5 0.0 0.0 -1.0 0.0 -0.2 0.0 0.0 -1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.2 0.0 0.0 0.0 1.0 0.5 0.0 0.0 0.0 1.0 0.8 0.0 0.0 0.0 1.0 1.0 1.0 1.0 1.0 1.0 1234567891011121314151617181920# åˆ’åˆ†æ•´æ•°å’Œå°æ•°for i in range(6): print(&#x27;&#123;&#125;/2 = &#123;&#125;&#x27;.format(i, math.modf(i / 2.0)))# æ’åˆ—ç»„åˆæ•°print(&#x27;&#123;:2.0f&#125; &#123;:6.0f&#125;&#x27;.format(10, math.factorial(10)))# æµ®ç‚¹æ•°ç²¾ç¡®è®¡ç®—values = [0.1] * 10print(&#x27;for-loop : &#123;:.20f&#125;&#x27;.format(sum(values)))print(&#x27;math.fsum() : &#123;:.20f&#125;&#x27;.format(math.fsum(values)))# gcd æœ€å¤§å…¬çº¦æ•°print(math.gcd(10, 8))print(math.gcd(10, 0))print(math.gcd(50, 225))print(math.gcd(11, 9))print(math.gcd(0, 0))# å…¶ä»–ç‰¹æ®Šå‡½æ•° 0/2 = (0.0, 0.0) 1/2 = (0.5, 0.0) 2/2 = (0.0, 1.0) 3/2 = (0.5, 1.0) 4/2 = (0.0, 2.0) 5/2 = (0.5, 2.0) 10 3628800 for-loop : 0.99999999999999988898 math.fsum() : 1.00000000000000000000 2 10 25 1 0 statistics 123456789101112131415161718from statistics import *data = [1, 2, 2, 5, 10, 12]# å‡å€¼print(&#x27;&#123;:0.2f&#125;&#x27;.format(mean(data)))# ä¸­ä½æ•°print(&#x27;median : &#123;:0.2f&#125;&#x27;.format(median(data)))print(&#x27;low : &#123;:0.2f&#125;&#x27;.format(median_low(data)))print(&#x27;high : &#123;:0.2f&#125;&#x27;.format(median_high(data)))# ä¼—æ•°print(mode(data))# æ ‡å‡†å·®,æ–¹å·®print(&#x27; pstdev : &#123;:6.2f&#125;&#x27;.format(pstdev(data)))print(&#x27; pvariance : &#123;:6.2f&#125;&#x27;.format(pvariance(data))) 5.33 median : 3.50 low : 2.00 high : 5.00 2 pstdev : 4.23 pvariance : 17.89 æ–‡ä»¶ç³»ç»Ÿ os.path 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647import osimport time# os.path æŠŠè·¯å¾„å½“ä½œå­—ç¬¦ä¸²å¤„ç†&#x27;&#x27;&#x27;# ç›¸å¯¹è·¯åŠ²æ”¹ä¸ºç»å¯¹è·¯å¾„abspath# å…¬å…±è·¯å¾„commonpath()# å…¬å…±å‰ç¼€commonprefix()# è·¯å¾„çš„æœ€åä¸€éƒ¨åˆ†basename# è·¯å¾„çš„å‰é¢çš„éƒ¨åˆ†dirname# æ–‡ä»¶æ˜¯å¦å­˜åœ¨exists# å­—ç¬¦ä¸²åˆå¹¶è·¯å¾„join()# æ¸…é™¤å¤šä½™åˆ†éš”ç¬¦æˆ–è€…ç›¸å¯¹è·¯å¾„normpath# æŠŠç¯å¢ƒå˜é‡çš„æŒ‡ç¤ºç¬¦æ¢æˆçœŸæ­£çš„å€¼expandvars# è®¿é—®æ—¶é—´getatime# ä¿®æ”¹æ—¶é—´getmtime# åˆ›å»ºæ—¶é—´getctime# è¿”å›å­—èŠ‚å¤§å°getsize&#x27;&#x27;&#x27;FILENAMES = [ # os.path.dirname(__file__), &#x27;D:\\BaiduSyncdisk\\Blog\\source&#x27;,]for file in FILENAMES: print(&#x27;File : &#123;!r&#125;&#x27;.format(file)) print(&#x27;Absolute :&#x27;, os.path.isabs(file)) print(&#x27;Is File? :&#x27;, os.path.isfile(file)) print(&#x27;Is Dir? :&#x27;, os.path.isdir(file)) print(&#x27;Is Link? :&#x27;, os.path.islink(file)) print(&#x27;Mountpoint? :&#x27;, os.path.ismount(file)) print(&#x27;Exists? :&#x27;, os.path.exists(file)) print(&#x27;Link Exists?:&#x27;, os.path.lexists(file)) print() File : 'D:\\\\BaiduSyncdisk\\\\Blog\\\\source' Absolute : True Is File? : False Is Dir? : True Is Link? : False Mountpoint? : False Exists? : True Link Exists?: True pathlib 1234567891011121314151617181920import pathlibfrom pathlib import *# æŠŠè·¯åŠ²å½“ä½œå¯¹è±¡p = Path(r&#x27;./&#x27;)# iterdirç›®å½•ç§çš„æ¯ä¸ªç”Ÿæˆä¸€ä¸ªå¯¹è±¡print([x for x in p.iterdir() if x.is_dir()])# æ¨¡å¼æŸ¥è¯¢æ‰€æœ‰æ–‡æœ¬print(list(p.glob(&#x27;python3lib*.ipynb&#x27;)))print(p.exists())print(p.is_dir())# p.mkdir()# p.rmdir() #ç©ºç›®å½•# p.unlink() #æ–‡ä»¶ç­‰å…¶ä»–# ç›´æ¥ç”¨/æ‹¼æ¥å­—ç¬¦ä¸²q=p/&#x27;python3lib-1.ipynb&#x27;print(q)# è¯»æ–‡ä»¶with q.open() as f: print(f.readline()) [] [WindowsPath('python3lib-1.ipynb'), WindowsPath('python3lib-2.ipynb')] True True python3lib-1.ipynb &#123; 1234567891011121314151617181920212223242526272829# Check the file typesimport itertoolsp = Path(r&#x27;../&#x27;)to_scan = itertools.chain( p.iterdir(),)hfmt = &#x27;&#123;:18s&#125;&#x27; + (&#x27; &#123;:&gt;5&#125;&#x27; * 6)print(hfmt.format(&#x27;Name&#x27;, &#x27;File&#x27;, &#x27;Dir&#x27;, &#x27;Link&#x27;, &#x27;FIFO&#x27;, &#x27;Block&#x27;, &#x27;Character&#x27;))print()fmt = &#x27;&#123;:20s&#125; &#x27; + (&#x27;&#123;!r:&gt;5&#125; &#x27; * 6)for f in to_scan: print(fmt.format( str(f), f.is_file(), f.is_dir(), f.is_symlink(), f.is_fifo(), f.is_block_device(), f.is_char_device(), )) p = pathlib.Path(r&#x27;../_post&#x27;)print(&#x27;path : &#123;&#125;&#x27;.format(p))print(&#x27;name : &#123;&#125;&#x27;.format(p.name))print(&#x27;suffix: &#123;&#125;&#x27;.format(p.suffix))print(&#x27;stem : &#123;&#125;&#x27;.format(p.stem)) Name File Dir Link FIFO Block Character ..\\404 False True False False False False ..\\about False True False False False False ..\\books False True False False False False ..\\categories False True False False False False ..\\links False True False False False False ..\\repository False True False False False False ..\\tags False True False False False False ..\\_data False True False False False False ..\\_posts False True False False False False path : ..\\_post name : _post suffix: stem : _post 1234567891011121314p = pathlib.Path(r&#x27;./&#x27;)stat_info = p.stat()print(&#x27;&#123;&#125;:&#x27;.format(r&#x27;./&#x27;))print(&#x27; Size:&#x27;, stat_info.st_size)print(&#x27; Permissions:&#x27;, oct(stat_info.st_mode))print(&#x27; Owner:&#x27;, stat_info.st_uid)print(&#x27; Device:&#x27;, stat_info.st_dev)print(&#x27; Created :&#x27;, time.ctime(stat_info.st_ctime))print(&#x27; Last modified:&#x27;, time.ctime(stat_info.st_mtime))print(&#x27; Last accessed:&#x27;, time.ctime(stat_info.st_atime))# touch()åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ›´æ–°ä¿®æ”¹æ—¶é—´# chmod()æ›´æ”¹æƒé™ ./: Size: 4096 Permissions: 0o40777 Owner: 0 Device: 3527538052 Created : Sat Oct 22 08:58:30 2022 Last modified: Thu Mar 16 13:20:36 2023 Last accessed: Thu Mar 16 13:36:45 2023 path : ..\\_post name : _post suffix: stem : _post glob 12345678910import glob# æŸ¥æ‰¾åŒ¹é…,ç±»ä¼¼æ­£åˆ™# åªä¼šåŒ¹é…ç›®ä¸­çš„æ‰€æœ‰è·¯å¾„,ä¸ä¼šé€’å½’çš„æœç´¢åˆ°å­ç›®å½•# *åŒ¹é…å¤šä¸ª ?åŒ¹é…ä¸€ä¸ªfor name in sorted(glob.glob(&#x27;./*.md&#x27;))[:5]: print(name) .\\LeetCode75.md .\\LeetCodeå‰‘æŒ‡offer1.md .\\Linuxå¸¸ç”¨å‘½ä»¤.md .\\Neo4j.md .\\Neo4jå®‰è£….md fnmatch 12345678910111213141516171819import fnmatchimport osimport pprintpattern = &#x27;python*.ipynb&#x27;print(&#x27;Pattern :&#x27;, pattern)files = list(sorted(os.listdir(&#x27;.&#x27;)))print(&#x27;\\nFiles :&#x27;)pprint.pprint(files[:5])print(&#x27;\\nMatches :&#x27;)pprint.pprint(fnmatch.filter(files, pattern))# è¿”å›æ˜¯å¦åŒ¹é…for name in sorted(files)[:3]: print(&#x27;Filename: &#123;:&lt;25&#125; &#123;&#125;&#x27;.format( name, fnmatch.fnmatchcase(name, pattern))) Pattern : python*.ipynb Files : ['LeetCode75.md', 'LeetCodeå‰‘æŒ‡offer1.md', 'Linuxå¸¸ç”¨å‘½ä»¤.md', 'Neo4j.md', 'Neo4jå®‰è£….md'] Matches : ['python3lib-1.ipynb', 'python3lib-2.ipynb'] Filename: LeetCode75.md False Filename: LeetCodeå‰‘æŒ‡offer1.md False Filename: Linuxå¸¸ç”¨å‘½ä»¤.md False linechache 123456789101112import linecache# é«˜æ•ˆè¯»å–æ–‡æœ¬æ–‡ä»¶filename=r&#x27;D:\\BaiduSyncdisk\\Blog\\source\\_posts\\ç¬¬ä¸€ç¯‡åšå®¢è®°å½•.md&#x27;# è¶…è¿‡å›è¿”å›ç©ºå­—ç¬¦ç©¿print(&#x27;&#123;!r&#125;&#x27;.format(linecache.getline(filename, 2)))# è¯»å–pythonæºæ–‡ä»¶ä»£ç module_line = linecache.getline(&#x27;linecache.py&#x27;, 3)print(&#x27;MODULE:&#x27;)print(repr(module_line)) 'title: ç¬¬ä¸€ç¯‡åšå®¢è®°å½•\\n' MODULE: 'This is intended to read lines from modules imported -- hence if a filename\\n' tempfile 12345678910111213141516171819202122232425262728293031323334353637import tempfile# ä¸´æ—¶æ–‡ä»¶å¯¹è±¡import pathlibimport tempfile# é»˜è®¤æ˜¯åœ¨ç³»ç»Ÿçš„ä¸´æ—¶æ–‡ä»¶åŒºåˆ›å»ºimport tempfileprint(&#x27;gettempdir():&#x27;, tempfile.gettempdir())print(&#x27;gettempprefix():&#x27;, tempfile.gettempprefix())# å…³é—­æ–‡ä»¶å›åˆ é™¤,é»˜è®¤å¥æŸ„æ˜¯w+b# TemporaryFile()æ²¡æœ‰æ–‡ä»¶åwith tempfile.NamedTemporaryFile(mode=&#x27;w+t&#x27;, suffix=&#x27;_suffix&#x27;, prefix=&#x27;prefix_&#x27;, dir=&#x27;./&#x27;) as temp: temp.write(&#x27;Some data&#x27;) # å›æ»šåˆ°å‰é¢ temp.seek(0) print(temp.read()) print(&#x27;temp.name:&#x27;) print(&#x27; &#123;!r&#125;&#x27;.format(temp.name)) f = pathlib.Path(temp.name)print(&#x27;Exists after close:&#x27;, f.exists())# ä¸´æ—¶ç›®å½•with tempfile.TemporaryDirectory() as directory_name: the_dir = pathlib.Path(directory_name) print(the_dir) a_file = the_dir / &#x27;a_file.txt&#x27; a_file.write_text(&#x27;This file is deleted.&#x27;) print(a_file.read_text())print(&#x27;Directory exists after?&#x27;, the_dir.exists())print(&#x27;Contents after:&#x27;, list(the_dir.glob(&#x27;*&#x27;))) gettempdir(): C:\\Users\\Ada\\AppData\\Local\\Temp gettempprefix(): tmp Some data temp.name: 'd:\\\\BaiduSyncdisk\\\\Blog\\\\source\\\\_posts\\\\prefix_0iyyalif_suffix' Exists after close: False C:\\Users\\Ada\\AppData\\Local\\Temp\\tmpm9xfa5bw This file is deleted. Directory exists after? False Contents after: [] 1234567891011121314import tempfile# SpooledTemporaryFile åˆ°ä¸€å®šé˜ˆå€¼æ‰å†™è¿›å»æ–‡ä»¶with tempfile.SpooledTemporaryFile(max_size=1000, mode=&#x27;w+t&#x27;, encoding=&#x27;utf-8&#x27;) as temp: print(&#x27;temp: &#123;!r&#125;&#x27;.format(temp.name)) for i in range(3): temp.write(&#x27;This line is repeated over and over.\\n&#x27;) print(temp._rolled, temp._file) print(&#x27;rolling over&#x27;) # æ‰‹åŠ¨æŒ‡å®š temp.rollover() print(temp._rolled, temp._file) temp: None False &lt;_io.TextIOWrapper encoding='utf-8'&gt; False &lt;_io.TextIOWrapper encoding='utf-8'&gt; False &lt;_io.TextIOWrapper encoding='utf-8'&gt; rolling over True &lt;tempfile._TemporaryFileWrapper object at 0x000001E88C4ECE20&gt; shutil 12345678910111213141516171819202122232425# é«˜å±‚æ–‡ä»¶æ“ä½œimport globimport shutilprint(&#x27;BEFORE:&#x27;, glob.glob(&#x27;./doing.*&#x27;))# å¤åˆ¶æ–‡ä»¶,åº•å±‚å‡½æ•°copyfileobj()# shutil.copyfile(&#x27;./doing.ipynb&#x27;, &#x27;./doing.ipynb.copy&#x27;)print(&#x27;AFTER:&#x27;, glob.glob(&#x27;./doing.*&#x27;))# copy()å¦‚æœæŒ‡å®šç›®å½•,å°±ä¼šç”¨æºæ–‡ä»¶å,copy2ä¼šå¤åˆ¶æ–‡ä»¶è®¿é—®ä¿®æ”¹æ—¶é—´# shutil.copy(&#x27;doing.ipynb&#x27;, &#x27;example&#x27;)# æ‹·è´æƒé™,å’Œå…¶ä»–å…ƒç´ # shutil.copymode()# shutil.copystat()# æ‹·è´ç›®å½•,å¯ä»¥è¿‡æ»¤æŸäº›# shutil.copytree()# åˆ é™¤ç›®å½•# shutil.rmtree()# ç§»åŠ¨,å¦‚æœåœ¨åŒç›®å½•ä¸ä¸€æ ·çš„åå­—å°±æ˜¯å¤åˆ¶,å¦åˆ™ç§»åŠ¨# shutil.move()print(shutil.which(&#x27;virtualenv&#x27;))print(shutil.which(&#x27;ï¼ˆå°åŒºï¼‰13å¹¢åŒ—ä¾§åƒåœ¾äº­å‘¨è¾¹è¢‹è£…åƒåœ¾1å¤„(3).jpg&#x27;))print(shutil.which(&#x27;no-such-program&#x27;)) BEFORE: ['.\\\\doing.ipynb'] AFTER: ['.\\\\doing.ipynb'] E:\\Anaconda3\\envs\\AAA\\Scripts\\virtualenv.EXE None None 1234567891011121314151617181920212223242526# # å‹ç¼©è§£å‹ç¼©æ–‡ä»¶# import logging# import shutil# import sys# import tarfile# logging.basicConfig(# format=&#x27;%(message)s&#x27;,# stream=sys.stdout,# level=logging.DEBUG,# )# logger = logging.getLogger(&#x27;pymotw&#x27;)# print(&#x27;Creating archive:&#x27;)# shutil.make_archive(# &#x27;example&#x27;, &#x27;gztar&#x27;,# root_dir=&#x27;..&#x27;,# base_dir=&#x27;./&#x27;,# logger=logger,# )# print(&#x27;\\nArchive contents:&#x27;)# with tarfile.open(&#x27;example.tar.gz&#x27;, &#x27;r&#x27;) as t:# for n in t.getnames():# print(n) 12345# import shutil# # è§£å‹ç¼©æ–‡ä»¶# for format, exts, description in shutil.get_unpack_formats(&#x27;æ–‡ä»¶å&#x27;):# print(&#x27;&#123;:&lt;5&#125;: &#123;&#125;, names ending in &#123;&#125;&#x27;.format(# format, description, exts)) 1234567891011121314import shutil# æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç©ºé—´total_b, used_b, free_b = shutil.disk_usage(&#x27;.&#x27;)gib = 2 ** 30 # GiB == gibibytegb = 10 ** 9 # GB == gigabyteprint(&#x27;Total: &#123;:6.2f&#125; GB &#123;:6.2f&#125; GiB&#x27;.format( total_b / gb, total_b / gib))print(&#x27;Used : &#123;:6.2f&#125; GB &#123;:6.2f&#125; GiB&#x27;.format( used_b / gb, used_b / gib))print(&#x27;Free : &#123;:6.2f&#125; GB &#123;:6.2f&#125; GiB&#x27;.format( free_b / gb, free_b / gib)) Total: 209.72 GB 195.31 GiB Used : 67.00 GB 62.40 GiB Free : 142.72 GB 132.92 GiB filecmp 1234567import filecmp# shadow æ˜¯å¦æ¯”è¾ƒæ–‡ä»¶å†…å®¹filecmp.cmp(&#x27;&#x27;,&#x27;&#x27;,shallow=True)# åªæ¯”è¾ƒå½“å‰ç›®å½•,ä¸æ¯”è¾ƒå†…å®¹filecmp.dircmp(&#x27;&#x27;,&#x27;&#x27;) mmap 123456789101112131415161718import mmap# ä½¿ç”¨æ“ä½œç³»ç»Ÿè™šæ‹Ÿå†…å­˜æ¥è®¿é—®æ•°æ®with open(&#x27;./doing.ipynb&#x27;, &#x27;r&#x27;) as f: with mmap.mmap(f.fileno(), 0, access=mmap.ACCESS_READ) as m: # æŒ‡é’ˆå‘å³ç§»åŠ¨10 print(&#x27;First 10 bytes via read :&#x27;, m.read(10)) # åˆ†ç‰‡æ“ä½œç¬¦å°†æŒ‡é’ˆç§»å›èµ·å§‹ä½ç½®,åˆ†ç‰‡åœ¨å‘å³ç§»åŠ¨10 print(&#x27;First 10 bytes via slice:&#x27;, m[:10]) # å†å‘å³ç§»åŠ¨10 print(&#x27;2nd 10 bytes via read :&#x27;, m.read(10)) # m.flush() ä¿®æ”¹ # å•ç‹¬å›æ»š # m.seek(0) # rewind # f.seek(0) # rewind First 10 bytes via read : b'&#123;\\n &quot;cells&quot;' First 10 bytes via slice: b'&#123;\\n &quot;cells&quot;' 2nd 10 bytes via read : b': [\\n &#123;\\n ' codes 12345# ç¼–ç !# unicode# utf-8# assic# ... io 1234567891011121314import iooutput = io.StringIO()output.write(&#x27;This goes into the buffer. &#x27;)# å¯ä»¥æ›¿æ¢æˆæ–‡ä»¶print(&#x27;And so does this.&#x27;, file=output)# Retrieve the value writtenprint(output.getvalue())output.close() # discard buffer memory# Initialize a read bufferinput = io.StringIO(&#x27;Inital value for read buffer&#x27;)# Read from the bufferprint(input.read()) This goes into the buffer. And so does this. Inital value for read buffer 12345678910output = io.BytesIO()output.write(&#x27;This goes into the buffer. &#x27;.encode(&#x27;utf-8&#x27;))output.write(&#x27;ÃÃ‡ÃŠ&#x27;.encode(&#x27;utf-8&#x27;))# Retrieve the value writtenprint(output.getvalue())output.close() # discard buffer memory# Initialize a read bufferinput = io.BytesIO(b&#x27;Inital value for read buffer&#x27;)# Read from the bufferprint(input.read()) b'This goes into the buffer. \\xc3\\x81\\xc3\\x87\\xc3\\x8a' b'Inital value for read buffer' æ•°æ®æŒä¹…å­˜å‚¨ä¸äº¤æ¢ pickle 123456789import pickle# å¸¦sçš„æ˜¯å­—ç¬¦ä¸²# ä¸å¸¦sçš„æ˜¯æ–‡ä»¶pickle.loads()pickle.load()pickle.dump()pickle.dumps() json 12345678910import json# å¸¦sçš„æ˜¯å­—ç¬¦ä¸²# ä¸å¸¦sçš„æ˜¯æ–‡ä»¶json.loads()json.load()json.dump()json.dumps() shelve,dbm 123import shelveimport dbm# ç±»ä¼¼äºå­—å…¸,æŒ‰é”®è®¿é—® sqlite3 123import sqlite3# è¿›ç¨‹ä¸­çš„åµŒå…¥å¼å…³ç³»æ•°æ®åº“ xml 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152from xml.etree import ElementTree# å¿…é¡»ä¸€æ¬¡æ€§éå†å…¨éƒ¨æ–‡æ¡£# æŒ‰é¡ºåºè®¿é—®æ‰€æœ‰å­èŠ‚ç‚¹iter()f=&#x27;&#x27;&#x27;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;PurchaseOrder PurchaseOrderNumber=&quot;99503&quot; OrderDate=&quot;1999-10-20&quot;&gt; &lt;Address Type=&quot;Shipping&quot;&gt; &lt;Name&gt;Ellen Adams&lt;/Name&gt; &lt;Street&gt;123 Maple Street&lt;/Street&gt; &lt;City&gt;Mill Valley&lt;/City&gt; &lt;State&gt;CA&lt;/State&gt; &lt;Zip&gt;10999&lt;/Zip&gt; &lt;Country&gt;USA&lt;/Country&gt; &lt;/Address&gt; &lt;Address Type=&quot;Billing&quot;&gt; &lt;Name&gt;Tai Yee&lt;/Name&gt; &lt;Street&gt;8 Oak Avenue&lt;/Street&gt; &lt;City&gt;Old Town&lt;/City&gt; &lt;State&gt;PA&lt;/State&gt; &lt;Zip&gt;95819&lt;/Zip&gt; &lt;Country&gt;USA&lt;/Country&gt; &lt;/Address&gt; &lt;DeliveryNotes&gt;Please leave packages in shed by driveway.&lt;/DeliveryNotes&gt; &lt;Items&gt; &lt;Item PartNumber=&quot;872-AA&quot;&gt; &lt;ProductName&gt;Lawnmower&lt;/ProductName&gt; &lt;Quantity&gt;1&lt;/Quantity&gt; &lt;USPrice&gt;148.95&lt;/USPrice&gt; &lt;Comment&gt;Confirm this is electric&lt;/Comment&gt; &lt;/Item&gt; &lt;Item PartNumber=&quot;926-AA&quot;&gt; &lt;ProductName&gt;Baby Monitor&lt;/ProductName&gt; &lt;Quantity&gt;2&lt;/Quantity&gt; &lt;USPrice&gt;39.98&lt;/USPrice&gt; &lt;ShipDate&gt;1999-05-21&lt;/ShipDate&gt; &lt;/Item&gt; &lt;/Items&gt;&lt;/PurchaseOrder&gt;&#x27;&#x27;&#x27;tree=ElementTree.fromstring(f)# for item in tree.iter(): print(item.tag) print(item.text) break# ä½¿ç”¨attrib.get()è·å–å±æ€§for item in tree.iter(&#x27;PurchaseOrder&#x27;): print(item.attrib.get(&#x27;OrderDate&#x27;)) print(item.attrib.items())# findallè·å–æ‰€æœ‰èŠ‚ç‚¹for item in tree.findall(&#x27;./PurchaseOrder/Items/Item&#x27;): print(item.attrib.get(&#x27;PartNumber&#x27;)) PurchaseOrder 1999-10-20 dict_items([('PurchaseOrderNumber', '99503'), ('OrderDate', '1999-10-20')]) csv æ•°æ®å‹ç¼©äºå½’æ¡£ 123456import zlibimport gzipimport bz2import tarfileimport zipfile åŠ å¯† 1234567import hashlib# å¯ç”¨åŠ å¯†ç®—æ³•print(&#x27;Guaranteed:\\n&#123;&#125;\\n&#x27;.format( &#x27;, &#x27;.join(sorted(hashlib.algorithms_guaranteed))))print(&#x27;Available:\\n&#123;&#125;&#x27;.format( &#x27;, &#x27;.join(sorted(hashlib.algorithms_available)))) Guaranteed: blake2b, blake2s, md5, sha1, sha224, sha256, sha384, sha3_224, sha3_256, sha3_384, sha3_512, sha512, shake_128, shake_256 Available: blake2b, blake2s, md4, md5, md5-sha1, mdc2, ripemd160, sha1, sha224, sha256, sha384, sha3_224, sha3_256, sha3_384, sha3_512, sha512, sha512_224, sha512_256, shake_128, shake_256, sm3, whirlpool 1import hmac ä½¿ç”¨è¿›ç¨‹ã€çº¿ç¨‹å’Œåç¨‹æä¾›å¹¶å‘æ€§ 1 1 1 1 1 1","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"python3 æ ‡å‡†åº“","slug":"python3-æ ‡å‡†åº“","permalink":"https://gladdduck.github.io/tags/python3-%E6%A0%87%E5%87%86%E5%BA%93/"}]},{"title":"pythonæ ‡å‡†åº“-1","slug":"ç¬”è®°-python3lib-1","date":"2023-03-30T05:59:34.925Z","updated":"2023-04-02T03:25:27.941Z","comments":true,"path":"2023/03/30/ç¬”è®°-python3lib-1/","link":"","permalink":"https://gladdduck.github.io/2023/03/30/%E7%AC%94%E8%AE%B0-python3lib-1/","excerpt":"","text":"12# help()å‡½æ•°æŸ¥çœ‹# https://learnku.com/docs/pymotw/date-and-time/3380 æ–‡æœ¬å¤„ç† string 1234567891011121314151617181920212223import string# æ–‡æœ¬å¸¸é‡,æ ¼å¼åŒ–,æ¨¡æ¿print(string.ascii_letters)print(string.printable )print(string.hexdigits)print(string.octdigits)print(&#x27;&#123;:&lt;30&#125;&#x27;.format(&#x27;left aligned&#x27;))print(&#x27;&#123;:0&gt;30&#125;&#x27;.format(&#x27;right aligned&#x27;))print(&#x27;&#123;:^30&#125;&#x27;.format(&#x27;centered&#x27;))print(&#x27;&#123;:*^30&#125;&#x27;.format(&#x27;centered&#x27;))print(f&#x27;&#123;&quot;centered&quot;:*^30&#125;&#x27;)print(&quot;int: &#123;0:d&#125;; hex: &#123;0:x&#125;; oct: &#123;0:o&#125;; bin: &#123;0:b&#125;&quot;.format(42))print(&quot;int: &#123;0:d&#125;; hex: &#123;0:#x&#125;; oct: &#123;0:#o&#125;; bin: &#123;0:#b&#125;&quot;.format(42))print(f&quot;int: &#123;42:d&#125;; hex: &#123;42:#x&#125;; oct: &#123;42:#o&#125;; bin: &#123;42:#b&#125;&quot;) # æ€»æ˜¯æ˜¾ç¤ºå®ƒç¬¦å·formatstr = &#x27;&#123;:+f&#125;; &#123;:+f&#125;&#x27;.format(3.14, -3.14) print(formatstr) # æ­£æ•°å‰æ˜¾ç¤ºç©ºæ ¼formatstr = &#x27;&#123;: f&#125;; &#123;: f&#125;&#x27;.format(3.14, -3.14) print(formatstr) # åªæ˜¾ç¤ºè´Ÿå· åŒ &#x27;&#123;:f&#125;; &#123;:f&#125;&#x27;formatstr = &#x27;&#123;:-f&#125;; &#123;:-f&#125;&#x27;.format(3.14, -3.14) print(formatstr) abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!&quot;#$%&amp;'()*+,-./:;&lt;=&gt;?@[\\]^_`&#123;|&#125;~ 0123456789abcdefABCDEF 01234567 left aligned 00000000000000000right aligned centered ***********centered*********** ***********centered*********** int: 42; hex: 2a; oct: 52; bin: 101010 int: 42; hex: 0x2a; oct: 0o52; bin: 0b101010 int: 42; hex: 0x2a; oct: 0o52; bin: 0b101010 +3.140000; -3.140000 3.140000; -3.140000 3.140000; -3.140000 textwrap 1234567891011121314151617181920212223import textwrap# å¤šè¡Œæ–‡æœ¬å¤„ç†,æ ¼å¼åŒ–æ–‡æœ¬æ®µè½(ç¼©è¿›)sample_text = &#x27;&#x27;&#x27; The textwrap module can be used to format text for output in situations where pretty-printing is desired. It offers programmatic functionality similar to the paragraph wrapping or filling features found in many text editors. &#x27;&#x27;&#x27;dedented_text = textwrap.dedent(sample_text).strip()print(dedented_text)print()for width in [45, 60]: print(&#x27;&#123;&#125; Columns:\\n&#x27;.format(width)) print(textwrap.fill(dedented_text, width=width)) print()dedented_text = textwrap.dedent(sample_text).strip()print(textwrap.fill(dedented_text, initial_indent=&#x27;&#x27;, subsequent_indent=&#x27; &#x27; * 4, width=50, )) The textwrap module can be used to format text for output in situations where pretty-printing is desired. It offers programmatic functionality similar to the paragraph wrapping or filling features found in many text editors. 45 Columns: The textwrap module can be used to format text for output in situations where pretty- printing is desired. It offers programmatic functionality similar to the paragraph wrapping or filling features found in many text editors. 60 Columns: The textwrap module can be used to format text for output in situations where pretty-printing is desired. It offers programmatic functionality similar to the paragraph wrapping or filling features found in many text editors. The textwrap module can be used to format text for output in situations where pretty-printing is desired. It offers programmatic functionality similar to the paragraph wrapping or filling features found in many text editors. re 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748import re# **æ­£åˆ™è¡¨è¾¾å¼**# 1.ç›´æ¥ç”¨reæ¨¡å—çš„å‡½æ•°æœç´¢# 2.å…ˆç”¨compileç¼–è¯‘ï¼Œç„¶åç”¨ç¼–è¯‘è¿‡çš„æœç´¢# åŒ¹é…pattern = &#x27;this&#x27;text = &#x27;Does this text match the pattern?&#x27;match = re.search(pattern, text)s = match.start()e = match.end()print(&#x27;Found &quot;&#123;&#125;&quot;\\nin &quot;&#123;&#125;&quot;\\nfrom &#123;&#125; to &#123;&#125; (&quot;&#123;&#125;&quot;)&#x27;.format( match.re.pattern, match.string, s, e, text[s:e]))# æŸ¥è¯¢æ‰€æœ‰text = &#x27;abbaaabbbbaaaaa&#x27;pattern = &#x27;ab&#x27;for match in re.findall(pattern, text): print(&#x27;Found &#123;!r&#125;&#x27;.format(match)) text = &#x27;This is some text -- with punctuation.&#x27;print(text)print()# ç»„åŒ¹é…patterns = [ (r&#x27;^(\\w+)&#x27;, &#x27;word at start of string&#x27;), (r&#x27;(\\w+)\\S*$&#x27;, &#x27;word at end, with optional punctuation&#x27;), (r&#x27;(\\bt\\w+)\\W+(\\w+)&#x27;, &#x27;word starting with t, another word&#x27;), (r&#x27;(\\w+t)\\b&#x27;, &#x27;word ending with t&#x27;),]for pattern, desc in patterns: regex = re.compile(pattern) match = regex.search(text) print(&quot;&#x27;&#123;&#125;&#x27; (&#123;&#125;)\\n&quot;.format(pattern, desc)) print(&#x27; &#x27;, match.groups()) print() # æ›¿æ¢re.sub()# æ‹†åˆ†re.split() Found &quot;this&quot; in &quot;Does this text match the pattern?&quot; from 5 to 9 (&quot;this&quot;) Found 'ab' Found 'ab' This is some text -- with punctuation. '^(\\w+)' (word at start of string) ('This',) '(\\w+)\\S*$' (word at end, with optional punctuation) ('punctuation',) '(\\bt\\w+)\\W+(\\w+)' (word starting with t, another word) ('text', 'with') '(\\w+t)\\b' (word ending with t) ('text',) 123456789101112131415161718&#x27;&#x27;&#x27;*:0æ¬¡æˆ–å¤šæ¬¡+:ä¸€æ¬¡æˆ–å¤šæ¬¡?:é›¶æ¬¡æˆ–ä¸€æ¬¡&#123;a,b&#125;:æŒ‡å®šå‡ºç°æ¬¡æ•°?:åœ¨é‡å¤æŒ‡ä»¤åé¢,å–æ¶ˆè´ªå¿ƒæ¨¡å¼[ab]:åŒ¹é…aæˆ–b[^ab]:ä¸åŒ¹é…aå’Œb.:ä»»æ„å•ä¸ªå­—ç¬¦\\d:æ•°å­—\\D:éæ•°å­—\\s:ç©ºç™½ç¬¦(åˆ¶è¡¨ç¬¦,ç©ºæ ¼,æ¢è¡Œ)\\S:éç©ºç™½ç¬¦\\w:å­—æ¯æ•°å­—\\W:éå­—æ¯æ•°å­—(?&lt;=pattern):åŒ¹é…patternå¼€å¤´çš„ (?&lt;=exp2)exp1:æŸ¥æ‰¾ exp2 åé¢çš„ exp1ã€‚(?&lt;!pattern):ä¸åŒ¹é…patternå¼€å¤´çš„ (?&lt;!exp2)exp1:æŸ¥æ‰¾å‰é¢ä¸æ˜¯ exp2 çš„ exp1ã€‚&#x27;&#x27;&#x27; difflib 12345678910111213141516171819202122232425262728293031323334353637383940import difflib# å­—ç¬¦ä¸²æ¯”è¾ƒåºåˆ—text1 = &quot;&quot;&quot;Lorem ipsum dolor sit amet, consectetuer adipiscingelit. Integer eu lacus accumsan arcu fermentum euismod. Donecpulvinar porttitor tellus. Aliquam venenatis. Donec facilisispharetra tortor. In nec mauris eget magna consequatconvalis. Nam sed sem vitae odio pellentesque interdum. Sedconsequat viverra nisl. Suspendisse arcu metus, blandit quis,rhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummymolestie orci. Praesent nisi elit, fringilla ac, suscipit non,tristique vel, mauris. Curabitur vel lorem id nisl portaadipiscing. Suspendisse eu lectus. In nunc. Duis vulputatetristique enim. Donec quis lectus a justo imperdiet tempus.&quot;&quot;&quot;text1_lines = text1.splitlines()text2 = &quot;&quot;&quot;Lorem ipsum dolor sit amet, consectetuer adipiscingelit. Integer eu lacus accumsan arcu fermentum euismod. Donecpulvinar, porttitor tellus. Aliquam venenatis. Donec facilisispharetra tortor. In nec mauris eget magna consequatconvalis. Nam cras vitae mi vitae odio pellentesque interdum. Sedconsequat viverra nisl. Suspendisse arcu metus, blandit quis,rhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummymolestie orci. Praesent nisi elit, fringilla ac, suscipit non,tristique vel, mauris. Curabitur vel lorem id nisl portaadipiscing. Duis vulputate tristique enim. Donec quis lectus ajusto imperdiet tempus. Suspendisse eu lectus. In nunc.&quot;&quot;&quot;text2_lines = text2.splitlines()d = difflib.Differ()diff = d.compare(text1_lines, text2_lines)print(&#x27;\\n&#x27;.join(diff))&#x27;&#x27;&#x27;- åªåœ¨ç¬¬ä¸€ä¸ªæ–‡ä»¶æœ‰+ åªåœ¨ç¬¬äºŒä¸ªæ–‡ä»¶æœ‰ ä¸¤ä¸ªæ–‡ä»¶ä¸­éƒ½æœ‰? æ²¡æœ‰å‡ºç°åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­&#x27;&#x27;&#x27; Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Integer eu lacus accumsan arcu fermentum euismod. Donec - pulvinar porttitor tellus. Aliquam venenatis. Donec facilisis + pulvinar, porttitor tellus. Aliquam venenatis. Donec facilisis ? + - pharetra tortor. In nec mauris eget magna consequat ? - + pharetra tortor. In nec mauris eget magna consequat - convalis. Nam sed sem vitae odio pellentesque interdum. Sed ? - -- + convalis. Nam cras vitae mi vitae odio pellentesque interdum. Sed ? +++ +++++ + consequat viverra nisl. Suspendisse arcu metus, blandit quis, rhoncus ac, pharetra eget, velit. Mauris urna. Morbi nonummy molestie orci. Praesent nisi elit, fringilla ac, suscipit non, tristique vel, mauris. Curabitur vel lorem id nisl porta - adipiscing. Suspendisse eu lectus. In nunc. Duis vulputate - tristique enim. Donec quis lectus a justo imperdiet tempus. + adipiscing. Duis vulputate tristique enim. Donec quis lectus a + justo imperdiet tempus. Suspendisse eu lectus. In nunc. æ•°æ®ç»“æ„ enum 12345678910111213141516171819202122232425262728293031323334353637import enum# IntEnumæ”¯æŒå¤§å°æ¯”è¾ƒclass BugStatus(enum.Enum): new = 7 incomplete = 6 invalid = 5 wont_fix = 4 in_progress = 3 fix_committed = 2 fix_released = 1 by_design = 4 closed = 1# æ¯ä¸ªä¸œè¥¿éƒ½æœ‰ä¸€ä¸ªnameä¸€ä¸ªvaluefor status in BugStatus: print(&#x27;&#123;:15&#125; = &#123;&#125;&#x27;.format(status.name, status.value))# å¦‚æœå­˜åœ¨å¤šä¸ªå€¼ï¼Œä¸‹é¢å‡ºç°çš„å°±æ˜¯åˆ«åï¼Œä¸æƒ³å‡ºç°å¤šä¸ªå€¼ï¼Œä½¿ç”¨@uniqueprint(&#x27;\\nSame: by_design is wont_fix: &#x27;, BugStatus.by_design is BugStatus.wont_fix)print(&#x27;Same: closed is fix_released: &#x27;, BugStatus.closed is BugStatus.fix_released)# ç©ºæ ¼åˆ†å¼€ï¼Œä»1å¼€å§‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…ƒç»„åˆ—è¡¨BugStatus = enum.Enum( value=&#x27;BugStatus&#x27;, names=(&#x27;fix_released fix_committed in_progress &#x27; &#x27;wont_fix invalid incomplete new&#x27;),)print(&#x27;Member: &#123;&#125;&#x27;.format(BugStatus.new))print(&#x27;\\nAll members:&#x27;)for status in BugStatus: print(&#x27;&#123;:15&#125; = &#123;&#125;&#x27;.format(status.name, status.value)) new = 7 incomplete = 6 invalid = 5 wont_fix = 4 in_progress = 3 fix_committed = 2 fix_released = 1 Same: by_design is wont_fix: True Same: closed is fix_released: True 1234567891011121314151617181920212223242526# ç”¨å…ƒç»„ä½œä¸ºå€¼class BugStatus(enum.Enum): new = (7, [&#x27;incomplete&#x27;, &#x27;invalid&#x27;, &#x27;wont_fix&#x27;, &#x27;in_progress&#x27;]) incomplete = (6, [&#x27;new&#x27;, &#x27;wont_fix&#x27;]) invalid = (5, [&#x27;new&#x27;]) wont_fix = (4, [&#x27;new&#x27;]) in_progress = (3, [&#x27;new&#x27;, &#x27;fix_committed&#x27;]) fix_committed = (2, [&#x27;in_progress&#x27;, &#x27;fix_released&#x27;]) fix_released = (1, [&#x27;new&#x27;]) def __init__(self, num, transitions): self.num = num self.transitions = transitions def can_transition(self, new_state): return new_state.name in self.transitionsprint(&#x27;Name:&#x27;, BugStatus.in_progress)print(&#x27;Value:&#x27;, BugStatus.in_progress.value)print(&#x27;Custom attribute:&#x27;, BugStatus.in_progress.transitions)print(&#x27;Using attribute:&#x27;, BugStatus.in_progress.can_transition(BugStatus.new)) Name: BugStatus.in_progress Value: (3, ['new', 'fix_committed']) Custom attribute: ['new', 'fix_committed'] Using attribute: True collection ChainMap 123456789101112131415161718192021222324# ChainMapimport collections# ç›¸å½“äºæŠŠå‡ ä¸ªå­—å…¸è£…å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œä¼šæŒ‰ç…§è¿›å…¥åˆ—è¡¨çš„é¡ºåºè¦†ç›–ç›¸åŒå€¼# ä¿®æ”¹ä»»ä¸€ä¸ªï¼Œä¼šä¿®æ”¹åˆ°åŸæ¥çš„æ•°æ®a = &#123;&#x27;a&#x27;: &#x27;A&#x27;, &#x27;c&#x27;: &#x27;C&#x27;&#125;b = &#123;&#x27;b&#x27;: &#x27;B&#x27;, &#x27;c&#x27;: &#x27;D&#x27;&#125;# åˆå¹¶å¤šä¸ªå­—å…¸m = collections.ChainMap(a, b)print(m.maps)#å½“å¤šä¸ªå­—å…¸ä¸­æœ‰ç›¸åŒçš„keyå€¼æ˜¯ï¼Œé»˜è®¤å–ç¬¬ä¸€ä¸ªkeyå¯¹åº”çš„valueprint(&#x27;Before: &#123;&#125;&#x27;.format(m[&#x27;c&#x27;]))a[&#x27;c&#x27;] = &#x27;E&#x27;print(&#x27;After : &#123;&#125;&#x27;.format(m[&#x27;c&#x27;]))print(&#x27;a:&#x27;, a)# reverse the listm.maps = list(reversed(m.maps))print(m.maps)print(&#x27;c = &#123;&#125;&#x27;.format(m[&#x27;c&#x27;])) [&#123;'a': 'A', 'c': 'C'&#125;, &#123;'b': 'B', 'c': 'D'&#125;] Before: C After : E a: &#123;'a': 'A', 'c': 'E'&#125; [&#123;'b': 'B', 'c': 'D'&#125;, &#123;'a': 'A', 'c': 'E'&#125;] c = D 12345678910111213# æœç´¢æŸ¥è¯¢åº•å±‚æ˜ å°„ï¼Œç›´åˆ°ä¸€ä¸ªé”®è¢«æ‰¾åˆ°ã€‚ä¸åŒçš„æ˜¯ï¼Œå†™ï¼Œæ›´æ–°å’Œåˆ é™¤åªæ“ä½œç¬¬ä¸€ä¸ªæ˜ å°„ã€‚dict1= &#123;&quot;a&quot;:&quot;zhangsan&quot;,&quot;b&quot;:&quot;lisi&quot;&#125;dict2= &#123;&quot;c&quot;:&quot;wangwu&quot;&#125;new_dict = collections.ChainMap(dict1,dict2)print(new_dict)new_dict1 = new_dict.new_child()print(new_dict1)new_dict1[&quot;x&quot;]=0new_dict1[&quot;y&quot;] = 100.0new_dict1[&quot;a&quot;] = 666print(new_dict1) ChainMap(&#123;'a': 'zhangsan', 'b': 'lisi'&#125;, &#123;'c': 'wangwu'&#125;) ChainMap(&#123;&#125;, &#123;'a': 'zhangsan', 'b': 'lisi'&#125;, &#123;'c': 'wangwu'&#125;) ChainMap(&#123;'x': 0, 'y': 100.0, 'a': 666&#125;, &#123;'a': 'zhangsan', 'b': 'lisi'&#125;, &#123;'c': 'wangwu'&#125;) Counter 1234567891011121314151617181920212223242526272829303132333435363738394041424344import collections# ä¸‰ç§æ„å»ºæ–¹å¼1.ä¸€ä¸ªå…ƒç´ åºåˆ—ï¼Œä¸€ä¸ªé”®å€¼å­—å…¸ï¼Œå…³é”®å­—ä¼ å‚import collectionsprint(collections.Counter([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;b&#x27;]))print(collections.Counter(&#123;&#x27;a&#x27;: 2, &#x27;b&#x27;: 3, &#x27;c&#x27;: 1&#125;))print(collections.Counter(a=2, b=3, c=1))# è®¡æ•°åªä¼šæ ¹æ®æ–°æ•°æ®å¢åŠ ï¼Œæ›¿æ¢æ•°æ®ä¸ä¼šæ”¹å˜è®¡æ•°c = collections.Counter()print(&#x27;Initial :&#x27;, c)c.update(&#x27;abcdaab&#x27;)print(&#x27;Sequence:&#x27;, c)c.update(&#123;&#x27;a&#x27;: 1, &#x27;d&#x27;: 5&#125;)print(&#x27;Dict :&#x27;, c)# å¯ä»¥ç”¨å­—å…¸APIè·å–å€¼,å¦‚æœæ²¡æœ‰è¿”å›0print(c[&#x27;a&#x27;],c[&#x27;666&#x27;])# elementsè¿”å›æ‰€æœ‰å…ƒç´ ,most_common()è¿”å›å‰nä¸ªæœ€å¤šçš„# ç®—æ•°æ“ä½œc1 = collections.Counter([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;b&#x27;])c2 = collections.Counter(&#x27;alphabet&#x27;)print(&#x27;C1:&#x27;, c1)print(&#x27;C2:&#x27;, c2)# è®¡æ•°ç›¸åŠ print(&#x27;\\nCombined counts:&#x27;)print(c1 + c2)# è®¡æ•°ç›¸å‡,å°äº0è‡ªåŠ¨åˆ é™¤print(&#x27;\\nSubtraction:&#x27;)print(c1 - c2)# å–æœ€å°å€¼print(&#x27;\\nIntersection (taking positive minimums):&#x27;)print(c1 &amp; c2)# å–æœ€å¤§å€¼print(&#x27;\\nUnion (taking maximums):&#x27;)print(c1 | c2) Counter(&#123;'b': 3, 'a': 2, 'c': 1&#125;) Counter(&#123;'b': 3, 'a': 2, 'c': 1&#125;) Counter(&#123;'b': 3, 'a': 2, 'c': 1&#125;) Initial : Counter() Sequence: Counter(&#123;'a': 3, 'b': 2, 'c': 1, 'd': 1&#125;) Dict : Counter(&#123;'d': 6, 'a': 4, 'b': 2, 'c': 1&#125;) 4 0 C1: Counter(&#123;'b': 3, 'a': 2, 'c': 1&#125;) C2: Counter(&#123;'a': 2, 'l': 1, 'p': 1, 'h': 1, 'b': 1, 'e': 1, 't': 1&#125;) Combined counts: Counter(&#123;'a': 4, 'b': 4, 'c': 1, 'l': 1, 'p': 1, 'h': 1, 'e': 1, 't': 1&#125;) Subtraction: Counter(&#123;'b': 2, 'c': 1&#125;) Intersection (taking positive minimums): Counter(&#123;'a': 2, 'b': 1&#125;) Union (taking maximums): Counter(&#123;'b': 3, 'a': 2, 'c': 1, 'l': 1, 'p': 1, 'h': 1, 'e': 1, 't': 1&#125;) defaultdict 123456789# æ²¡æœ‰é”®æ—¶,è¿”å›å‡½æ•°é»˜è®¤å€¼def default_factory(): return &#x27;default value&#x27;d = collections.defaultdict(default_factory, foo=&#x27;bar&#x27;)print(&#x27;d:&#x27;, d)print(&#x27;foo =&gt;&#x27;, d[&#x27;foo&#x27;])print(&#x27;bar =&gt;&#x27;, d[&#x27;bar&#x27;]) d: defaultdict(&lt;function default_factory at 0x000001AA941D3DC0&gt;, &#123;'foo': 'bar'&#125;) foo =&gt; bar bar =&gt; default value deque 1234567891011121314151617181920212223242526272829import collectionsimport random# åŒç«¯é˜Ÿåˆ—# listå¸¸ç”¨å‡½æ•°+çº¿ç¨‹å®‰å…¨# append(),appendleft(),pop(),popleft()# å¯ä»¥è®¾ç½®æœ€å¤§é•¿åº¦,é˜Ÿåˆ—è¾¾åˆ°æŒ‡å®šé•¿åº¦æ—¶ä¼šåˆ é™¤ä¹‹å‰(é˜Ÿå¤´)çš„å…ƒç´ d1 = collections.deque(maxlen=3)d2 = collections.deque(maxlen=3)for i in range(5): n = random.randint(0, 100) print(&#x27;n =&#x27;, n) d1.append(n) d2.appendleft(n) print(&#x27;D1:&#x27;, d1) print(&#x27;D2:&#x27;, d2)# æ—‹è½¬d = collections.deque(range(10))print(&#x27;Normal :&#x27;, d)d = collections.deque(range(10))d.rotate(2)print(&#x27;Right rotation:&#x27;, d)d = collections.deque(range(10))d.rotate(-2)print(&#x27;Left rotation :&#x27;, d) n = 7 D1: deque([7], maxlen=3) D2: deque([7], maxlen=3) n = 73 D1: deque([7, 73], maxlen=3) D2: deque([73, 7], maxlen=3) n = 34 D1: deque([7, 73, 34], maxlen=3) D2: deque([34, 73, 7], maxlen=3) n = 56 D1: deque([73, 34, 56], maxlen=3) D2: deque([56, 34, 73], maxlen=3) n = 79 D1: deque([34, 56, 79], maxlen=3) D2: deque([79, 56, 34], maxlen=3) Normal : deque([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) Right rotation: deque([8, 9, 0, 1, 2, 3, 4, 5, 6, 7]) Left rotation : deque([2, 3, 4, 5, 6, 7, 8, 9, 0, 1]) namedtuple 12345678910111213141516import collections# å¸¦æœ‰åå­—çš„å…ƒç»„,ä¼šè¿”å›ä¸€ä¸ªæœ‰æŒ‡å®šå±æ€§çš„ç±»# å±æ€§åå­—ä¸èƒ½æ˜¯å…³é”®å­—,å±æ€§ä¸èƒ½ä¿®æ”¹Person = collections.namedtuple(&#x27;Person&#x27;, &#x27;name age&#x27;)bob = Person(name=&#x27;Bob&#x27;, age=30)print(&#x27;Representation:&#x27;, bob)# è½¬ä¸ºOrderedDictprint(&#x27;As Dictionary:&#x27;, bob._asdict())print(&#x27;\\nBefore:&#x27;, bob)bob2 = bob._replace(name=&#x27;Robert&#x27;)print(&#x27;After:&#x27;, bob2)# ä¸æ˜¯åŒä¸€ä¸ªå®ä¾‹print(&#x27;Same?:&#x27;, bob is bob2) Representation: Person(name='Bob', age=30) As Dictionary: &#123;'name': 'Bob', 'age': 30&#125; Before: Person(name='Bob', age=30) After: Person(name='Robert', age=30) Same?: False OrderedDict 12345678910111213141516171819202122import collections# ä¼šè®°ä½å¾€å­—å…¸é‡Œæ·»åŠ çš„é¡ºåºimport collections# è¿›è¡Œæ¯”è¾ƒæ—¶,ä¸ä»…æ¯”è¾ƒå€¼æ˜¯å¦ç›¸åŒ,ä¹Ÿæ¯”è¾ƒåŠ å…¥é¡ºåºd = collections.OrderedDict( [(&#x27;a&#x27;, &#x27;A&#x27;), (&#x27;b&#x27;, &#x27;B&#x27;), (&#x27;c&#x27;, &#x27;C&#x27;)])print(&#x27;Before:&#x27;)for k, v in d.items(): print(k, v)d.move_to_end(&#x27;b&#x27;)print(&#x27;\\nmove_to_end():&#x27;)for k, v in d.items(): print(k, v)d.move_to_end(&#x27;b&#x27;, last=False)print(&#x27;\\nmove_to_end(last=False):&#x27;)for k, v in d.items(): print(k, v) Before: a A b B c C move_to_end(): a A c C b B move_to_end(last=False): b B a A c C collections.abc arrayæ•°ç»„ 1234567891011121314151617import arrayimport binascii# è¿”å›äºŒè¿›åˆ¶æ•°æ® data çš„åå…­è¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚ data çš„æ¯ä¸ªå­—èŠ‚éƒ½è¢«è½¬æ¢ä¸ºç›¸åº”çš„2ä½åå…­è¿›åˆ¶è¡¨ç¤ºå½¢å¼ã€‚a = array.array(&#x27;i&#x27;, range(3))print(&#x27;Initial :&#x27;, a)s = b&#x27;This is the array.&#x27;a = array.array(&#x27;b&#x27;, s)print(&#x27;As byte string:&#x27;, s)print(&#x27;As array :&#x27;, a)print(&#x27;As hex :&#x27;, binascii.hexlify(a))# ä¸åºåˆ—ç±»ä¼¼çš„å‡½æ•°print(chr(a[0])) Initial : array('i', [0, 1, 2]) As byte string: b'This is the array.' As array : array('b', [84, 104, 105, 115, 32, 105, 115, 32, 116, 104, 101, 32, 97, 114, 114, 97, 121, 46]) As hex : b'54686973206973207468652061727261792e' T 1234567891011121314# äºŒè¿›åˆ¶è½¬æ¢import arrayimport binasciia = array.array(&#x27;i&#x27;, range(5))print(&#x27;A1:&#x27;, a)as_bytes = a.tobytes()print(f&#x27;Byets: &#123;as_bytes&#125;&#x27;)print(&#x27;Bytes:&#x27;, binascii.hexlify(as_bytes))a2 = array.array(&#x27;i&#x27;)a2.frombytes(as_bytes)print(&#x27;A2:&#x27;, a2) A1: array('i', [0, 1, 2, 3, 4]) Byets: b'\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x03\\x00\\x00\\x00\\x04\\x00\\x00\\x00' Bytes: b'0000000001000000020000000300000004000000' A2: array('i', [0, 1, 2, 3, 4]) 1234567891011121314151617181920212223# arrayæ–‡ä»¶è½¬æ¢import arrayimport binasciiimport tempfilea = array.array(&#x27;i&#x27;, range(5))print(&#x27;A1:&#x27;, a)# Write the array of numbers to a temporary fileoutput = tempfile.NamedTemporaryFile()a.tofile(output.file) # must pass an *actual* fileoutput.flush()# Read the raw datawith open(output.name, &#x27;rb&#x27;) as input: raw_data = input.read() print(&#x27;Raw Contents:&#x27;, binascii.hexlify(raw_data)) # Read the data into an array input.seek(0) a2 = array.array(&#x27;i&#x27;) a2.fromfile(input, len(a)) print(&#x27;A2:&#x27;, a2) heapq 123456789101112131415161718192021import heapq# å †æ’åº,åªæœ‰å°é¡¹å †# ç”¨æ•°ç»„çš„å½¢å¼è¡¨ç¤ºå †,Nçš„å­å…ƒç´ ä½äº2*N+1å’Œ2*N+2data=[19, 9, 4, 10, 11]print(f&#x27;original data: &#123;data&#125;&#x27;)# æŠŠåŸæ•°ç»„è½¬ä¸ºå †ç»“æ„æ•°ç»„# å¯ä»¥ä¹‹é—´è½¬æ¢å †,ä¹Ÿå¯ä»¥ä¸€ä¸ªä¸ªå¾€é‡Œé¢æ·»åŠ å…ƒç´ heappushheapq.heapify(data)print(f&#x27;heapify data: &#123;data&#125;&#x27;)# heapreplace åˆ é™¤æœ€å°å…ƒç´ å¹¶åŠ å…¥ä¸€ä¸ªfor n in [0, 13]: smallest = heapq.heapreplace(data, n) print(&#x27;replace &#123;:&gt;2&#125; with &#123;:&gt;2&#125;:&#x27;.format(smallest, n))print(f&#x27;replaced data: &#123;data&#125;&#x27;)# nlargest nsmallestè¿”å›å‰å‡ ä¸ªå¤§/å°çš„# heapq.merge()åˆå¹¶å‡ ä¸ªæœ‰åºåˆ—è¡¨ original data: [19, 9, 4, 10, 11] heapify data: [4, 9, 19, 10, 11] replace 4 with 0: replace 0 with 13: replaced data: [9, 10, 19, 13, 11] bisect 123456789101112131415import bisectvalues = [14, 85, 77, 26, 50, 45, 66, 79, 10, 3, 84, 77, 1]print(&#x27;--- --- --------&#x27;)l = []for i in values: # é»˜è®¤å³æ’ position = bisect.bisect(l, i) bisect.insort(l, i) # position = bisect.bisect_left(l, i) # bisect.insort_left(l, i) print(&#x27;&#123;:3&#125; &#123;:3&#125;&#x27;.format(i, position), l) --- --- -------- 14 0 [14] 85 1 [14, 85] 77 1 [14, 77, 85] 26 1 [14, 26, 77, 85] 50 2 [14, 26, 50, 77, 85] 45 2 [14, 26, 45, 50, 77, 85] 66 4 [14, 26, 45, 50, 66, 77, 85] 79 6 [14, 26, 45, 50, 66, 77, 79, 85] 10 0 [10, 14, 26, 45, 50, 66, 77, 79, 85] 3 0 [3, 10, 14, 26, 45, 50, 66, 77, 79, 85] 84 9 [3, 10, 14, 26, 45, 50, 66, 77, 79, 84, 85] 77 8 [3, 10, 14, 26, 45, 50, 66, 77, 77, 79, 84, 85] 1 0 [1, 3, 10, 14, 26, 45, 50, 66, 77, 77, 79, 84, 85] queue 123456789101112131415161718192021222324import queue# çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—# maxsize æ˜¯ä¸ªæ•´æ•°ï¼Œç”¨äºè®¾ç½®å¯ä»¥æ”¾å…¥é˜Ÿåˆ—ä¸­çš„é¡¹ç›®æ•°çš„ä¸Šé™ã€‚# å½“è¾¾åˆ°è¿™ä¸ªå¤§å°çš„æ—¶å€™ï¼Œæ’å…¥æ“ä½œå°†é˜»å¡è‡³é˜Ÿåˆ—ä¸­çš„é¡¹ç›®è¢«æ¶ˆè´¹æ‰# FIFOé˜Ÿåˆ—,æ™®é€šé˜Ÿåˆ—queue.Queue()# LIFOæ ˆqueue.LifoQueue()# ä¼˜å…ˆé˜Ÿåˆ—queue.PriorityQueue()q = queue.PriorityQueue()# é˜Ÿåˆ—çš„å˜ä½“ï¼ŒæŒ‰ä¼˜å…ˆçº§é¡ºåºï¼ˆæœ€ä½ä¼˜å…ˆï¼‰æ£€ç´¢æ‰“å¼€çš„æ¡ç›®ã€‚# æ¡ç›®é€šå¸¸æ˜¯ä»¥ä¸‹æ ¼å¼çš„å…ƒç»„ï¼š# æ’å…¥æ ¼å¼ï¼šq.put((priority number, data))# è‡ªå®šä¹‰ç±»,å®ç°æ¯”è¾ƒæ–¹æ³•,__eq__,__lt__q=queue.PriorityQueue()q.put((2, &quot;Lisa&quot;))q.put((1, &quot;Lucy&quot;))q.put((0, &quot;Tom&quot;))while not q.empty(): print(q.get()) (0, 'Tom') (1, 'Lucy') (2, 'Lisa') struct:äºŒè¿›åˆ¶æ•°æ®ç»“æ„ 123456789import struct# å°†å­—èŠ‚ä¸²è§£è¯»ä¸ºæ‰“åŒ…çš„äºŒè¿›åˆ¶æ•°æ®# structçš„packå‡½æ•°æŠŠä»»æ„æ•°æ®ç±»å‹å˜æˆbytesp=struct.pack(&#x27;&gt;I&#x27;, 66666)print(f&#x27;type-&gt;bytes:&#123;p&#125;&#x27;)# unpackæŠŠbyteså˜æˆç›¸åº”çš„æ•°æ®ç±»å‹p=struct.unpack(&quot;&gt;I&quot;, b&quot;\\x00\\x01\\x04j&quot;)print(f&#x27;bytes-&gt;type:&#123;p&#125;&#x27;) type-&gt;bytes:b'\\x00\\x01\\x04j' bytes-&gt;type:(66666,) weakref:å¯¹è±¡çš„éæ°¸ä¹…å¼•ç”¨ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172import weakref# å¼±å¼•ç”¨ä¸ä¼šå¢åŠ å¯¹è±¡çš„å¼•ç”¨æ•°é‡ã€‚å› æ­¤ï¼Œå¼±å¼•ç”¨ä¸ä¼šå¦¨ç¢æ‰€æŒ‡å¯¹è±¡è¢«å½“ä½œåƒåœ¾å›æ”¶ã€‚class ExpensiveObject: def __del__(self): print(&#x27;(Deleting &#123;&#125;)&#x27;.format(self)) def __str__(self) -&gt; str: return &#x27;ExpensiveObject&#x27;def callback(reference): &quot;&quot;&quot;Invoked when referenced object is deleted&quot;&quot;&quot; print(&#x27;callback(&#123;!r&#125;)&#x27;.format(reference))obj = ExpensiveObject()r = weakref.ref(obj, callback)# ä¼šåœ¨finalizeä¸­æä¾›ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨,æ°¸è¿œä¸ä¼šè¢«å›æ”¶# f = weakref.finalize(obj, on_finalize, obj)print(&#x27;obj:&#x27;, obj)print(&#x27;ref:&#x27;, r)print(&#x27;r():&#x27;, r())print(&#x27;deleting obj&#x27;)del objprint(&#x27;r():&#x27;, r())# WeakValueDictionaryï¼š å®ç°çš„æ˜¯ä¸€ç§å¯å˜æ˜ å°„ï¼Œé‡Œé¢çš„å€¼æ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ã€‚# è¢«å¼•ç”¨çš„å¯¹è±¡åœ¨ç¨‹åºä¸­çš„å…¶ä»–åœ°æ–¹è¢«å½“ä½œåƒåœ¾å›æ”¶åï¼Œå¯¹åº”çš„é”®ä¼šè‡ªåŠ¨ä» WeakValueDictionary ä¸­åˆ é™¤ã€‚å› æ­¤ï¼ŒWeakValueDictionary ç»å¸¸ç”¨äºç¼“å­˜ã€‚# WeakValueDictionary ç¤ºä¾‹ï¼š# WeakValueDictionary ç¤ºä¾‹ï¼šclass Cheese: def __init__(self, kind): self.kind = kind def __repr__(self): return &#x27;Cheese(%r)&#x27; % self.kind # æ‰§è¡Œï¼š stock = weakref.WeakValueDictionary() # åˆ›å»ºå¼±å¼•ç”¨å­—å…¸å®ä¾‹ã€‚ catalog = [Cheese(&#x27;Read Leicester&#x27;), Cheese(&#x27;Tilsit&#x27;),Cheese(&#x27;Brie&#x27;), Cheese(&#x27;Parmesan&#x27;)] for cheese in catalog: stock[cheese.kind] = cheese # åç§°æ˜ å°„åˆ°å®ä¾‹. [å¼±å¼•ç”¨]print(sorted(stock.keys())) del catalog print(sorted(stock.keys()) ) # ä¸ºä»€ä¹ˆè¿˜å‰©ä¸€ä¸ªï¼Ÿ å› ä¸ºä¸´æ—¶å˜é‡ã€‚ del cheese print(sorted(stock.keys()) ) # ä¸´æ—¶å˜é‡åˆ é™¤åï¼Œä¸ºç©º.import weakrefclass C: # è¿™é‡Œæ–°å»ºä¸€ä¸ªç±»ï¼Œå› ä¸ºWeakValueDictionary() def __init__(self, value): # è¦æ±‚valueæ˜¯ä¸€ä¸ªobj self.value = valuedef test_weak_value_dict(): d= weakref.WeakValueDictionary() #å¦‚æœdæ˜¯æ™®é€šå­—å…¸,é‚£ä¹ˆè¿˜æ˜¯ä¼šprint(test1) k1 = &#x27;test1&#x27; v1 = C(1) # è¿™æ—¶å€™C(1)æ˜¯æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨çš„ï¼šv1 d[k1] = v1 # è¿™ä¸ªè¯­å¥ä¹Ÿå°±æ˜¯å­—å…¸èµ‹å€¼ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬ç”¨çš„ print(d[k1]) # WeakValueDictionary()ï¼Œæ‰€ä»¥å­—å…¸é‡Œçš„æ˜¯å¼±å¼•ç”¨ del v1 # è¿™æ—¶å€™åˆ é™¤äº†C(1)å”¯ä¸€çš„å¼ºå¼•ç”¨ v1ï¼Œå› æ­¤ print(d[k1]) # ä¼šæŠ¥é”™ instance ExpensiveObject obj: ExpensiveObject ref: &lt;weakref at 0x000001AA94201360; to 'ExpensiveObject' at 0x000001AA94117AF0&gt; r(): ExpensiveObject deleting obj r(): ExpensiveObject ['Brie', 'Parmesan', 'Read Leicester', 'Tilsit'] ['Parmesan'] [] copy 1234567891011121314151617181920212223242526272829303132333435363738394041424344# æµ…æ‹·è´æ·±æ‹·è´import copyimport functools# å½“é‡è½½æ¯”è¾ƒè¿ç®—ç¬¦æ—¶ï¼Œå¯ä»¥åªå®ç°å…¶ä¸­ä¸€ä¸¤ç§ï¼Œå…¶ä»–çš„ä¼šè‡ªåŠ¨ç”Ÿæˆ@functools.total_orderingclass MyClass: def __init__(self, name): self.name = name def __eq__(self, other): return self.name == other.name def __gt__(self, other): return self.name &gt; other.namea = MyClass(&#x27;a&#x27;)my_list = [a]dup = copy.copy(my_list)print(&#x27; my_list:&#x27;, my_list)print(&#x27; dup:&#x27;, dup)print(&#x27; dup is my_list:&#x27;, (dup is my_list))print(&#x27; dup == my_list:&#x27;, (dup == my_list))print(&#x27;dup[0] is my_list[0]:&#x27;, (dup[0] is my_list[0]))print(&#x27;dup[0] == my_list[0]:&#x27;, (dup[0] == my_list[0]))a = MyClass(&#x27;a&#x27;)my_list = [a]dup = copy.deepcopy(my_list)print(&#x27; my_list:&#x27;, my_list)print(&#x27; dup:&#x27;, dup)print(&#x27; dup is my_list:&#x27;, (dup is my_list))print(&#x27; dup == my_list:&#x27;, (dup == my_list))print(&#x27;dup[0] is my_list[0]:&#x27;, (dup[0] is my_list[0]))print(&#x27;dup[0] == my_list[0]:&#x27;, (dup[0] == my_list[0]))# ç±»å®ç°,æ§åˆ¶å»ºç«‹å‰¯æœ¬# __copy()__# __deepcopy()__ my_list: [&lt;__main__.MyClass object at 0x000001AA940FF340&gt;] dup: [&lt;__main__.MyClass object at 0x000001AA940FF340&gt;] dup is my_list: False dup == my_list: True dup[0] is my_list[0]: True dup[0] == my_list[0]: True my_list: [&lt;__main__.MyClass object at 0x000001AA94208A90&gt;] dup: [&lt;__main__.MyClass object at 0x000001AA941FFFD0&gt;] dup is my_list: False dup == my_list: True dup[0] is my_list[0]: False dup[0] == my_list[0]: True 123456789101112131415161718192021222324252627282930313233343536373839404142class Graph: def __init__(self, name, connections): self.name = name self.connections = connections def add_connection(self, other): self.connections.append(other) def __repr__(self): return &#x27;Graph(name=&#123;&#125;, id=&#123;&#125;)&#x27;.format( self.name, id(self)) def __deepcopy__(self, memo): print(&#x27;\\nCalling __deepcopy__ for &#123;!r&#125;&#x27;.format(self)) if self in memo: existing = memo.get(self) print(&#x27; Already copied to &#123;!r&#125;&#x27;.format(existing)) return existing print(&#x27; Memo dictionary:&#x27;) if memo: for k, v in memo.items(): print(&#x27; &#123;&#125;: &#123;&#125;&#x27;.format(k, v)) else: print(&#x27; (empty)&#x27;) dup = Graph(copy.deepcopy(self.name, memo), []) print(&#x27; Copying to new object &#123;&#125;&#x27;.format(dup)) memo[self] = dup for c in self.connections: dup.add_connection(copy.deepcopy(c, memo)) return dup# memoå­—å…¸è·Ÿè¸ªå·²å¤åˆ¶çš„å¯¹è±¡é¿å…é€’å½’root = Graph(&#x27;root&#x27;, [])a = Graph(&#x27;a&#x27;, [root])b = Graph(&#x27;b&#x27;, [a, root])root.add_connection(a)root.add_connection(b)dup = copy.deepcopy(root) pprint 1234567891011121314import pprint# ç¾è§‚æ‰“å°data = [ (1, &#123;&#x27;a&#x27;: &#x27;A&#x27;, &#x27;b&#x27;: &#x27;B&#x27;, &#x27;c&#x27;: &#x27;C&#x27;, &#x27;d&#x27;: &#x27;D&#x27;&#125;), (2, &#123;&#x27;e&#x27;: &#x27;E&#x27;, &#x27;f&#x27;: &#x27;F&#x27;, &#x27;g&#x27;: &#x27;G&#x27;, &#x27;h&#x27;: &#x27;H&#x27;, &#x27;i&#x27;: &#x27;I&#x27;, &#x27;j&#x27;: &#x27;J&#x27;, &#x27;k&#x27;: &#x27;K&#x27;, &#x27;l&#x27;: &#x27;L&#x27;&#125;), (3, [&#x27;m&#x27;, &#x27;n&#x27;]), (4, [&#x27;o&#x27;, &#x27;p&#x27;, &#x27;q&#x27;]), (5, [&#x27;r&#x27;, &#x27;s&#x27;, &#x27;t&#x27;&#x27;u&#x27;, &#x27;v&#x27;, &#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;]),]print(data)# depthå¯ä»¥æ§åˆ¶æ‰“å°æ·±åº¦,widthæ§åˆ¶æ‰“å°å®½åº¦,compactä¼šå°è¯•æ›´åŠ ç´§å‡‘pprint.pprint(data,compact=True) [(1, &#123;'a': 'A', 'b': 'B', 'c': 'C', 'd': 'D'&#125;), (2, &#123;'e': 'E', 'f': 'F', 'g': 'G', 'h': 'H', 'i': 'I', 'j': 'J', 'k': 'K', 'l': 'L'&#125;), (3, ['m', 'n']), (4, ['o', 'p', 'q']), (5, ['r', 's', 'tu', 'v', 'x', 'y', 'z'])] [(1, &#123;'a': 'A', 'b': 'B', 'c': 'C', 'd': 'D'&#125;), (2, &#123;'e': 'E', 'f': 'F', 'g': 'G', 'h': 'H', 'i': 'I', 'j': 'J', 'k': 'K', 'l': 'L'&#125;), (3, ['m', 'n']), (4, ['o', 'p', 'q']), (5, ['r', 's', 'tu', 'v', 'x', 'y', 'z'])] 12345678910111213141516171819202122import loggingfrom pprint import pformatlogging.basicConfig( level=logging.DEBUG, format=&#x27;%(levelname)-8s %(message)s&#x27;,)logging.debug(&#x27;Logging pformatted data&#x27;)# æ ¼å¼åŒ–è½¬æˆå­—ç¬¦ä¸²formatted = pformat(data)for line in formatted.splitlines(): logging.debug(line.rstrip()) # print(line.rstrip())# é€’å½’æ‰“å°local_data = [&#x27;a&#x27;, &#x27;b&#x27;, 1, 2]local_data.append(local_data)print(&#x27;id(local_data) =&gt;&#x27;, id(local_data))pprint.pprint(local_data)print(local_data) DEBUG Logging pformatted data DEBUG [(1, &#123;'a': 'A', 'b': 'B', 'c': 'C', 'd': 'D'&#125;), DEBUG (2, DEBUG &#123;'e': 'E', DEBUG 'f': 'F', DEBUG 'g': 'G', DEBUG 'h': 'H', DEBUG 'i': 'I', DEBUG 'j': 'J', DEBUG 'k': 'K', DEBUG 'l': 'L'&#125;), DEBUG (3, ['m', 'n']), DEBUG (4, ['o', 'p', 'q']), DEBUG (5, ['r', 's', 'tu', 'v', 'x', 'y', 'z'])] id(local_data) =&gt; 1832127417216 ['a', 'b', 1, 2, &lt;Recursion on list with id=1832127417216&gt;] ['a', 'b', 1, 2, [...]] ç®—æ³• functools:ç®¡ç†å‡½æ•°çš„å·¥å…· partial 123456789101112131415161718192021222324from functools import partial# å°†ä¸€ä¸ªå‡½æ•°çš„éƒ¨åˆ†å‚æ•°é¢„å…ˆç»‘å®šä¸ºæŸäº›å€¼ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å…·æœ‰è¾ƒå°‘å¯å˜å‚æ•°çš„å‡½æ•°# æ™®é€šå‡½æ•°def add(a,b,*args, **kwargs): print(f&#x27;a:&#123;a&#125;, b:&#123;b&#125;&#x27;) # æ‰“å°ä½ç½®å‚æ•° for n in args: print(n) print(&quot;-&quot;*20) # æ‰“å°å…³é”®å­—å‚æ•° for k, v in kwargs.items(): print(&#x27;%s:%s&#x27; % (k, v)) print(&quot;-&quot;*20)# æ™®é€šè°ƒç”¨add(1, 2, 3, v1=10, v2=20)# partialçš„å‚æ•°ä¼šå…ˆå ç”¨å‡½æ•°å‰é¢çš„å‚æ•°,åé¢ä¼ çš„ä¼šä¾æ¬¡å½“ä½œåé¢çš„å½¢å‚add_partial = partial(add, 10, k1=10, k2=20)add_partial(1, 2, 3, k3=20)add_partial(1, 2, 3, k1=20) a:1, b:2 3 -------------------- v1:10 v2:20 -------------------- a:10, b:1 2 3 -------------------- k1:10 k2:20 k3:20 -------------------- a:10, b:1 2 3 -------------------- k1:20 k2:20 -------------------- 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# partialmethodå’Œpartialå®ç°ç›¸åŒçš„åŠŸèƒ½ï¼Œåªæ˜¯ partialåœ¨ç±»æ–¹æ³•ä¸­ä½¿ç”¨ä¼šæŠ¥é”™ï¼Œè€Œæ­¤å‡½æ•°ç”¨åœ¨ç±»æ–¹æ³•ä¸­ï¼›from functools import partialmethodclass Cell(object): def __init__(self): self._alive = False @property def alive(self): return self._alive def set_state(self, state): self._alive = bool(state) set_alive = partialmethod(set_state, True) set_dead = partialmethod(set_state, False) c = Cell()c.alive # ç»“æœä¸º:False c.set_alive()c.alive # ç»“æœä¸º:Truedef standalone(self, a=1, b=2): print(&#x27; called standalone with:&#x27;, (self, a, b)) if self is not None: print(&#x27; self.attr =&#x27;, self.attr)class MyClass: def __init__(self): self.attr = &#x27;instance attribute&#x27; method1 = partialmethod(standalone) method2 = partial(standalone)o = MyClass()print(&#x27;standalone&#x27;)standalone(None)print()# å¯ä»¥æŠŠå¯¹è±¡ä¼ è¿›å»print(&#x27;method1 as partialmethod&#x27;)o.method1()print()# ç©¿ä¸è¿›å»å¯¹è±¡print(&#x27;method2 as partial&#x27;)try: o.method2()except TypeError as err: print(&#x27;ERROR: &#123;&#125;&#x27;.format(err)) standalone called standalone with: (None, 1, 2) method1 as partialmethod called standalone with: (&lt;__main__.MyClass object at 0x0000021B97BA8B80&gt;, 1, 2) self.attr = instance attribute method2 as partial ERROR: standalone() missing 1 required positional argument: 'self' å¯Œæ¯”è¾ƒ 1234567891011121314151617181920212223242526272829303132333435363738394041424344import functoolsimport inspectfrom pprint import pprint&#x27;&#x27;&#x27;å¤§äº &gt; __gt__()å¤§äºç­‰äº &gt;= __ge__()ç­‰äº == __eq__()å°äº &lt; __lt__()å°äºç­‰äº &lt;= __le__()ä¸ç­‰äº != __ne()__&#x27;&#x27;&#x27;@functools.total_orderingclass MyObject: def __init__(self, val): self.val = val def __eq__(self, other): print(&#x27; testing __eq__(&#123;&#125;, &#123;&#125;)&#x27;.format( self.val, other.val)) return self.val == other.val def __gt__(self, other): print(&#x27; testing __gt__(&#123;&#125;, &#123;&#125;)&#x27;.format( self.val, other.val)) return self.val &gt; other.valprint(&#x27;Methods:\\n&#x27;)pprint(inspect.getmembers(MyObject, inspect.isfunction))a = MyObject(1)b = MyObject(2)print(&#x27;\\nComparisons:&#x27;)for expr in [&#x27;a &lt; b&#x27;, &#x27;a &lt;= b&#x27;, &#x27;a == b&#x27;, &#x27;a &gt;= b&#x27;, &#x27;a &gt; b&#x27;]: print(&#x27;\\n&#123;:&lt;6&#125;:&#x27;.format(expr)) result = eval(expr) print(&#x27; result of &#123;&#125;: &#123;&#125;&#x27;.format(expr, result)) Methods: [('__eq__', &lt;function MyObject.__eq__ at 0x0000021B998A7940&gt;), ('__ge__', &lt;function _ge_from_gt at 0x0000021B932024C0&gt;), ('__gt__', &lt;function MyObject.__gt__ at 0x0000021B998A70D0&gt;), ('__init__', &lt;function MyObject.__init__ at 0x0000021B998A79D0&gt;), ('__le__', &lt;function _le_from_gt at 0x0000021B93202550&gt;), ('__lt__', &lt;function _lt_from_gt at 0x0000021B93202430&gt;)] Comparisons: a &lt; b : testing __gt__(1, 2) testing __eq__(1, 2) result of a &lt; b: True a &lt;= b: testing __gt__(1, 2) result of a &lt;= b: True a == b: testing __eq__(1, 2) result of a == b: False a &gt;= b: testing __gt__(1, 2) testing __eq__(1, 2) result of a &gt;= b: False a &gt; b : testing __gt__(1, 2) result of a &gt; b: False 1234567891011121314151617181920212223242526# cmp_to_keyå°† Python 2 ç¨‹åºè½¬æ¢è‡³æ–°ç‰ˆçš„è½¬æ¢å·¥å…·ï¼Œä»¥ä¿æŒå¯¹æ¯”è¾ƒå‡½æ•°çš„å…¼å®¹ã€‚&#x27;&#x27;&#x27;key å‚æ•°ï¼šPython 3 æ”¯æŒï¼Œæ¥å—çš„å‡½æ•°ï¼ˆå…¥å‚ä¸ºæ¯ä¸ªå…ƒç´ ï¼‰è¿”å›å€¼ï¼ˆå¯¹è¿™ä¸ªå…ƒç´ çš„è®¡ç®—ï¼‰ï¼Œè¡¨ç¤ºæ­¤å…ƒç´ çš„æƒå€¼ï¼Œsorted å°†æŒ‰ç…§æƒå€¼å¤§å°è¿›è¡Œæ’åºcmp å‚æ•°ï¼šPython 2 æ”¯æŒï¼Œæ¥å—çš„å‡½æ•°æ˜¯å…ƒç´ ä¸­çš„æ‰€æœ‰éœ€è¦å¯¹æ¯”çš„ä¸¤ä¸ªå…ƒç´ ï¼Œè¿™ä¸ªå‡½æ•°å®šä¹‰å¤§äºï¼ˆä¸€èˆ¬è¿”å›1ï¼‰ã€å°äºï¼ˆ-1ï¼‰ã€ç­‰äºé€»è¾‘ï¼ˆ1ï¼‰ï¼Œæœ€åæ ¹æ®è¿™äº›æ¯”è¾ƒé€»è¾‘æ’åº&#x27;&#x27;&#x27;from functools import cmp_to_keydef mycmp(a, b): # æå–å­—ç¬¦ä¸­çš„æ•°å­— a = int(&#x27;&#x27;.join([i for i in a if i.isdigit()])) b = int(&#x27;&#x27;.join([i for i in b if i.isdigit()])) if a &gt; b: print(a, &quot;vs&quot;, b, &#x27;=&#x27; , 1) return 1 elif a &lt; b: print(a, &quot;vs&quot;, b, &#x27;=&#x27; , -1) return -1 else: print(a, &quot;vs&quot;, b, &#x27;=&#x27; , 0) return 0print(sorted([&#x27;b29s&#x27;, &#x27;c2s20&#x27;, &#x27;a1-1&#x27;, &#x27;88d&#x27;], key=cmp_to_key(mycmp)))print(sorted([&#x27;b29s&#x27;, &#x27;c2s20&#x27;, &#x27;a1-1&#x27;, &#x27;88d&#x27;], key=lambda x: int(&#x27;&#x27;.join([i for i in x if i.isdigit()])))) 220 vs 29 = 1 11 vs 220 = -1 11 vs 220 = -1 11 vs 29 = -1 88 vs 29 = 1 88 vs 220 = -1 ['a1-1', 'b29s', '88d', 'c2s20'] ['a1-1', 'b29s', '88d', 'c2s20'] ç¼“å­˜ 123456789101112131415161718192021222324252627282930313233import functools# maxsize è®¾ç½®æœ€å¤§ç¼“å­˜é‡# æœ€è¿‘æœ€å°‘ä½¿ç”¨@functools.lru_cache()# @functools.cache()# cacheä¸éœ€è¦ç§»å‡ºæ—§å€¼ï¼Œç¼“å­˜å¤§å°æ²¡æœ‰é™åˆ¶# return lru_cache(maxsize=None)(user_function)def expensive(a, b): # å‚æ•°å¿…é¡»æ˜¯å¯æ•£åˆ—çš„ print(&#x27;expensive(&#123;&#125;, &#123;&#125;)&#x27;.format(a, b)) return a * bMAX = 2print(&#x27;First set of calls:&#x27;)for i in range(MAX): for j in range(MAX): expensive(i, j)print(expensive.cache_info())print(&#x27;\\nSecond set of calls:&#x27;)for i in range(MAX + 1): for j in range(MAX + 1): expensive(i, j)print(expensive.cache_info())print(&#x27;\\nClearing cache:&#x27;)expensive.cache_clear()print(expensive.cache_info())print(&#x27;\\nThird set of calls:&#x27;)for i in range(MAX): for j in range(MAX): expensive(i, j)print(expensive.cache_info()) First set of calls: expensive(0, 0) expensive(0, 1) expensive(1, 0) expensive(1, 1) CacheInfo(hits=0, misses=4, maxsize=128, currsize=4) Second set of calls: expensive(0, 2) expensive(1, 2) expensive(2, 0) expensive(2, 1) expensive(2, 2) CacheInfo(hits=4, misses=9, maxsize=128, currsize=9) Clearing cache: CacheInfo(hits=0, misses=0, maxsize=128, currsize=0) Third set of calls: expensive(0, 0) expensive(0, 1) expensive(1, 0) expensive(1, 1) CacheInfo(hits=0, misses=4, maxsize=128, currsize=4) ç¼©å‡ 12345678910111213141516171819202122232425import functoolsfrom functools import reduce# def reduce(function, iterable, initializer=None):# it = iter(iterable)# if initializer is None:# value = next(it)# else:# value = initializer# for element in it:# value = function(value, element)# return value# æ˜¯è®¡ç®— ((((1+2)+3)+4)+5) çš„å€¼,å‰ç¼€å’Œprint(reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) )# é»˜è®¤å‚æ•°æ”¾ç¬¬ä¸€ä¸ªinitializerdef do_reduce(a, b): print(&#x27;do_reduce(&#123;&#125;, &#123;&#125;)&#x27;.format(a, b)) return a + bdata = range(1, 5)print(data)result = functools.reduce(do_reduce, data, 999)print(&#x27;result: &#123;&#125;&#x27;.format(result)) 15 range(1, 5) do_reduce(999, 1) do_reduce(1000, 2) do_reduce(1002, 3) do_reduce(1005, 4) result: 1009 æ³›å‹å‡½æ•° 1234567891011121314151617181920212223242526272829import functools# ä¸åŒçš„ç±»å‹è¿›ä¸åŒçš„å‡½æ•°,æ ¹æ®å‚æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°åˆ‡æ¢å‡½æ•°@functools.singledispatchdef myfunc(arg): print(&#x27;default myfunc(&#123;!r&#125;)&#x27;.format(arg))@myfunc.register(int)def myfunc_int(arg): print(&#x27;myfunc_int(&#123;&#125;)&#x27;.format(arg))@myfunc.register(list)def myfunc_list(arg): print(&#x27;myfunc_list()&#x27;) for item in arg: print(&#x27; &#123;&#125;&#x27;.format(item))@myfunc.registerdef myfunc_list(arg: float): print(&#x27;myfunc_float(&#123;&#125;)&#x27;.format(arg))# æ‰¾ä¸åˆ°åŒ¹é…çš„ç±»å‹ä¼šè®¡ç®—ç»§æ‰¿é¡ºåº,åŒ¹é…æœ€è¿‘çš„çˆ¶ç±»myfunc(&#x27;string argument&#x27;)myfunc(1)myfunc(2.3)myfunc([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]) default myfunc('string argument') myfunc_int(1) myfunc_float(2.3) myfunc_list() a b c itertools:è¿­ä»£å™¨å‡½æ•° chain 12345678910111213141516# åœ¨æ¶ˆè´¹æ•°æ®ä¹‹å‰ä¸ä»è¿­ä»£å™¨ç”Ÿæˆæ•°æ®from itertools import chainfor i in chain([1, 2, 3], [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]): print(i, end=&#x27; &#x27;)print()def make_iterables_to_chain(): yield [1, 2, 3] yield [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]for i in chain.from_iterable(make_iterables_to_chain()): print(i, end=&#x27; &#x27;)print() 1 2 3 a b c 1 2 3 a b c zip_longest 123456789101112131415from itertools import zip_longestr1 = range(3)r2 = range(2)print(&#x27;zip stops early:&#x27;)print(list(zip(r1, r2)))r1 = range(3)r2 = range(2)print(&#x27;\\nzip_longest processes all of the values:&#x27;)print(list(zip_longest(r1, r2)))print(list(zip_longest(r1, r2,fillvalue=6666))) zip stops early: [(0, 0), (1, 1)] zip_longest processes all of the values: [(0, 0), (1, 1), (2, None)] [(0, 0), (1, 1), (2, 6666)] islice 123456789101112131415from itertools import isliceprint(&#x27;Stop at 5:&#x27;)for i in islice(range(100), 5): print(i, end=&#x27; &#x27;)print(&#x27;\\n&#x27;)print(&#x27;Start at 5, Stop at 10:&#x27;)for i in islice(range(100), 5, 10): print(i, end=&#x27; &#x27;)print(&#x27;\\n&#x27;)print(&#x27;By tens to 100:&#x27;)for i in islice(range(100), 0, 100, 10): print(i, end=&#x27; &#x27;)print(&#x27;\\n&#x27;) Stop at 5: 0 1 2 3 4 Start at 5, Stop at 10: 5 6 7 8 9 By tens to 100: 0 10 20 30 40 50 60 70 80 90 tee map,starmap 123456789101112131415161718192021222324252627282930def times_two(x): return 2 * xdef multiply(x, y): return (x, y, x * y)print(&#x27;Doubles:&#x27;)for i in map(times_two, range(5)): print(i,end=&#x27; &#x27;)print(&#x27;\\nMultiples:&#x27;)r1 = range(5)r2 = range(5, 10)for i in map(multiply, r1, r2): print(&#x27;&#123;:d&#125; * &#123;:d&#125; = &#123;:d&#125;&#x27;.format(*i))# åªè¿è¡Œå®Œæœ€çŸ­çš„print(&#x27;\\nStopping:&#x27;)r1 = range(5)r2 = range(2)for i in map(multiply, r1, r2): print(i)from itertools import starmap# map ä¼ å…¥çš„å‡½æ•°ä¸ºf(x,y) starmapä¼ å…¥çš„å‡½æ•°ä¸ºf(*x)values = [(0, 5), (1, 6), (2, 7), (3, 8), (4, 9)]for i in starmap(lambda x,y: (x*y,x,y), values): print(&#x27;&#123;&#125; * &#123;&#125; = &#123;&#125;&#x27;.format(*i)) Doubles: 0 2 4 6 8 Multiples: 0 * 5 = 0 1 * 6 = 6 2 * 7 = 14 3 * 8 = 24 4 * 9 = 36 Stopping: (0, 0, 0) (1, 1, 1) 0 * 0 = 5 6 * 1 = 6 14 * 2 = 7 24 * 3 = 8 36 * 4 = 9 count,cycle,repear 1234567891011121314151617181920from itertools import count,repeat,cycle# countæ— é™äº§ç”Ÿå€¼for i in zip(count(start=1, step=10), [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]): print(&#x27;&#123;&#125;: &#123;&#125;&#x27;.format(*i))# cycleæ— é™é‡å¤å€¼ for i in zip(range(7), cycle([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;])): print(i)# repearé‡å¤næ¬¡å€¼,ä¸æä¾›å°±æ˜¯æ— é™ for i in repeat([1,2,3,4], 5): print(i) # ç»„åˆfor i, s in zip(count(), repeat(&#x27;over-and-over&#x27;, 5)): print(i, s) for i in map(lambda x, y: (x, y, x * y), repeat(2), range(5)): print(&#x27;&#123;:d&#125; * &#123;:d&#125; = &#123;:d&#125;&#x27;.format(*i)) 1: a 11: b 21: c (0, 'a') (1, 'b') (2, 'c') (3, 'a') (4, 'b') (5, 'c') (6, 'a') [1, 2, 3, 4] [1, 2, 3, 4] [1, 2, 3, 4] [1, 2, 3, 4] [1, 2, 3, 4] 0 over-and-over 1 over-and-over 2 over-and-over 3 over-and-over 4 over-and-over 2 * 0 = 0 2 * 1 = 2 2 * 2 = 4 2 * 3 = 6 2 * 4 = 8 dropwhile,takewhile,filter,filterfalse,compress 12345678910111213141516171819202122232425262728293031323334353637383940414243from itertools import dropwhile,takewhile,filterfalse,compressdef should_drop(x): print(&#x27;Testing:&#x27;, x) return x &lt; 1# ç¬¬ä¸€æ¬¡ä¸ºfalseä¹‹åçš„å…ƒç´ éƒ½ä¼šè¿”å›for i in dropwhile(should_drop, [-1, 0, 1, 2, -2]): print(&#x27;Yielding:&#x27;, i)print(&#x27;------------------------&#x27;)def should_take(x): print(&#x27;Testing:&#x27;, x) return x &lt; 2# ç¬¬ä¸€æ¬¡ä¸ºfalseä¹‹å‰çš„å…ƒç´ éƒ½ä¼šè¿”å›,é‡è§falseå°±ä¸è¿”å›äº†for i in takewhile(should_take, [-1, 0, 1, 2, -2]): print(&#x27;Yielding:&#x27;, i)print(&#x27;------------------------&#x27;)# åªè¿”å›trueçš„å…ƒç´ ,æ¯ä¸€ä¸ªéƒ½ä¼šè®¡ç®—def check_item(x): print(&#x27;Testing:&#x27;, x) return x &lt; 1for i in filter(check_item, [-1, 0, 1, 2, -2]): print(&#x27;Yielding:&#x27;, i)print(&#x27;------------------------&#x27;)# ç›¸ådef check_item(x): print(&#x27;Testing:&#x27;, x) return x &lt; 1for i in filterfalse(check_item, [-1, 0, 1, 2, -2]): print(&#x27;Yielding:&#x27;, i)print(&#x27;------------------------&#x27;)# æ ¹æ®trueå’Œfalseé€‰æ‹©æ•°æ®every_third = cycle([False, False, True])data = range(1, 10)for i in compress(data, every_third): print(i, end=&#x27; &#x27;)print() Testing: -1 Testing: 0 Testing: 1 Yielding: 1 Yielding: 2 Yielding: -2 ------------------------ Testing: -1 Yielding: -1 Testing: 0 Yielding: 0 Testing: 1 Yielding: 1 Testing: 2 ------------------------ Testing: -1 Yielding: -1 Testing: 0 Yielding: 0 Testing: 1 Testing: 2 Testing: -2 Yielding: -2 ------------------------ Testing: -1 Testing: 0 Testing: 1 Yielding: 1 Testing: 2 Yielding: 2 Testing: -2 ------------------------ 3 6 9 groupby 1234567from itertools import groupbyd = dict(a=1, b=2, c=1, d=2, e=1, f=2, g=3)d = [(1,2),(2,3),(3,4),(4,2)]di = sorted(d, key=lambda x:x[1])for k, g in groupby(di, key=lambda x:x[1]): print(k, list(map(lambda x:x[1], g))) 2 [2, 2] 3 [3] 4 [4] accumulate 1234567891011from itertools import accumulate# è®¡ç®—ç´¯è®¡å’Œprint(list(accumulate(range(5))))print(list(accumulate(&#x27;abcde&#x27;)))def f(a, b): print(a, b) return b + a + bprint(list(accumulate(&#x27;abcde&#x27;, f))) [0, 1, 3, 6, 10] ['a', 'ab', 'abc', 'abcd', 'abcde'] a b bab c cbabc d dcbabcd e ['a', 'bab', 'cbabc', 'dcbabcd', 'edcbabcde'] product 12345678910111213141516171819202122232425262728293031323334from itertools import product# ç¬›å¡å°”ç§¯FACE_CARDS = (&#x27;J&#x27;, &#x27;Q&#x27;, &#x27;K&#x27;, &#x27;A&#x27;)SUITS = (&#x27;H&#x27;, &#x27;D&#x27;, &#x27;C&#x27;, &#x27;S&#x27;)# é¡ºåºç”±è¾“å…¥é¡ºåºå†³å®šDECK = list( product( chain(range(2, 11), FACE_CARDS), SUITS, ))for card in DECK: print(&#x27;&#123;:&gt;2&#125;&#123;&#125;&#x27;.format(*card), end=&#x27; &#x27;) if card[1] == SUITS[-1]: print() # repearæ§åˆ¶å‡ ä¸ªè‡ªèº«def show(iterable): for i, item in enumerate(iterable, 1): print(item, end=&#x27; &#x27;) if (i % 3) == 0: print() print()print(&#x27;Repeat 2:\\n&#x27;)show(list(product(range(3), repeat=2)))print(&#x27;Repeat 3:\\n&#x27;)show(list(product(range(3), repeat=3))) 2H 2D 2C 2S 3H 3D 3C 3S 4H 4D 4C 4S 5H 5D 5C 5S 6H 6D 6C 6S 7H 7D 7C 7S 8H 8D 8C 8S 9H 9D 9C 9S 10H 10D 10C 10S JH JD JC JS QH QD QC QS KH KD KC KS AH AD AC AS Repeat 2: (0, 0) (0, 1) (0, 2) (1, 0) (1, 1) (1, 2) (2, 0) (2, 1) (2, 2) Repeat 3: (0, 0, 0) (0, 0, 1) (0, 0, 2) (0, 1, 0) (0, 1, 1) (0, 1, 2) (0, 2, 0) (0, 2, 1) (0, 2, 2) (1, 0, 0) (1, 0, 1) (1, 0, 2) (1, 1, 0) (1, 1, 1) (1, 1, 2) (1, 2, 0) (1, 2, 1) (1, 2, 2) (2, 0, 0) (2, 0, 1) (2, 0, 2) (2, 1, 0) (2, 1, 1) (2, 1, 2) (2, 2, 0) (2, 2, 1) (2, 2, 2) permutations,combinations 123456789101112131415161718192021222324from itertools import permutations,combinations,combinations_with_replacementdef show(iterable): first = None for i, item in enumerate(iterable, 1): if first != item[0]: if first is not None: print() first = item[0] print(&#x27;&#x27;.join(item), end=&#x27; &#x27;) print()# æ’åˆ—print(&#x27;All permutations:\\n&#x27;)show(permutations(&#x27;abcd&#x27;))print(&#x27;\\nPairs:\\n&#x27;)show(permutations(&#x27;abcd&#x27;, r=2))# ç»„åˆprint(&#x27;\\nUnique pairs:\\n&#x27;)show(combinations(&#x27;abcd&#x27;, r=2))# åŒ…å«è‡ªèº«print(&#x27;\\nUnique pairs:\\n&#x27;)show(combinations_with_replacement(&#x27;abcd&#x27;, r=2)) All permutations: abcd abdc acbd acdb adbc adcb bacd badc bcad bcda bdac bdca cabd cadb cbad cbda cdab cdba dabc dacb dbac dbca dcab dcba Pairs: ab ac ad ba bc bd ca cb cd da db dc Unique pairs: ab ac ad bc bd cd Unique pairs: aa ab ac ad bb bc bd cc cd dd operator:å†…ç½®æ“ä½œç¬¦çš„å‡½æ•°ç»“æ„ 1234567891011121314151617from operator import *# å…³é”®å­—çš„å‡½æ•°å®ç°a = -1b = 5print(&#x27;a =&#x27;, a)print(&#x27;b =&#x27;, b)print()print(&#x27;not_(a) :&#x27;, not_(a))print(&#x27;truth(a) :&#x27;, truth(a))print(&#x27;is_(a, b) :&#x27;, is_(a, b))print(&#x27;is_not(a, b):&#x27;, is_not(a, b))for func in (lt, le, eq, ne, ge, gt): print(&#x27;&#123;&#125;(a, b): &#123;&#125;&#x27;.format(func.__name__, func(a, b))) a = -1 b = 5 not_(a) : False truth(a) : True is_(a, b) : False is_not(a, b): True lt(a, b): True le(a, b): True eq(a, b): False ne(a, b): True ge(a, b): False gt(a, b): False 1234567891011121314151617181920212223class MyObj: &quot;&quot;&quot;example class for attrgetter&quot;&quot;&quot; def __init__(self, arg): super().__init__() self.arg = arg def __repr__(self): return &#x27;MyObj(&#123;&#125;)&#x27;.format(self.arg)l = [MyObj(i) for i in range(5)]print(&#x27;objects :&#x27;, l)# Extract the &#x27;arg&#x27; value from each objectg = attrgetter(&#x27;arg&#x27;)vals = [g(i) for i in l]print(&#x27;arg values:&#x27;, vals)# Sort using argl.reverse()print(&#x27;reversed :&#x27;, l)print(&#x27;sorted :&#x27;, sorted(l, key=g)) objects : [MyObj(0), MyObj(1), MyObj(2), MyObj(3), MyObj(4)] arg values: [0, 1, 2, 3, 4] reversed : [MyObj(4), MyObj(3), MyObj(2), MyObj(1), MyObj(0)] sorted : [MyObj(0), MyObj(1), MyObj(2), MyObj(3), MyObj(4)] contextlib:ä¸Šä¸‹æ–‡ç®¡ç†å™¨å·¥å…· 123456789101112131415161718192021222324252627282930313233343536class WithinContext: def __init__(self, context): print(&#x27;WithinContext.__init__(&#123;&#125;)&#x27;.format(context)) def do_something(self): print(&#x27;WithinContext.do_something()&#x27;) def __del__(self): print(&#x27;WithinContext.__del__&#x27;)class Context: def __init__(self, handle_error): print(&#x27;__init__(&#123;&#125;)&#x27;.format(handle_error)) self.handle_error = handle_error def __enter__(self): print(&#x27;Context.__enter__()&#x27;) # æ­¤å¤„è¿”å›ä½œä¸ºasä½¿ç”¨ return WithinContext(self) def __exit__(self, exc_type, exc_val, exc_tb): print(&#x27;__exit__()&#x27;) print(&#x27; exc_type =&#x27;, exc_type) print(&#x27; exc_val =&#x27;, exc_val) print(&#x27; exc_tb =&#x27;, exc_tb) # è¿”å›trueå°±ä¸ç»§ç»­ä¼ é€’,è¿”å›falseç»§ç»­ä¼ é€’ return self.handle_errorwith Context(False) as c: c.do_something()print(&#x27;---------------&#x27;)with Context(True): raise RuntimeError(&#x27;error message handled&#x27;) __init__(False) Context.__enter__() WithinContext.__init__(&lt;__main__.Context object at 0x0000021B997DA3D0&gt;) WithinContext.__del__ WithinContext.do_something() __exit__() exc_type = None exc_val = None exc_tb = None --------------- __init__(True) Context.__enter__() WithinContext.__init__(&lt;__main__.Context object at 0x0000021B997DA3D0&gt;) WithinContext.__del__ __exit__() exc_type = &lt;class 'RuntimeError'&gt; exc_val = error message handled exc_tb = &lt;traceback object at 0x0000021B998C7D80&gt; 1234567891011121314151617181920import timefrom contextlib import contextmanager@contextmanagerdef timethis(label): start = time.time() # yield ä¹‹å‰çš„ä»£ç ä¼šåœ¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ä¸­ä½œä¸º __enter__() æ–¹æ³•æ‰§è¡Œ # æ‰€æœ‰åœ¨ yield ä¹‹åçš„ä»£ç ä¼šä½œä¸º __exit__() æ–¹æ³•æ‰§è¡Œ # å¦‚æœå‡ºç°äº†å¼‚å¸¸ï¼Œå¼‚å¸¸ä¼šåœ¨yieldè¯­å¥é‚£é‡ŒæŠ›å‡ºã€‚ try: yield finally: end = time.time() print(&#x27;&#123;&#125;: &#123;&#125;&#x27;.format(label, end - start))# Example usewith timethis(&#x27;counting&#x27;): n = 10000000 while n &gt; 0: n -= 1 counting: 0.678372859954834 æ—¥æœŸå’Œæ—¶é—´ time 12345678910111213141516171819202122232425262728293031323334353637import time# æŠ¥å‘Šç³»ç»ŸæŒ‚é’Ÿæ—¶é—´,è¿”å›æŸä¸€æ—¶åˆ»çš„ç§’æ•°print(time.time())# monotonic()é€’å¢å‡½æ•°,timeå¯èƒ½å› ä¸ºç³»ç»Ÿæ—¶é—´åé€€# monotonicçš„èµ·å§‹æ—¶é—´æ— æ„ä¹‰,ä¸»è¦æ˜¯å·®å€¼print(time.monotonic())# perf_counteré«˜åˆ†è¾¨ç‡æ—¶é’Ÿprint(time.perf_counter())# process_timeå¤„ç†å™¨å¤„ç†æ—¶é—´print(time.process_time())# ctime è¿”å›äººèƒ½çœ‹æ‡‚çš„æ—¶é—´å­—ç¬¦ä¸²,é»˜è®¤è¿”å›å½“å‰æ—¶é—´print(time.ctime())print(time.ctime(time.time()+20))# è¿”å›å½“å‰æ—¶é—´çš„ç»“æ„åŒ–æ—¶é—´print(time.localtime())# è¿”å›UTCæ—¶åŒºçš„ç»“æ„åŒ–æ—¶é—´print(time.gmtime())# æŠŠç»“æ„åŒ–æ—¶é—´è½¬åŒ–ä¸ºæµ®ç‚¹ç§’æ•°print(time.mktime(time.localtime()))# å¤„ç†æ—¶åŒºé—®é¢˜# å­—ç¬¦ä¸²æ—¶é—´è½¬ä¸ºç»“æ„åŒ–æ—¶é—´print(time.strptime(time.ctime()))# ç»“æ„åŒ–æ—¶é—´è½¬åŒ–ä¸ºæŒ‡å®šæ ¼å¼print(time.strftime(r&quot;%Y-%m-%d %H:%M:%S&quot;,time.localtime())) 1678199761.7579758 951660.75 644.1160248 3.59375 Tue Mar 7 22:36:01 2023 Tue Mar 7 22:36:21 2023 time.struct_time(tm_year=2023, tm_mon=3, tm_mday=7, tm_hour=22, tm_min=36, tm_sec=1, tm_wday=1, tm_yday=66, tm_isdst=0) time.struct_time(tm_year=2023, tm_mon=3, tm_mday=7, tm_hour=14, tm_min=36, tm_sec=1, tm_wday=1, tm_yday=66, tm_isdst=0) 1678199761.0 time.struct_time(tm_year=2023, tm_mon=3, tm_mday=7, tm_hour=22, tm_min=36, tm_sec=1, tm_wday=1, tm_yday=66, tm_isdst=-1) 2023-03-07 22:36:01 1234567891011121314151617181920212223import textwrapimport timeavailable_clocks = [ (&#x27;monotonic&#x27;, time.monotonic), (&#x27;perf_counter&#x27;, time.perf_counter), (&#x27;process_time&#x27;, time.process_time), (&#x27;time&#x27;, time.time),]for clock_name, func in available_clocks: print(textwrap.dedent(&#x27;&#x27;&#x27;\\ &#123;name&#125;: adjustable : &#123;info.adjustable&#125; implementation: &#123;info.implementation&#125; monotonic : &#123;info.monotonic&#125; resolution : &#123;info.resolution&#125; current : &#123;current&#125; &#x27;&#x27;&#x27;).format( name=clock_name, info=time.get_clock_info(clock_name), current=func()) ) monotonic: adjustable : False implementation: GetTickCount64() monotonic : True resolution : 0.015625 current : 951073.281 perf_counter: adjustable : False implementation: QueryPerformanceCounter() monotonic : True resolution : 1e-07 current : 56.6460748 process_time: adjustable : False implementation: GetProcessTimes() monotonic : True resolution : 1e-07 current : 2.59375 time: adjustable : True implementation: GetSystemTimeAsFileTime() monotonic : False resolution : 0.015625 current : 1678199174.288961 datetime 12345678910111213141516171819import datetime# è·å–å¹´æœˆæ—¥ç­‰today = datetime.date.today()print(today)print(&#x27;ctime :&#x27;, today.ctime())tt = today.timetuple()print(&#x27;tuple : tm_year =&#x27;, tt.tm_year)print(&#x27; tm_mon =&#x27;, tt.tm_mon)print(&#x27; tm_mday =&#x27;, tt.tm_mday)print(&#x27; tm_hour =&#x27;, tt.tm_hour)print(&#x27; tm_min =&#x27;, tt.tm_min)print(&#x27; tm_sec =&#x27;, tt.tm_sec)print(&#x27; tm_wday =&#x27;, tt.tm_wday)print(&#x27; tm_yday =&#x27;, tt.tm_yday)print(&#x27; tm_isdst =&#x27;, tt.tm_isdst)print(&#x27;ordinal:&#x27;, today.toordinal())print(&#x27;Year :&#x27;, today.year)print(&#x27;Mon :&#x27;, today.month)print(&#x27;Day :&#x27;, today.day) 2023-03-07 ctime : Tue Mar 7 00:00:00 2023 tuple : tm_year = 2023 tm_mon = 3 tm_mday = 7 tm_hour = 0 tm_min = 0 tm_sec = 0 tm_wday = 1 tm_yday = 66 tm_isdst = -1 ordinal: 738586 Year : 2023 Mon : 3 Day : 7 12345678910import datetimeimport time# æ ¹æ®å¤©æ•°è¿”å›æ—¥æœŸo = 733114print(&#x27;o :&#x27;, o)print(&#x27;fromordinal(o) :&#x27;, datetime.date.fromordinal(o))t = time.time()print(&#x27;t :&#x27;, t)print(&#x27;fromtimestamp(t):&#x27;, datetime.date.fromtimestamp(t)) o : 733114 fromordinal(o) : 2008-03-13 t : 1678199846.9677696 fromtimestamp(t): 2023-03-07 1234567891011121314import datetime# è·å–æ—¶é—´å¯¹åº”ç§’æ•°for delta in [datetime.timedelta(microseconds=1), datetime.timedelta(milliseconds=1), datetime.timedelta(seconds=1), datetime.timedelta(minutes=1), datetime.timedelta(hours=1), datetime.timedelta(days=1), datetime.timedelta(weeks=1), ]: print(&#x27;&#123;:15&#125; = &#123;:8&#125; seconds&#x27;.format( str(delta), delta.total_seconds()) ) 0:00:00.000001 = 1e-06 seconds 0:00:00.001000 = 0.001 seconds 0:00:01 = 1.0 seconds 0:01:00 = 60.0 seconds 1:00:00 = 3600.0 seconds 1 day, 0:00:00 = 86400.0 seconds 7 days, 0:00:00 = 604800.0 seconds 1234567891011121314151617import datetime# æ—¶é—´çš„è®¡ç®—today = datetime.date.today()print(&#x27;Today :&#x27;, today)one_day = datetime.timedelta(days=1)print(&#x27;One day :&#x27;, one_day)yesterday = today - one_dayprint(&#x27;Yesterday:&#x27;, yesterday)tomorrow = today + one_dayprint(&#x27;Tomorrow :&#x27;, tomorrow)print()print(&#x27;tomorrow - yesterday:&#x27;, tomorrow - yesterday)print(&#x27;yesterday - tomorrow:&#x27;, yesterday - tomorrow) 1234567891011121314151617import datetimeimport time# æ—¶é—´æ¯”è¾ƒprint(&#x27;Times:&#x27;)t1 = datetime.time(12, 55, 0)print(&#x27; t1:&#x27;, t1)t2 = datetime.time(13, 5, 0)print(&#x27; t2:&#x27;, t2)print(&#x27; t1 &lt; t2:&#x27;, t1 &lt; t2)print()print(&#x27;Dates:&#x27;)d1 = datetime.date.today()print(&#x27; d1:&#x27;, d1)d2 = datetime.date.today() + datetime.timedelta(days=1)print(&#x27; d2:&#x27;, d2)print(&#x27; d1 &gt; d2:&#x27;, d1 &gt; d2) 12345678910111213141516import datetime# æ—¶é—´å’Œæ—¥æœŸç»„åˆåœ¨ä¸€èµ·print(&#x27;Now :&#x27;, datetime.datetime.now())print(&#x27;Today :&#x27;, datetime.datetime.today())print(&#x27;UTC Now:&#x27;, datetime.datetime.utcnow())print()FIELDS = [ &#x27;year&#x27;, &#x27;month&#x27;, &#x27;day&#x27;, &#x27;hour&#x27;, &#x27;minute&#x27;, &#x27;second&#x27;, &#x27;microsecond&#x27;,]d = datetime.datetime.now()for attr in FIELDS: print(&#x27;&#123;:15&#125;: &#123;&#125;&#x27;.format(attr, getattr(d, attr))) Now : 2023-03-07 22:41:14.718075 Today : 2023-03-07 22:41:14.718076 UTC Now: 2023-03-07 14:41:14.718075 year : 2023 month : 3 day : 7 hour : 22 minute : 41 second : 14 microsecond : 719073 123456789101112import datetime# æ—¥æœŸæ ¼å¼åŒ–format = &quot;%a %b %d %H:%M:%S %Y&quot;today = datetime.datetime.today()print(&#x27;ISO :&#x27;, today)s = today.strftime(format)print(&#x27;strftime:&#x27;, s)d = datetime.datetime.strptime(s, format)print(&#x27;strptime:&#x27;, d.strftime(format)) ISO : 2023-03-07 22:40:31.254463 strftime: Tue Mar 07 22:40:31 2023 strptime: Tue Mar 07 22:40:31 2023 æ—¥æœŸæ“ä½œ 1234import calendar# è®¾ç½®æ˜ŸæœŸä¸€æ˜¯ç¬¬ä¸€å¤©è¿˜æ˜¯æ˜ŸæœŸå¤©æ˜¯ç¬¬ä¸€å¤©c = calendar.TextCalendar(calendar.MONDAY)c.prmonth(2023, 3) March 2023 Mo Tu We Th Fr Sa Su 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 1234import calendarimport pprintpprint.pprint(calendar.monthcalendar(2023, 3)) [[0, 0, 1, 2, 3, 4, 5], [6, 7, 8, 9, 10, 11, 12], [13, 14, 15, 16, 17, 18, 19], [20, 21, 22, 23, 24, 25, 26], [27, 28, 29, 30, 31, 0, 0]] 12# jupyter nbconvert --to markdown ***.ipynb# ipynb-&gt;markdown","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"python3 æ ‡å‡†åº“","slug":"python3-æ ‡å‡†åº“","permalink":"https://gladdduck.github.io/tags/python3-%E6%A0%87%E5%87%86%E5%BA%93/"}]},{"title":"æ›´æ¢,é…ç½®è…¾è®¯äº‘æœåŠ¡å™¨","slug":"é…ç½®-é…ç½®è…¾è®¯äº‘æœåŠ¡å™¨","date":"2023-03-30T04:30:51.203Z","updated":"2023-11-26T05:17:18.231Z","comments":true,"path":"2023/03/30/é…ç½®-é…ç½®è…¾è®¯äº‘æœåŠ¡å™¨/","link":"","permalink":"https://gladdduck.github.io/2023/03/30/%E9%85%8D%E7%BD%AE-%E9%85%8D%E7%BD%AE%E8%85%BE%E8%AE%AF%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"","text":"é˜¿é‡ŒæœåŠ¡å™¨åˆ°æœŸäº†,ç»­è´¹too expensive,æ”¹ç”¨è…¾è®¯ä¸çš„æ–°ç”¨æˆ·,188ä¸€å¹´2æ ¸4G æœåŠ¡å™¨ç›¸å…³(ä¹°å®ŒæœåŠ¡å™¨ä¹‹åæ­¥éª¤) 1.æ”¹ç”¨rootè¿æ¥ åœ¨è…¾è®¯äº‘æœåŠ¡å™¨æ§åˆ¶å°ä¸­,ä¿®æ”¹å®ä¾‹å¯†ç  ç”¨sshè¿æ¥ 1234ssh ubuntu@ip è¾“å…¥ä½ çš„å¯†ç  sshè¿æ¥ä¸Šä¹‹å 123456sudo passwd rootè¾“å…¥rootå¯†ç é‡å¤ä¸€ésudo vi /etc/ssh/sshd_configæŠŠPermitRootLogin æ”¹ä¸º yes(æŒ‰i è¿›å…¥Insertæ¨¡å¼ ç„¶åä¿®æ”¹ æŒ‰eseé€€å‡ºç¼–è¾‘æ¨¡å‹ :wq é€€å‡º) ç„¶åå°±å¯ä»¥ç”¨ssh root@ipè¿›è¡Œè¿æ¥äº† 2.å®‰è£…nginx(æ–¹é¢åé¢è®¾ç½®è®¿é—®çš„æ ¹ç›®å½•) å®‰è£… 123sudo apt updatesudo apt install nginxsudo systemctl status nginx ä¿®æ”¹é…ç½®æ–‡ä»¶ 123456789101112131415161718/etc/nginx/sites-enabled/defaultä¿®æ”¹é…ç½®æ–‡ä»¶server &#123; # ç«¯å£ listen 80; listen [::]:80; # åŸŸå server_name åŸŸå; # è¿™ä¸ªåŸŸåè®¿é—®çš„è·¯å¾„ location / &#123; root index.htmlçš„å®Œæ•´è·¯å¾„; index index.html; &#125;&#125;3. é‡å¯nginxservice nginx restart 3.å®‰è£…conda(ä¸ç”¨pythonå¯ä»¥è·³è¿‡) å®˜ç½‘ä¸‹è½½condaå®‰è£…åŒ… sshä¼ åˆ°æœåŠ¡å™¨(vscodeç›´æ¥æ‹–è¿›å») è¿›å…¥åˆ°è‡ªå·±çš„æ–‡ä»¶å¤¹(åˆç†æœ‰åºåˆ›å»ºæ–‡ä»¶å¤¹) bash å®‰è£…åŒ…åå­— é…ç½®ç¯å¢ƒå˜é‡ 1234567# ä¸¤ç§æ–¹å¼,ä¸Šé¢ä¸€ç§å¯¹æˆ‘æ²¡ç”¨,ä¸‹é¢æœ‰ç”¨1. /home/../.bashrcexport PATH=..../bin:$PATHsource ~/.bashrc2. /etc/profilesource /etc/profile conda -V ä¸æ˜¯command not foundå°±è¡Œ 4.è¿è¡Œpythonæ–‡ä»¶ 123456789101112131415161718192021222324252627281. nohup python appcopy.py &gt;appcopy.log 2&gt;&amp;1 &amp;è§£é‡Š:2&gt;&amp;1 &amp;0 ä»£è¡¨STDIN_FILENO æ ‡å‡†è¾“å…¥ï¼ˆä¸€èˆ¬æ˜¯é”®ç›˜ï¼‰ï¼Œ1 ä»£è¡¨STDOUT_FILENO æ ‡å‡†è¾“å‡ºï¼ˆä¸€èˆ¬æ˜¯æ˜¾ç¤ºå±ï¼Œå‡†ç¡®çš„è¯´æ˜¯ç”¨æˆ·ç»ˆç«¯æ§åˆ¶å°ï¼‰ï¼Œ2 ä¸‰ä»£è¡¨STDERR_FILENO (æ ‡å‡†é”™è¯¯ï¼ˆå‡ºé”™ä¿¡æ¯è¾“å‡ºï¼‰ã€‚&gt; ç›´æ¥æŠŠå†…å®¹ç”Ÿæˆåˆ°æŒ‡å®šæ–‡ä»¶ï¼Œä¼šè¦†ç›–åŸæ¥æ–‡ä»¶ä¸­çš„å†…å®¹[ls &gt; test.txt],&gt;&gt; å°¾éƒ¨è¿½åŠ ï¼Œä¸ä¼šè¦†ç›–åŸæœ‰å†…å®¹ [ls &gt;&gt; test.txt],&lt; å°†æŒ‡å®šæ–‡ä»¶çš„å†…å®¹ä½œä¸ºå‰é¢å‘½ä»¤çš„å‚æ•°[cat &lt; text.sh]2&gt;&amp;1å°±æ˜¯ç”¨æ¥å°†æ ‡å‡†é”™è¯¯2é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡º1ä¸­çš„ã€‚æ­¤å¤„1å‰é¢çš„&amp;å°±æ˜¯ä¸ºäº†è®©bashå°†1è§£é‡Šæˆæ ‡å‡†è¾“å‡ºè€Œä¸æ˜¯æ–‡ä»¶1ã€‚è‡³äºæœ€åä¸€ä¸ª&amp;ï¼Œåˆ™æ˜¯è®©bashåœ¨åå°æ‰§è¡Œã€‚2. ç¬¬ä¸€æ­¥ä¼šç»™ä¸€ä¸ªè¿›ç¨‹ipps aux æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹3. æŸ¥çœ‹è¾“å‡ºå†…å®¹cat appcopy.log 4.å…³é—­è¿›ç¨‹kill -9 è¿›ç¨‹ç¼–å·kill -KILL è¿›ç¨‹ç¼–å· åŸŸåç›¸å…³(æ›´æ¢åŸŸåä¸ä¹‹å‰ipçš„ç»‘å®š) åœ¨è…¾è®¯äº‘åŸŸåè§£æé¡µé¢ æŠŠä¹‹å‰åŸŸåç»‘å®šçš„ipæ¢æˆç°åœ¨çš„ipå³å¯ ä½†æ˜¯ç°åœ¨çš„æœåŠ¡å™¨è¦æœ‰ç›¸åº”çš„ç½‘é¡µ","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"æ­å»ºåšå®¢","slug":"æ­å»ºåšå®¢","permalink":"https://gladdduck.github.io/tags/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"}]},{"title":"LeecCodeå‰‘æŒ‡offer1","slug":"ç®—æ³•-LeetCodeå‰‘æŒ‡offer1","date":"2023-03-16T01:35:17.779Z","updated":"2023-03-30T05:57:32.307Z","comments":true,"path":"2023/03/16/ç®—æ³•-LeetCodeå‰‘æŒ‡offer1/","link":"","permalink":"https://gladdduck.github.io/2023/03/16/%E7%AE%97%E6%B3%95-LeetCode%E5%89%91%E6%8C%87offer1/","excerpt":"","text":"LeecCodeå‰‘æŒ‡offer1åˆ·é¢˜è®°å½• ç¬¬ä¸€å¤© å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— æ€è·¯:ä¸€ä¸ªæ ˆ1ç”¨äºè¿›,ä¸€ä¸ªæ ˆ2ç”¨äºå‡º,å½“2ç©ºäº†,å°±æŠŠ1é‡Œé¢çš„å…ƒç´ å…¨éƒ¨æ”¾è¿›2,å¦‚æœæ­¤æ—¶1ä¹Ÿç©ºäº†,é‚£å°±æ˜¯éƒ½ç©ºäº† 12345678910111213141516class CQueue: def __init__(self): self.stack_in=[] self.stack_out=[] def appendTail(self, value: int) -&gt; None: self.stack_in.append(value) def deleteHead(self) -&gt; int: if len(self.stack_out): return self.stack_out.pop() else: if len(self.stack_in): while len(self.stack_in): self.stack_out.append(self.stack_in.pop()) return self.stack_out.pop() else: return -1 å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ æ€è·¯:ä¸€ä¸ªå•ç‹¬çš„æ ˆxå­˜æœ€å°å€¼,å¦‚æœè¿›æ ˆçš„å…ƒç´ å°äºç­‰äºxæœ€é¡¶å…ƒç´ å°±è¿›x,å¦‚æœå‡ºæ ˆå…ƒç´ ç­‰äºxé¡¶å±‚å…ƒç´ ,xå‡ºæ ˆ 123456789101112131415161718class MinStack: def __init__(self): self.stack=[] self.minnums=[] def push(self, x: int) -&gt; None: self.stack.append(x) if not len(self.minnums) or x&lt;=self.minnums[-1]: self.minnums.append(x) def pop(self) -&gt; None: if self.stack[-1]==self.minnums[-1]: self.stack.pop() self.minnums.pop() else: self.stack.pop() def top(self) -&gt; int: return self.stack[-1] def min(self) -&gt; int: return self.minnums[-1] ç¬¬äºŒå¤© å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ æ€è·¯:1.éå†ä¸€éé“¾è¡¨,ç”¨æ•°ç»„å­˜æ¯ä¸ªå…ƒç´ ,ç„¶åè¿”å›æ•°ç»„çš„é€†åº 2.é€’å½’ 12345678class Solution: def reversePrint(self, head: ListNode) -&gt; List[int]: ans=[] while head: ans.append(head.val) head=head.next return ans[::-1] # return self.reversePrint(head.next) + [head.val] if head else [] å‰‘æŒ‡ Offer 24. åè½¬é“¾è¡¨ æ€è·¯:1.ä¸‰ä¸ªæŒ‡é’ˆ,æ¨¡æ‹Ÿåˆ—è¡¨æ–­å¼€å‘åè¿æ¥çš„æƒ…æ™¯,2.æŠŠé“¾è¡¨å…ƒç´ éƒ½å­˜åœ¨æ•°ç»„é‡Œ,å½“ä½œä¸€ä¸ªä¸ªå•ç‹¬çš„èŠ‚ç‚¹,åè¿‡æ¥è¿æ¥ 12345678910111213141516171819class Solution: def reverseList(self, head: ListNode) -&gt; ListNode: if head is None:return head re=[] while head: re.append(head) temp=head.next head.next=None head=temp re.reverse() print(re) ret=None for i in range(len(re)): if ret is None: ret=re[i] else: ret.next=re[i] ret=ret.next return re[0] å‰‘æŒ‡ Offer 35. å¤æ‚é“¾è¡¨çš„å¤åˆ¶ é”™è¯¯æ€è·¯:ä¸èƒ½åƒæ™®é€šé“¾è¡¨ä¸€æ ·éå†é‡æ–°è¿æ¥,å› ä¸ºrandomæŒ‡é’ˆçš„èŠ‚ç‚¹å¯èƒ½è¿˜æ²¡éå†åˆ° æ€è·¯:1.é€’å½’ 2.æŠŠA-B-Cçš„é“¾è¡¨ æ”¹é€ æˆA-Aâ€™-B-Bâ€™-C-Câ€™,ç„¶åæ¨¡ä»¿åŸæŒ‡é’ˆçš„ä¸‹ä¸€ä¸ªä½ç½®,ä¸»è¦å„ä¸ªè¾¹ç•Œæ¡ä»¶çš„åˆ¤æ–­ 12345678910111213141516171819202122232425# æ‹¼æ¥+æ‹†åˆ†class Solution: def copyRandomList(self, head: &#x27;Node&#x27;) -&gt; &#x27;Node&#x27;: if head is None :return None temphead=head while head: temp=Node(head.val) temp.next=head.next head.next=temp head=head.next.next head=temphead while head: if head.random: head.next.random=head.random.next head=head.next.next orighead=head=temphead.next ans=head while head: if head.next is None: break temp=orighead.next.next head.next=orighead.next.next head=head.next orighead=temp return ans 123456789101112131415161718// Hashè¡¨+é€’å½’class Solution &#123;public: unordered_map&lt;Node*, Node*&gt; cachedNode; Node* copyRandomList(Node* head) &#123; if (head == nullptr) &#123; return nullptr; &#125; if (!cachedNode.count(head)) &#123; Node* headNew = new Node(head-&gt;val); cachedNode[head] = headNew; headNew-&gt;next = copyRandomList(head-&gt;next); headNew-&gt;random = copyRandomList(head-&gt;random); &#125; return cachedNode[head]; &#125;&#125;; ç¬¬ä¸‰å¤© å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼ æ€è·¯:å…ˆç”¨æ•°ç»„æ¯”ç›´æ¥è¿”å›str.replaceæ—¶é—´ç©ºé—´ä¸Šéƒ½è¦å¿«ä¸å°‘ 1234567class Solution: def replaceSpace(self, s: str) -&gt; str: res = [] for c in s: if c == &#x27; &#x27;: res.append(&quot;%20&quot;) else: res.append(c) return &quot;&quot;.join(res) å‰‘æŒ‡ Offer 58 - II. å·¦æ—‹è½¬å­—ç¬¦ä¸² æ€è·¯:. 123class Solution: def reverseLeftWords(self, s: str, n: int) -&gt; str: return s[n:]+s[:n] ç¬¬å››å¤© å‰‘æŒ‡ Offer 03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­— æ€è·¯:1.å­—å…¸å­˜ 2.æ’åº 3.ä¸€ç›´äº¤æ¢åˆ°å·²æœ‰ 12345678910111213141516171819class Solution: def findRepeatNumber(self, nums: List[int]) -&gt; int: m=dict() for i in nums: if i in m: return i m[i]=1class Solution: def findRepeatNumber(self, nums: [int]) -&gt; int: i = 0 while i &lt; len(nums): if nums[i] == i: i += 1 continue if nums[nums[i]] == nums[i]: return nums[i] nums[nums[i]], nums[i] = nums[i], nums[nums[i]] return -1 å‰‘æŒ‡ Offer 53 - I. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾æ•°å­— I æ€è·¯:äºŒåˆ†,ç„¶åä¸‹æ ‡åŠ åˆ°ä¸æ˜¯è¿™ä¸ªæ•° 123456789class Solution: def search(self, nums: List[int], target: int) -&gt; int: index=bisect_left(nums,target) length=len(nums) ans=0 while index&lt;length and nums[index]==target: ans+=1 index+=1 return ans å‰‘æŒ‡ Offer 53 - II. 0ï½n-1ä¸­ç¼ºå¤±çš„æ•°å­— æ€è·¯:1.ç›´æ¥éå† 2.hash 3.ä½è¿ç®— 4.åº”è¯¥çš„å’Œ-å®é™…çš„å’Œ=å·®çš„æ•°å­— 5.äºŒåˆ† 12345678910111213141516# åé¢åŠ nä¸ªæ•° ä¸€èµ·å¼‚æˆ–,ç¼ºçš„æ•°åªä¼šå‡ºç°ä¸€æ¬¡,ç›¸åŒçš„æ•°å¼‚æˆ–ä¸¤æ¬¡ä¸º-class Solution: def missingNumber(self, nums: List[int]) -&gt; int: # ans=0 # for index,num in enumerate(nums): # ans^=index # ans^=num # return ans^len(nums) left,right=0,len(nums)-1 while left&lt;=right: mid=(left+right)&gt;&gt;1 if nums[mid]==mid: left=mid+1 else: right=mid-1 return left ç¬¬äº”å¤© å‰‘æŒ‡ Offer 11. æ—‹è½¬æ•°ç»„çš„æœ€å°æ•°å­— æ€è·¯:æ ¹æ®å‡¹çš„æ€§è´¨ä¸€æ¬¡éå†,å¦‚æœæ‰¾ä¸åˆ°é‚£ä¹ˆå°±æ˜¯é€’å¢çš„,ç›´æ¥è¿”å›numbers[0] 123456class Solution: def minArray(self, numbers: List[int]) -&gt; int: for i in range(1,len(numbers)): if numbers[i]&lt;numbers[i-1]: return numbers[i] return numbers[0] å‰‘æŒ‡ Offer 50. ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ æ€è·¯:1.OrderedDict 2.Counter 123456789101112131415class Solution: def firstUniqChar(self, s: str) -&gt; str: m=OrderedDict() for i in s: m[i]=m.get(i,0)+1 for k,v in m.items(): if v==1: return k return &#x27; &#x27; # frequency = collections.Counter(s) # for i, ch in enumerate(s): # if frequency[ch] == 1: # return ch # return &#x27; &#x27; å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾ æ€è·¯:1.å¯¹æ¯ä¸€è¡ŒäºŒåˆ†O(Nâˆ—log(N))O(N*log(N))O(Nâˆ—log(N)) 2.æŠŠçŸ©é˜µå‘å·¦æ—‹è½¬90åº¦å°±æ˜¯ä¸€ä¸ªæœç´¢æ ‘,ä»åº•å‘ä¸Šæœç´¢, æ¯æ¬¡å¯æ¶ˆå»ä¸€è¡Œæˆ–è€…ä¸€åˆ— O(N+M)O(N+M)O(N+M) 1234567891011121314class Solution: def findNumberIn2DArray(self, matrix: List[List[int]], target: int) -&gt; bool: if len(matrix)==0:return False m=len(matrix[0]) n=len(matrix) i,j=n-1,0 while i&gt;=0 and j&lt;m: if matrix[i][j]&gt;target: i-=1 elif matrix[i][j]&lt;target: j+=1 else: return True return False ç¬¬å…­å¤© å‰‘æŒ‡ Offer 32 - I. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ æ€è·¯:å¹¿æœ 1234567891011121314class Solution: def levelOrder(self, root: TreeNode) -&gt; List[int]: if not root:return [] stack=collections.deque([root]) ans=[] while len(stack): cur=stack.popleft() ans.append(cur.val) if cur.left: stack.append(cur.left) if cur.right: stack.append(cur.right) return ans å‰‘æŒ‡ Offer 32 - II. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ II æ€è·¯:1.å¹¿æœå­˜èŠ‚ç‚¹çš„æ—¶å€™æ–°å¢ä¸€ä¸ªlayerè¡¨ç¤ºåœ¨ç¬¬å‡ å±‚ 2.æ¯ä¸€æ¬¡éå†å®Œé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ 3.è®°å½•æ¯ä¸€å±‚çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ 1234567891011121314151617181920212223242526272829303132333435class Solution: def levelOrder(self, root: TreeNode) -&gt; List[List[int]]: if not root:return [] stack=collections.deque([(root,1)]) ans=[] temp=[root.val] lastlayer=-1 while len(stack): (cur,layer)=stack.popleft() if layer!=lastlayer: ans.append(temp) temp=[] if cur.left: stack.append((cur.left,layer+1)) temp.append(cur.left.val) if cur.right: stack.append((cur.right,layer+1)) temp.append(cur.right.val) lastlayer=layer return ansclass Solution: def levelOrder(self, root: TreeNode) -&gt; List[List[int]]: if not root: return [] res, queue = [], collections.deque() queue.append(root) while queue: tmp = [] for _ in range(len(queue)): node = queue.popleft() tmp.append(node.val) if node.left: queue.append(node.left) if node.right: queue.append(node.right) res.append(tmp) return res å‰‘æŒ‡ Offer 32 - III. ä»ä¸Šåˆ°ä¸‹æ‰“å°äºŒå‰æ ‘ III æ€è·¯:åœ¨ä¸Šé¢ä¸€é¢˜çš„åŸºç¡€ä¸Š,åœ¨æ–°å¢æ¯ä¸€å±‚çš„æ—¶å€™,ç”¨ä¸€ä¸ªæ ‡å¿—,å¥‡æ•°æ­£åŠ ,å¶æ•°ååŠ  1234567891011121314151617181920212223class Solution: def levelOrder(self, root: TreeNode) -&gt; List[List[int]]: if not root:return [] stack=collections.deque([(root,1)]) ans=[] temp=[root.val] lastlayer=0 while len(stack): (cur,layer)=stack.popleft() if layer!=lastlayer: if layer&amp;1: ans.append(temp) else: ans.append(temp[::-1]) temp=[] if cur.left: stack.append((cur.left,layer+1)) temp.append(cur.left.val) if cur.right: stack.append((cur.right,layer+1)) temp.append(cur.right.val) lastlayer=layer return ans ç¬¬ä¸ƒå¤© å‰‘æŒ‡ Offer 26. æ ‘çš„å­ç»“æ„ æ€è·¯:1. å…ˆæ‰¾åˆ°å­æ ‘çš„æ ¹èŠ‚ç‚¹,ç„¶åå¯¹æ¯”å‰©ä¸‹çš„éƒ¨åˆ†æ˜¯å¦ä¸€æ ·,åˆ¤æ–­æ¡ä»¶æ¯”è¾ƒå¤š 2.ä¸‰ç§æƒ…å†µ,ä¸€ä¸ªæ˜¯ä»å½“å‰èŠ‚ç‚¹æ¯”,ä¸€ä¸ªæ˜¯å·¦å­æ ‘çš„å­æ ‘,ä¸€ä¸ªæ˜¯å³å­æ ‘çš„å­æ ‘ 12345678class Solution: def isSubStructure(self, A: TreeNode, B: TreeNode) -&gt; bool: def recur(A, B): if not B: return True if not A or A.val != B.val: return False return recur(A.left, B.left) and recur(A.right, B.right) return bool(A and B) and (recur(A, B) or self.isSubStructure(A.left, B) or self.isSubStructure(A.right, B)) å‰‘æŒ‡ Offer 27. äºŒå‰æ ‘çš„é•œåƒ æ€è·¯:é€’å½’äº¤æ¢å·¦å³å­æ ‘ 12345678910class Solution: def mirrorTree(self, root: TreeNode) -&gt; TreeNode: if root is None:return None l,r=None,None if root.left: r=self.mirrorTree(root.left) if root.right: l=self.mirrorTree(root.right) root.right,root.left=r,l return root å‰‘æŒ‡ Offer 28. å¯¹ç§°çš„äºŒå‰æ ‘ é”™è¯¯æ€è·¯:åªæ¯”è¾ƒäº†å·¦å³å­æ ‘,æ²¡æœ‰ä»å…¨å±€å¯¹æ¯” é¢˜è§£:1.ä¸¤ä¸ªæŒ‡é’ˆ,åè¿‡æ¥æ¯”(ä¸€ä¸ªä»å·¦å¾€å³èµ°,ä¸€ä¸ªä»å³å¾€å·¦èµ°) 2.äº¤æ¢å·¦å³å­æ ‘å†é€’å½’æŸ¥è¯¢ 1234567891011121314class Solution: def isSymmetric(self, root: TreeNode) -&gt; bool: def check(a,b): if a is None and b is None: return True if a is None and b : return False if b is None and a: return False if a.val != b.val: return False return check(a.left,b.right) and check(a.right,b.left) return check(root,root) ç¬¬å…«å¤© å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ— å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜ æ€è·¯:1.é€’å½’ 2.è®°å¿†é€’å½’ 3.åŠ¨æ€è§„åˆ’ 4.ç©ºé—´ä¼˜åŒ–çš„åŠ¨æ€è§„åˆ’ 12345678910class Solution: def fib(self, n: int) -&gt; int: if n==0:return 0 a=0 b=1 for i in range(2,n+1): a,b=b,a+b a%=1e9+7 b%=1e9+7 return int(b) å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ æ€è·¯:ä¿å­˜æœ€å°çš„ä»·æ ¼ ä¸€æ¬¡éå†,æ¯”è¾ƒç­”æ¡ˆå’Œä»Šå¤©å‡å»æœ€å°ä»·æ ¼,æ›´æ–°æœ€å°ä»·æ ¼ 12345678910111213141516171819202122class Solution: def maxProfit(self, prices: List[int]) -&gt; int: # if len(prices)==0: # return 0 # ans=0 # leftprofit=0 # buyprice=prices[0] # for index in range(1,len(prices)): # if prices[index]-prices[index-1]+leftprofit&gt;=0: # leftprofit=prices[index]-prices[index-1]+leftprofit # ans=max(ans,leftprofit) # else: # buyprice=prices[index] # leftprofit=0 # return ans inf = int(1e9) minprice = inf maxprofit = 0 for price in prices: maxprofit = max(price - minprice, maxprofit) minprice = min(price, minprice) return maxprofit ç¬¬ä¹å¤© å‰‘æŒ‡ Offer 42. è¿ç»­å­æ•°ç»„çš„æœ€å¤§å’Œ æ€è·¯:å¦‚æœä¹‹å‰çš„åŠ ä¸Šå½“å‰çš„æ˜¯è´Ÿæ•°,é‚£å°±æŠŠå½“å‰çš„å½“ä½œå¼€å§‹ 1234567891011class Solution: def maxSubArray(self, nums: List[int]) -&gt; int: # for i in range(1, len(nums)): # nums[i] += max(nums[i - 1], 0) # return max(nums) pre = 0 maxAns = nums[0] for x in nums: pre = max(pre + x, x) maxAns = max(maxAns, pre) return maxAns å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼ æ€è·¯:äºŒç»´DPåŸºç¡€ 1234567891011121314151617181920212223class Solution: def maxValue(self, grid: List[List[int]]) -&gt; int: # n=len(grid) # m=len(grid[0]) # dp=[[0]*m for _ in range(n)] # dp[0][0]=grid[0][0] # for i in range(1,n): # dp[i][0]=dp[i-1][0]+grid[i][0] # for i in range(1,m): # dp[0][i]=dp[0][i-1]+grid[0][i] # for i in range(1,n): # for j in range(1,m): # dp[i][j]=max(dp[i-1][j],dp[i][j-1])+grid[i][j] # return dp[n-1][m-1] m, n = len(grid), len(grid[0]) for j in range(1, n): # åˆå§‹åŒ–ç¬¬ä¸€è¡Œ grid[0][j] += grid[0][j - 1] for i in range(1, m): # åˆå§‹åŒ–ç¬¬ä¸€åˆ— grid[i][0] += grid[i - 1][0] for i in range(1, m): for j in range(1, n): grid[i][j] += max(grid[i][j - 1], grid[i - 1][j]) return grid[-1][-1] ç¬¬åå¤© å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸² æ€è·¯:å¦‚æœå’Œå½“å‰çš„æ•°å’Œå‰é¢çš„æ•°ç»„åˆå°äº26,å½“å‰çš„æƒ…å†µå°±å¯ä»¥ç”±å‰ä¸€ä¸ªæ•°çš„æƒ…å†µåŠ ä¸Šå‰ä¸¤ä¸ªæ•°çš„æƒ…å†µå¾—åˆ°,å¦‚æœå¤§äº25,é‚£å°±åªæ˜¯èƒ½å‰é¢çš„æƒ…å†µ 12345678910111213141516171819202122232425262728class Solution: def translateNum(self, num: int) -&gt; int: num=str(num) length=len(num) if length==1: return 1 a=1 b=0 if int(num[0])*10+int(num[1])&lt;=25 and int(num[0])*10!=0: b=2 else: b=1 for index,item in enumerate(num[2:],2): if int(num[index-1])*10+int(num[index])&lt;=25 and int(num[index-1])*10!=0: b,a=a+b,b else: b,a=b,b return b &#x27;&#x27;&#x27; s = str(num) a = b = 1 for i in range(2, len(s) + 1): tmp = s[i - 2:i] c = a + b if &quot;10&quot; &lt;= tmp &lt;= &quot;25&quot; else a b = a a = c return a &#x27;&#x27;&#x27; å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸² æ€è·¯:åŒæŒ‡é’ˆç»´æŠ¤å½“å‰ä¸å«é‡å¤å­—ç¬¦çš„åŒºé—´,ç”¨å­—å…¸å­˜åŒºé—´é‡Œçš„å­—ç¬¦,å¦‚æœå½“å‰åŒºé—´æ–°å¢äº†ä¸€ä¸ªä¸é‡å¤çš„,å°±æ›´æ–°ç­”æ¡ˆ,å¦‚æœåŠ äº†ä¸€ä¸ªé‡å¤çš„,å·¦æŒ‡é’ˆä¸€ç›´ç§»åˆ°ä¸é‡å¤çš„ç‚¹ 12345678910111213141516class Solution: def lengthOfLongestSubstring(self, s: str) -&gt; int: left,right=0,0 length=len(s) ans=0 count=dict() while right&lt;length: if count.get(s[right],-1)==-1: count[s[right]]=1 right+=1 ans=max(ans,right-left) else: count[s[left]]=-1 left+=1 return ans ç¬¬åä¸€å¤© å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ æ€è·¯:éå†ä¸€éå¾—åˆ°é•¿åº¦,ç„¶åæ‰¾åˆ°length-kçš„èŠ‚ç‚¹ å‰‘æŒ‡ Offer 18. åˆ é™¤é“¾è¡¨çš„èŠ‚ç‚¹ æ€è·¯:å­˜å¥½å‰ä¸€ä¸ªèŠ‚ç‚¹ ç¬¬åäºŒå¤© å‰‘æŒ‡ Offer 25. åˆå¹¶ä¸¤ä¸ªæ’åºçš„é“¾è¡¨ æ€è·¯:å½’å¹¶æ’åºçš„åˆå¹¶ 1234567891011121314class Solution: def mergeTwoLists(self, l1: ListNode, l2: ListNode) -&gt; ListNode: ans=ListNode(-1) pre=ans while l1 and l2: if l1.val&lt;l2.val: pre.next=l1 l1=l1.next else: pre.next=l2 l2=l2.next pre=pre.next pre.next=l1 if l1 else l2 return ans.next å‰‘æŒ‡ Offer 52. ä¸¤ä¸ªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªå…¬å…±èŠ‚ç‚¹ æ€è·¯:Aé“¾è¡¨ä¸€ä¸ªæŒ‡é’ˆA,Bé“¾è¡¨ä¸€ä¸ªæŒ‡é’ˆB,å¦‚æœAæŒ‡é’ˆéå†å®ŒAäº†,å°±æŒ‡å‘Bé“¾è¡¨,BåŒç†,è¿™ä¸¤ç›¸å½“äºæŠŠä¸¤ä¸ªé“¾è¡¨æ‹¼æ¥äº†,AB-BA,è¿™æ ·è§£å†³äº†é•¿åº¦ä¸ä¸€è‡´çš„é—®é¢˜ 123456789101112131415class Solution: def getIntersectionNode(self, headA: ListNode, headB: ListNode) -&gt; ListNode: pA,pB=headA,headB while pA or pB: if pA==pB: return pA if pA: pA=pA.next else: pA=headB if pB: pB=pB.next else: pB=headA return None ç¬¬åä¸‰å¤© å‰‘æŒ‡ Offer 21. è°ƒæ•´æ•°ç»„é¡ºåºä½¿å¥‡æ•°ä½äºå¶æ•°å‰é¢ æ€è·¯:åŒæŒ‡é’ˆ,ç±»ä¼¼å¿«æ’ 123456789101112131415161718class Solution: def exchange(self, nums: List[int]) -&gt; List[int]: length=len(nums) left,right=0,length-1 while left&lt;right: flag=False while left&lt;length and nums[left]&amp;1: left+=1 flag=True while right&gt;=0 and nums[right]&amp;1==0: right-=1 flag=True if left&gt;right: return nums nums[left],nums[right]=nums[right],nums[left] left+=1 right-=1 return nums å‰‘æŒ‡ Offer 57. å’Œä¸ºsçš„ä¸¤ä¸ªæ•°å­— æ€è·¯:åŒæŒ‡é’ˆ,ä¸€ä¸ªä»å·¦ä¸€ä¸ªä»å³,æ ¹æ®å½“å‰å’Œçš„å¤§å°,ç§»åŠ¨æŒ‡é’ˆ 123456789101112class Solution: def twoSum(self, nums: List[int], target: int) -&gt; List[int]: length=len(nums) left,right=0,length-1 while left&lt;right: if nums[left]+nums[right]&gt;target: right-=1 elif nums[left]+nums[right]&lt;target: left+=1 else: return [nums[left],nums[right]] return None å‰‘æŒ‡ Offer 58 - I. ç¿»è½¬å•è¯é¡ºåº æ€è·¯:åˆ†è¯è½¬ç½®,ç”¨é˜Ÿåˆ—æ‰‹åŠ¨å®ç° 1234class Solution: def reverseWords(self, s: str) -&gt; str: word=s.split() return &quot; &quot;.join(word[::-1]) åå››å¤© å‰‘æŒ‡ Offer 12. çŸ©é˜µä¸­çš„è·¯å¾„ æ€è·¯:ä»æ¯ä¸€ä¸ªæ ¼å­dfsæœç´¢ 1234567891011121314151617181920212223242526272829class Solution: def exist(self, board: List[List[str]], word: str) -&gt; bool: length=len(word) n=len(board) m=len(board[0]) visited=[[0]*m for _ in range(n)] def dfs(cur,x,y): if board[x][y]!=word[cur]: return False if cur==length-1: return True for i,j in [(1,0),(-1,0),(0,1),(0,-1)]: x_,y_=x+i,y+j if 0&lt;=x_&lt;n and 0&lt;=y_&lt;m and not visited[x_][y_]: visited[x_][y_]=1 if dfs(cur+1,x_,y_): return True visited[x_][y_]=0 return False for i in range(n): for j in range(m): if board[i][j]==word[0]: visited[i][j]=1 if dfs(0,i,j): return True visited[i][j]=0 return False é¢è¯•é¢˜13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´ æ€è·¯:1.dfsæœç´¢ 2.ä¸¤ä¸ªforå¾ªç¯éå†,ç”¨å­—å…¸å­˜å·²è®¿é—® 123456789101112131415161718192021222324252627282930313233class Solution: def movingCount(self, m: int, n: int, k: int) -&gt; int: def check(a,b): t=0 for num in chain(str(a),str(b)): t+=int(num) if t&lt;=k: return True return False # visited=&#123;&#125; # ans=0 # def dfs(x,y): # for i,j in [(1,0),(-1,0),(0,1),(0,-1)]: # x_,y_=x+i,y+j # if 0&lt;=x_&lt;n and 0&lt;=y_&lt;m and (x_,y_) not in visited: # visited[(x_,y_)]=1 # if check(x_,y_): # nonlocal ans # ans+=1 # dfs(x_,y_) # if k&gt;=0: # ans+=1 # visited[(0,0)]=1 # dfs(0,0) # return ans visited=&#123;&#125; visited[(0,0)]=1 for i in range(n): for j in range(m): if ((i-1,j) in visited or (i,j-1) in visited) : if check(i,j): visited[(i,j)]=1 return len(visited) ç¬¬åäº”å¤© å‰‘æŒ‡ Offer 34. äºŒå‰æ ‘ä¸­å’Œä¸ºæŸä¸€å€¼çš„è·¯å¾„ æ€è·¯:dfsæœç´¢å¹¶å­˜å‚¨è·¯å¾„ é¢˜è§£:å¹¿æœ,å­˜èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹,æ‰¾åˆ°å’Œä¹‹ååç€æ‰¾è·¯å¾„ 1234567891011121314151617181920class Solution: def pathSum(self, root: TreeNode, target: int) -&gt; List[List[int]]: if not root:return [] ans=[] def dfs(curnode,cursum,path): # sèµ·ç‚¹ï¼Œeç»ˆç‚¹ if not curnode.left and not curnode.right: if cursum == target: nonlocal ans ans.append(path[:]) return if curnode.left: path.append(curnode.left.val) dfs(curnode.left,cursum+curnode.left.val,path) path.pop() if curnode.right: path.append(curnode.right.val) dfs(curnode.right,cursum+curnode.right.val,path) path.pop() dfs(root,root.val,[root.val]) return ans å‰‘æŒ‡ Offer 36. äºŒå‰æœç´¢æ ‘ä¸åŒå‘é“¾è¡¨ æ€è·¯:ç±»ä¼¼çº¿ç´¢äºŒå‰æ ‘çš„æ„é€ ,ä¸€ä¸ªæŒ‡é’ˆå­˜ä¸Šä¸€ä¸ªèŠ‚ç‚¹,æ³¨æ„çš„æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„å¤„ç† 1234567891011121314151617class Solution: def treeToDoublyList(self, root: &#x27;Node&#x27;) -&gt; &#x27;Node&#x27;: if not root:return root self.pre=None def dfs(cur): if not cur: return dfs(cur.left) if not self.pre: self.head=cur else: self.pre.right,cur.left=cur,self.pre self.pre=cur dfs(cur.right) dfs(root) self.head.left=self.pre self.pre.right=self.head return self.head å‰‘æŒ‡ Offer 54. äºŒå‰æœç´¢æ ‘çš„ç¬¬kå¤§èŠ‚ç‚¹ æ€è·¯:1.ä¸­åºéå†,è¾“å‡ºæ•°ç»„çš„kå¤§èŠ‚ç‚¹ 2.åœ¨éå†äºŒå‰æ ‘çš„æ—¶å€™,å…ˆæœå³å­æ ‘,å†æœå·¦å­æ ‘,è®°å½•å½“å‰èŠ‚ç‚¹æ˜¯ç¬¬å‡ å¤§ 123456789101112131415161718class Solution: def kthLargest(self, root: TreeNode, k: int) -&gt; int: cnt=0 ans=-1 def dfs(curnode): # sèµ·ç‚¹ï¼Œeç»ˆç‚¹ nonlocal cnt if cnt&gt;k:return if curnode.right: dfs(curnode.right) if cnt+1==k: nonlocal ans ans=curnode.val cnt+=1 if cnt&gt;k:return if curnode.left: dfs(curnode.left) dfs(root) return ans ç¬¬åå…­å¤© é¢è¯•é¢˜45. æŠŠæ•°ç»„æ’æˆæœ€å°çš„æ•° æ€è·¯:æ ¹æ®æ•°å­—æ’åº,å…·ä½“çš„,A,Bä¸¤ä¸ªæ•°, è½¬ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥æˆABå’ŒBA,é€ä¸ªæ¯”è¾ƒä¸¤ä¸ªçš„å¤§å°,å°çš„æ”¾å‰é¢,ä¸ºä»€ä¹ˆè½¬ä¸ºAB,ä¸åŒçš„æ•°å­—ä¸å½±å“,æ¯”å¦‚123,124,ä¸»è¦é˜²æ­¢è¿™ç§æƒ…å†µ1230å’Œ123,æˆ–è€…123å’Œ1234 ,è¿™ä¸¤ä¸ªæ•°å­—åº”è¯¥æ˜¯åœ¨ç­”æ¡ˆä¸­æŒ¨åœ¨ä¸€èµ·çš„,ç»„åˆæˆAB,BAå°±æ˜¯ç­”æ¡ˆéœ€è¦çš„æœ€å°æ•° 12345678910111213141516171819class Solution: def minNumber(self, nums: List[int]) -&gt; str: def cmp(a,b): a=str(a) b=str(b) tempa=a a+=b b+=tempa for i,j in zip(a,b): if i&lt;j: return -1 if i&gt;j: return 1 return 0 nums.sort(key=functools.cmp_to_key(cmp)) print(nums) return &quot;&quot;.join(map(str,nums)) é¢è¯•é¢˜61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­ æ€è·¯ï¼šæ²¡è¯»æ‡‚é¢˜ç›® é¢˜è§£: å°±æ˜¯åˆ¤æ–­äº”ä¸ªæ•°æ˜¯ä¸æ˜¯è¿ç€çš„,ä½†æ˜¯å¤§å°ç‹å¯ä»¥å½“ä½œä»»ä½•æ•°. åˆ¤æ–­ä¸èƒ½æœ‰é‡å¤ä¸”æœ€å¤§å€¼-æœ€å°å€¼+å¤§å°ç‹çš„æ•°é‡åº”è¯¥å°äº5 1234567891011class Solution: def isStraight(self, nums: List[int]) -&gt; bool: repeat = set() ma, mi = 0, 14 for num in nums: if num == 0: continue # è·³è¿‡å¤§å°ç‹ ma = max(ma, num) # æœ€å¤§ç‰Œ mi = min(mi, num) # æœ€å°ç‰Œ if num in repeat: return False # è‹¥æœ‰é‡å¤ï¼Œæå‰è¿”å› false repeat.add(num) # æ·»åŠ ç‰Œè‡³ Set return ma - mi &lt; 5 # æœ€å¤§ç‰Œ - æœ€å°ç‰Œ &lt; 5 åˆ™å¯æ„æˆé¡ºå­ ç¬¬åä¸ƒå¤© å‰‘æŒ‡ Offer 40. æœ€å°çš„kä¸ªæ•° æ€è·¯:1.æ’åº 2.å †æ’åº 3.å¿«é€Ÿæ’åº:å¦‚æœå½“å‰ä½œä¸ºåŸºæ•°çš„è¿™ä¸ªå€¼ä¸‹æ ‡æ­£å¥½æ˜¯k,é‚£ä¹ˆä»–å·¦è¾¹çš„å°±æ˜¯å‰kå°çš„æ•°,å¦åˆ™åˆ†å¼€æ’åºå·¦å³ä¸¤è¾¹ 12345678910111213141516171819202122232425class Solution: def getLeastNumbers(self, arr: List[int], k: int) -&gt; List[int]: # if k==0:return [] # a=[-arr[i] for i in range(k)] # heapq.heapify(a) # for item in arr[k:]: # if -item &gt; a[0]: # heapq.heappushpop(a,-item) # return list(map(lambda x:-x,a)) if k==0:return [] if k&gt;=len(arr):return arr def quick_sort(l,r): i,j=l,r while i&lt;j: while i&lt;j and arr[j]&gt;=arr[l]:j-=1 while i&lt;j and arr[i]&lt;=arr[l]:i+=1 arr[i],arr[j]=arr[j],arr[i] arr[i],arr[l]=arr[l],arr[i] if k&lt;i:return quick_sort(l,i-1) if k&gt;i:return quick_sort(i+1,r) return arr[:k] return quick_sort(0,len(arr)-1) å‰‘æŒ‡ Offer 41. æ•°æ®æµä¸­çš„ä¸­ä½æ•° æ€è·¯:1.äºŒåˆ†æŸ¥æ‰¾æ’å…¥ä½ç½®,ä¿æŒæ•°ç»„æœ‰åº 2.ä¸¤ä¸ªä¼˜å…ˆé˜Ÿåˆ—,ä¸€ä¸ªå­˜å·¦åŠéƒ¨åˆ†ä¸€ä¸ªå­˜å³åŠéƒ¨åˆ†,å›ºå®šä¸€ä¸ªæ˜¯å¥‡æ•°,æˆ–è€…ä¸¤ä¸ªéƒ½æ˜¯å¶æ•°,è¿™æ ·å–å€¼çš„æ—¶å€™å›ºå®šå–ä¸€ä¸ªä¸€ä¸ªé˜Ÿåˆ—æˆ–è€…ä¸¤ä¸ªä¸€èµ·å–,å­˜å€¼çš„æ—¶å€™,ä¹Ÿè¦æ³¨æ„å¥‡å¶æ•° 12345678910111213141516171819202122232425262728293031from heapq import *class MedianFinder: def __init__(self): # self.list=[] # self.length=0 # å­˜å° /å¤§é¡¹å † self.A=[] # å­˜å¤§ /å°é¡¹å † self.B=[] def addNum(self, num: int) -&gt; None: # if self.length==0: # self.list.append(num) # else: # index=bisect.bisect_left(self.list,num) # self.list.insert(index,num) # self.length+=1 if (len(self.A)+len(self.B))&amp;1: heappush(self.A,-heappushpop(self.B,num)) else: heappush(self.B,-heappushpop(self.A,-num)) def findMedian(self) -&gt; float: # if self.length&amp;1: # return self.list[self.length//2] # else: # return (self.list[self.length//2-1]+self.list[self.length//2])/2 if (len(self.A)+len(self.B))&amp;1: return self.B[0] return (self.B[0]-self.A[0])/2 ç¬¬åå…«å¤© å‰‘æŒ‡ Offer 55 - I. äºŒå‰æ ‘çš„æ·±åº¦ æ€è·¯:å¹¿æœçš„å±‚æ¬¡éå†,æ·±æœä¹Ÿè¡Œ 1234567891011121314151617181920from collections import dequeclass Solution: def maxDepth(self, root: TreeNode) -&gt; int: if not root:return 0 ans=0 que=deque() que.append(root) while que: length=len(que) for i in range(length): cur=que.popleft() if cur.left: que.append(cur.left) if cur.right: que.append(cur.right) ans+=1 return ans å‰‘æŒ‡ Offer 55 - II. å¹³è¡¡äºŒå‰æ ‘ æ€è·¯:å’Œä¸Šé¢ä¸€é¢˜åŒç†,éƒ½æ˜¯è®¡ç®—æ ‘çš„æ·±åº¦,è¿™é¢˜é€’å½’æ±‚æ¯”è¾ƒæ–¹ä¾¿ 123456789101112131415class Solution: ans=True def isBalanced(self, root: TreeNode) -&gt; bool: def aaa(cur): if not cur:return 0 if not cur.left and not cur.right: return 1 left=self.isBalanced(cur.left) right=self.isBalanced(cur.right) if abs(left-right)&gt;1: print(left,right) self.ans=False return max(left,right)+1 aaa(root) return self.ans ç¬¬åä¹å¤© å‰‘æŒ‡ Offer 64. æ±‚1+2+â€¦+n æ€è·¯:æ— , é¢˜è§£:åˆ©ç”¨é€»è¾‘è¿ç®—çš„çŸ­è·¯æ€§è´¨å½“ä½œifåˆ¤æ–­,n&gt;1çš„æ—¶å€™ æ‰§è¡Œé€’å½’,å¦åˆ™å°±æ˜¯ç›´æ¥çŸ­è·¯äº† 1234567class Solution: def __init__(self): self.res = 0 def sumNums(self, n: int) -&gt; int: n &gt; 1 and self.sumNums(n - 1) self.res += n return self.res å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ æ€è·¯:å¦‚æœä¸¤ä¸ªå€¼éƒ½å°äºå½“å‰èŠ‚ç‚¹,åˆ™é€’å½’æœç´¢å·¦å­æ ‘,å¦‚æœéƒ½å¤§äºå½“å‰èŠ‚ç‚¹,é€’å½’æœç´¢å³å­æ ‘,å¦åˆ™å½“å‰èŠ‚ç‚¹å°±æ˜¯å…¬å…±ç¥–å…ˆ 1234567891011121314class Solution: def __init__(self): self.ans=None def lowestCommonAncestor(self, root: &#x27;TreeNode&#x27;, p: &#x27;TreeNode&#x27;, q: &#x27;TreeNode&#x27;) -&gt; &#x27;TreeNode&#x27;: if not root:return root def do(cur): if p.val&lt;cur.val and q.val&lt;cur.val: do(cur.left) elif p.val&gt;cur.val and q.val &gt; cur.val: do(cur.right) else: self.ans=cur do(root) return self.ans å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ æ€è·¯:1.dfsæœç´¢ä¸€éå­˜çˆ¶èŠ‚ç‚¹ ç„¶åç”¨å­—å…¸å­˜ä¸€ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹,æœå¦ä¸€ä¸ªèŠ‚ç‚¹æ—¶,å¦‚æœçˆ¶èŠ‚ç‚¹å­˜åœ¨å°±æ˜¯ç¥–å…ˆ 2.åœ¨æ·±æœçš„æ—¶å€™,åˆ†æ¡ä»¶,å¦‚æœ èŠ‚ç‚¹åˆ†åˆ«åœ¨å·¦å³å­æ ‘ æˆ–è€… ä¸€ä¸ªèŠ‚ç‚¹åœ¨å­æ ‘,å¦ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯å½“å‰èŠ‚ç‚¹,é‚£ä¹ˆå°±æ˜¯ç­”æ¡ˆ 12345678910111213141516171819202122232425262728293031class Solution: ans=None def lowestCommonAncestor(self, root: TreeNode, p: TreeNode, q: TreeNode) -&gt; TreeNode: # def dfs(cur): # if not cur :return False # left=dfs(cur.left) # right=dfs(cur.right) # if (left and right) or ((left or right) and (cur==p or cur == q)): # self.ans=cur # return left or right or cur==p or cur == q # dfs(root) # return self.ans fa=&#123;&#125; def dfs(cur): if cur.left: fa[cur.left.val]=cur dfs(cur.left) if cur.right: fa[cur.right.val]=cur dfs(cur.right) fa[root.val]=None dfs(root) vis=&#123;&#125; while p: vis[p]=1 p=fa[p.val] while q: if q in vis: return q q=fa[q.val] return None ç¬¬äºŒåå¤© å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘ æ€è·¯:æ ¹æ®ä¸¤ä¸ªéå†é¡ºåº,ç”»å›¾åˆ†æä¸€ä¸‹,é€’å½’çš„å»ºæ ‘å°±è¡Œ 123456789101112class Solution: def buildTree(self, preorder: List[int], inorder: List[int]) -&gt; TreeNode: def build(pre,ino): if len(pre)==0: return None root=TreeNode(pre[0]) root_index=ino.index(pre[0]) root.left=build(pre[1:1+root_index],ino[:root_index]) root.right=build(pre[1+root_index:],ino[root_index+1:]) return root return build(preorder,inorder) å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ— æ€è·¯:äºŒå‰æœç´¢æ ‘,ä¸­åºéå†æ˜¯é¡ºåºçš„,æœ‰äº†ååºéå†,æ’åºä¸€ä¸‹å°±å¾—åˆ°äº†ä¸­åºéå†,çœ‹çœ‹è¿™ä¸¤ä¸ªåºåˆ—èƒ½ä¸èƒ½å»ºæˆä¸€ä¸ªæ ‘,èƒ½å»ºæˆå°±æ˜¯æ­£ç¡®çš„åç»­éå†,å¦åˆ™å°±ä¸æ˜¯,ç”¨äº†ä¸€ä¸‹ä¸Šä¸€é¢˜çš„ä»£ç  12345678910111213141516171819class Solution: def verifyPostorder(self, postorder: List[int]) -&gt; bool: inorder=sorted(postorder) flag=True def build(pre,ino): if len(pre)==0: return None root=TreeNode(pre[-1]) try: root_index=ino.index(pre[-1]) root.left=build(pre[:root_index],ino[:root_index]) root.right=build(pre[root_index:-1],ino[root_index+1:]) except: nonlocal flag flag=False return root a=build(postorder,inorder) print(a) return flag å‰‘æŒ‡ Offer 16. æ•°å€¼çš„æ•´æ•°æ¬¡æ–¹ æ€è·¯:å¿«é€Ÿå¹‚,ä½†æ˜¯è¦æ³¨æ„çš„æ˜¯nçš„æ­£è´Ÿæ•°,å¥‡æ•°å°±å•ç‹¬ä¹˜ä¸€æ¬¡x,å¶æ•°å°±ä¹˜xçš„å¹³æ–¹ 1234567891011121314151617class Solution: def myPow(self, x: float, n: int) -&gt; float: res = 1 if n&gt;0: while n &gt; 0: if n &amp; 1: res *= x x *= x n &gt;&gt;= 1 else: n=abs(n) while n &gt; 0: if n &amp; 1: res /= x x *= x n &gt;&gt;= 1 return res ç¬¬äºŒåä¸€å¤© å‰‘æŒ‡ Offer 15. äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° æ€è·¯:ä½ç§»ä¸1 123456789class Solution: def hammingWeight(self, n: int) -&gt; int: ans=0 while n: if n&amp;1: ans+=1 n&gt;&gt;=1 return ans å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³• æ€è·¯:ä½è¿ç®—,æˆ‘é€‰æ‹©ä¸åš 12345678910111213141516MASK1 = 4294967296 # 2^32MASK2 = 2147483648 # 2^31MASK3 = 2147483647 # 2^31-1class Solution: def add(self, a: int, b: int) -&gt; int: a %= MASK1 b %= MASK1 while b != 0: carry = ((a &amp; b) &lt;&lt; 1) % MASK1 a = (a ^ b) % MASK1 b = carry if a &amp; MASK2: # è´Ÿæ•° return ~((a ^ MASK2) ^ MASK3) else: # æ­£æ•° return a ç¬¬äºŒåäºŒå¤© å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° æ€è·¯:ä¸¤ä¸ªç›¸åŒçš„æ•°å¼‚æˆ–ä¸º0,ä½†æ˜¯æ•°æ®é‡Œé¢æœ‰ä¸¤ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°,æŠŠæ•°æ®å…¨éƒ¨å¼‚æˆ–ä¸€éä¹‹å,ç»“æœå°±æ˜¯è¿™ä¸¤ä¸ªæ•°å¼‚æˆ–çš„ç»“æœ,ä»åå¾€å‰éå†è¿™ä¸ªç»“æœ,é‡è§çš„ç¬¬ä¸€ä¸ª1,å°±æ˜¯è¿™ä¸¤ä¸ªæ•°ä¸åŒçš„ä½ç½®,ç„¶åæ ¹æ®è¿™ä¸ªä½ç½®æŠŠæ•°ç»„åˆ†æˆä¸¤ä»½,è¿™ä¸¤ä»½é‡Œé¢çš„æ•°å­—å¼‚æˆ–å®Œå°±å‰©ä¸‹åªå‡ºç°ä¸€æ¬¡çš„æ•°å­— 1234567891011121314class Solution: def singleNumbers(self, nums: List[int]) -&gt; List[int]: n,x,y,m=0,0,0,1 for item in nums: n^=item while n&amp;m==0: m&lt;&lt;=1 for item in nums: if item&amp;m: x^=item else: y^=item return [x,y] å‰‘æŒ‡ Offer 56 - II. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° II æ€è·¯:ç»Ÿè®¡æ¯ä¸€ä½ä¸Š1å‡ºç°çš„æ¬¡æ•°,ç„¶åå¯¹3å–ä½™,å‰©ä¸‹ä½ç½®ä¸Šçš„1ç»„æˆçš„æ•°å­—å°±æ˜¯åªå‡ºç°ä¸€æ¬¡çš„ 1234567891011121314class Solution: def singleNumber(self, nums: List[int]) -&gt; int: counts = [0] * 32 for num in nums: for j in range(32): counts[j] += num &amp; 1 num &gt;&gt;= 1 counts=list(map(lambda x:x%3,counts)) ans=0 for j in range(32): if counts[j]: temp=1&lt;&lt;j ans^=temp return ans ç¬¬äºŒåä¸‰å¤© å‰‘æŒ‡ Offer 39. æ•°ç»„ä¸­å‡ºç°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­— æ€è·¯:1.å¸¸è§„æ’åºæˆ–è€…è®¡æ•° 2.ä½¿ç”¨æŠ•ç¥¨,éšæœºé€‰å–ä¸€ä¸ªæ•°å­—,å¦‚æœåé¢çš„æ•°å­—ç­‰äºä»–,ç¥¨æ•°åŠ 1,å¦åˆ™ç¥¨æ•°-1,å¦‚æœç¥¨æ•°ä¸º0,å°±é‡æ–°æ¢ä¸€ä¸ªæ•°å­—é€‰æ‹© 123456789101112class Solution: def majorityElement(self, nums: List[int]) -&gt; int: votes = 0 for num in nums: if votes == 0: x = num votes += 1 if num == x else -1 # éªŒè¯ x æ˜¯å¦ä¸ºä¼—æ•° # for num in nums: # if num == x: count += 1 # return x if count &gt; len(nums) // 2 else 0 # å½“æ— ä¼—æ•°æ—¶è¿”å› 0 return x å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„ æ€è·¯:æ­£è¿‡æ¥ä¹˜ä¸€é,ä¹˜ä¸Šä¹‹å‰çš„æ•°,åè¿‡æ¥ä¹˜ä¸€é,ä¹˜ä¸Šä¹‹åçš„æ•° 12345678910111213class Solution: def constructArr(self, a: List[int]) -&gt; List[int]: length=len(a) ans=[] temp=1 for index,item in enumerate(a): ans.append(temp) temp*=item temp=1 for index in range(length-1,-1,-1): ans[index]*=temp temp*=a[index] return ans ç¬¬äºŒåå››å¤© å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ— æ€è·¯:åŒæŒ‡é’ˆç»´æŠ¤ä¸€ä¸ªåŒºé—´ 123456789101112131415161718class Solution: def findContinuousSequence(self, target: int) -&gt; List[List[int]]: ans=[] cursum=0 left,right=1,1 while left&lt;target: if cursum&gt;target: cursum-=left left+=1 elif cursum&lt;target: cursum+=right right+=1 else: ans.append(list(range(left,right))) cursum-=left left+=1 return ans å‰‘æŒ‡ Offer 14- I. å‰ªç»³å­ æ€è·¯:dp,å½“å‰çš„æ•°å­—,å¯ä»¥ç”±æ¯”ä»–å°çš„ä»»æ„ä¸¤ä¸ªæ•°çš„ä¹˜ç§¯å¾—åˆ°,è¿™ä¸¤ä¸ªæ•°åŒæ ·å¯ä»¥ç”±æ¯”ä»–ä»¬å°çš„ä¹˜ç§¯å¾—åˆ° 123456789101112131415class Solution: def cuttingRope(self, n: int) -&gt; int: if n==2:return 1 if n==3:return 2 dp=[0]*(n+1) dp[2]=2 dp[3]=3 dp[4]=4 for i in range(5,n+1): for j in range(2,i): dp[i]=max(dp[i],dp[i-j]*dp[j]) return dp[n] # åªè€ƒè™‘2,3å°±è¡Œ,è¯æ˜ç•¥ # dp[i] = max(2 * (i - 2), 2 * dp[i - 2], 3 * (i - 3), 3 * dp[i - 3]) # åªè€ƒè™‘åˆ†æˆ2,3 å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­— æ€è·¯:æ¨¡æ‹Ÿä¼šè¶…æ—¶,æ¯æ¬¡åˆ é™¤ä¸€ä¸ªæ•°å­—,å°±ç›¸å½“äºæŠŠåé¢çš„æ•°å­—æŒªåˆ°å‰é¢äº†,æ ¹æ®è¿™ä¸ªæ€§è´¨,é€†ç€æ¨,åœ¨å‰é¢åŠ ä¸Šmä¸ªæ•°,ç„¶åå¯¹å½“å‰çš„æ•°æ®é‡å–ä½™,å°±å¾—åˆ°äº†è¿™ä¸ªæ•°å­—çš„åŸå§‹ä½ç½® 1234567891011121314class Solution: def lastRemaining(self, n: int, m: int) -&gt; int: # nums=list(range(n)) # start=0 # while len(nums)!=1: # length=len(nums) # num=nums[(start+m-1)%length] # nums.remove(num) # start=(start+m-1)%length # return nums[0] x=0 for i in range(1,n+1): x=(x+m)%i return x ç¬¬äºŒåäº”å¤© å‰‘æŒ‡ Offer 29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ æ€è·¯:ä¸€åœˆåœˆçš„æ¨¡æ‹Ÿ,ä»å·¦å¾€å³,ä»ä¸Šå¾€ä¸‹,ä»å³å¾€å·¦,ä»ä¸‹å¾€ä¸Š,åæ ‡åœ¨å·¦ä¸Šè§’å’Œå³ä¸‹è§’,æ¯æ¬¡èµ°å®Œä¸€è¡Œéƒ½ä¿®æ”¹è¾¹ç•Œ 123456789101112131415161718class Solution: def spiralOrder(self, matrix:[[int]]) -&gt; [int]: if not matrix: return [] l, r, t, b, res = 0, len(matrix[0]) - 1, 0, len(matrix) - 1, [] while True: for i in range(l, r + 1): res.append(matrix[t][i]) # left to right t += 1 if t &gt; b: break for i in range(t, b + 1): res.append(matrix[i][r]) # top to bottom r -= 1 if l &gt; r: break for i in range(r, l - 1, -1): res.append(matrix[b][i]) # right to left b -= 1 if t &gt; b: break for i in range(b, t - 1, -1): res.append(matrix[i][l]) # bottom to top l += 1 if l &gt; r: break return res å‰‘æŒ‡ Offer 31. æ ˆçš„å‹å…¥ã€å¼¹å‡ºåºåˆ— æ€è·¯:å¦‚æœæ˜¯æ­£ç¡®çš„é¡ºåº,é‚£ä¹ˆä¸€è¿›ä¸€å‡º,è‚¯å®šæ˜¯æ­£å¥½çš„,ä¸¤ä¸ªé˜Ÿåˆ—ä¸€èµ·æ“ä½œ,é‡åˆ°å‡ºæ ˆé¡ºåºçš„æ•°å­—å°±å‡ºæ ˆ,æ¨¡æ‹Ÿ,ä¸æ­£ç¡®çš„é¡ºåºæ ˆå†…æœ€åä¼šå‰©ä¸‹å…ƒç´  123456789class Solution: def validateStackSequences(self, pushed: List[int], popped: List[int]) -&gt; bool: st, j = [], 0 for x in pushed: st.append(x) while st and st[-1] == popped[j]: st.pop() j += 1 return len(st) == 0 ç¬¬äºŒåå…­å¤© å‰‘æŒ‡ Offer 20. è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸² æ€è·¯:æ ¹æ®é¢˜ç›®è¦æ±‚åˆ†åˆ«å®ç°åˆ¤æ–­æ˜¯ä¸æ˜¯å°æ•°,æ˜¯ä¸æ˜¯æ•´æ•°,æ˜¯ä¸æ˜¯ç§‘å­¦è®¡æ•°(æ ¹æ®eåˆ†å¼€,ç„¶ååˆ©ç”¨å‰ä¸¤ä¸ªå‡½æ•°),ç„¶åä¸€èµ·åˆ¤æ–­ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152class Solution: def isNumber(self, s: str) -&gt; bool: s=s.strip() def isint(a): if len(a)==0: return False if a[0]==&#x27;-&#x27; or a[0]==&#x27;+&#x27;: a=a[1:] if len(a)==0: return False for item in a: if not item.isdecimal(): return False return True def isfloat(a): if len(a)==0: return False if a[0]==&#x27;-&#x27; or a[0]==&#x27;+&#x27;: a=a[1:] if len(a)==0: return False if a==&#x27;.&#x27;: return False flag=True for index,item in enumerate(a): if not item.isdecimal(): if item ==&#x27;.&#x27; and flag: flag=False continue return False return True def isnum(a): if len(a)==0: return False if a[0]==&#x27;-&#x27; or a[0]==&#x27;+&#x27;: a=a[1:] if len(a)==0: return False index=0 if &#x27;e&#x27; in a: index=a.index(&#x27;e&#x27;) elif &#x27;E&#x27; in a: index=a.index(&#x27;E&#x27;) else: return False front=a[:index] end=a[index+1:] return (isfloat(front) or isint(front)) and isint(end) return isint(s) or isfloat(s) or isnum(s) é¢è¯•é¢˜67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•° æ€è·¯:ä¸€ä¸ªä¸ªå­—ç¬¦éå†è½¬ä¸ºint,è¦åˆ¤æ–­æ˜¯å¦è¶Šç•Œäº† 123456789101112131415161718192021222324252627class Solution: def strToInt(self, s: str) -&gt; int: s=s.strip() if len(s)==0: return 0 flag=1 if s[0]==&#x27;-&#x27;: s=s[1:] flag=-1 elif s[0]==&#x27;+&#x27;: s=s[1:] if len(s)==0: return 0 if s[0].isalpha(): return 0 index=0 ans=0 while index&lt;len(s) and s[index].isdecimal() : ans=ans*10+int(s[index]) index+=1 INT_MAX=(1&lt;&lt;31)-1 INT_MIN=-(1&lt;&lt;31) if ans*flag&gt;INT_MAX: return INT_MAX if ans*flag&lt;INT_MIN: return INT_MIN return ans*flag ç¬¬äºŒåä¸ƒå¤© é¢è¯•é¢˜59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼ æ€è·¯:åˆ©ç”¨ä¸€ä¸ªå•è°ƒæ ˆ(é€’å‡æ ˆ)è®°å½•é˜Ÿåˆ—é‡Œçš„æœ€å¤§å€¼,å‡ºæ ˆçš„æ—¶å€™åˆ¤æ–­æ˜¯ä¸æ˜¯å•è°ƒæ ˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ ,è¿›æ ˆçš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹å’Œæ ˆé¡¶å…ƒç´ çš„å¤§å°å…³ç³»,æŠŠå°äºä»–çš„éƒ½å¼¹å‡ºæ¥(å› ä¸ºåªè¦ä»–åœ¨,å‰é¢çš„æ•°çš„æœ€å¤§å€¼éƒ½æ˜¯ä»–) 12345678910111213141516171819202122import queueclass MaxQueue: def __init__(self): self.queue = queue.Queue() self.maxqueue = queue.deque() def max_value(self) -&gt; int: if len(self.maxqueue)==0: return -1 return self.maxqueue[0] def push_back(self, x: int) -&gt; None: self.queue.put(x) while self.maxqueue and x&gt;self.maxqueue[-1]: self.maxqueue.pop() self.maxqueue.append(x) def pop_front(self) -&gt; int: if not self.maxqueue: return -1 temp=self.queue.get() if temp==self.maxqueue[0]: self.maxqueue.popleft() return temp å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ æ€è·¯:å¯ä»¥ç›´æ¥ç”¨ä¸Šä¸€é¢˜çš„ä»£ç ,ç»´æŠ¤ä¸€ä¸ªåŒºé—´,é˜Ÿåˆ—çš„é•¿åº¦å°±æ˜¯åŒºé—´çš„é•¿åº¦,æ¯æ¬¡è¿›ä¸€ä¸ªå°±å¼¹å‡ºä¸€ä¸ª,è·å–é˜Ÿåˆ—,é‡Œé¢çš„æœ€å¤§å€¼ é¢˜è§£:å•è°ƒé˜Ÿåˆ—å®ç° 12345678910111213class Solution: def maxSlidingWindow(self, nums: List[int], k: int) -&gt; List[int]: deq=MaxQueue() for item in nums[:k-1]: deq.push_back(item) ans=[] for item in nums[k-1:]: deq.push_back(item) ans.append(deq.max_value()) deq.pop_front() return ans ç¬¬äºŒåå…«å¤© å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ— æ€è·¯:æ·±æœ,å…¨æ’åˆ—,ä½†æ˜¯ä¸èƒ½é‡å¤,ç”¨ä½è¿ç®—æ¥è¡¨ç¤ºè®¿é—®æ ‡è¯†ç¬¦ 123456789101112131415161718class Solution: def permutation(self, s: str) -&gt; List[str]: length=len(s) visited=0 ans=set() def dfs(index,cur): if index==length: ans.add(&quot;&quot;.join(cur)) return for i in range(length): nonlocal visited if not (1&lt;&lt;i)&amp;visited: visited|=(1&lt;&lt;i) dfs(index+1,cur+[s[i]]) visited^=(1&lt;&lt;i) dfs(0,[]) return list(ans) å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘ æ€è·¯:å°±æ˜¯ç”¨æŸç§æ–¹å¼å­˜æ ‘,ç„¶åå†æŠŠå­˜çš„æ ‘è¿˜åŸæˆåŸæœ¬çš„æ ‘ é¢˜è§£:å±‚æ¬¡éå†(æ·±æœçš„ä¸‰ç§éå†æ ‘ä¸å”¯ä¸€),æŠŠä¸€å±‚çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å­˜èµ·æ¥,åŒ…æ‹¬ç©ºèŠ‚ç‚¹ 1234567891011121314151617181920212223242526272829303132333435363738import collectionsclass Codec: def serialize(self, root): if not root: return &quot;[]&quot; queue = collections.deque() queue.append(root) res = [] while queue: cur=queue.popleft() if cur: res.append(str(cur.val)) queue.append(cur.left) queue.append(cur.right) else: res.append(&#x27;null&#x27;) return &#x27;[&#x27;+&quot;,&quot;.join(res)+&#x27;]&#x27; def deserialize(self, data): if data==&#x27;[]&#x27;:return vals, i = data[1:-1].split(&#x27;,&#x27;), 1 root = TreeNode(int(vals[0])) queue = collections.deque() queue.append(root) while queue: cur=queue.popleft() if vals[i]!=&#x27;null&#x27;: temp = TreeNode(int(vals[i])) cur.left=temp queue.append(temp) i+=1 if vals[i]!=&#x27;null&#x27;: temp = TreeNode(int(vals[i])) cur.right=temp queue.append(temp) i+=1 return root *ç¬¬äºŒåä¹å¤© å‰‘æŒ‡ Offer 19. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é… æ€è·¯:ç±»ä¼¼å­—ç¬¦ä¸²æœ€çŸ­ç¼–è¾‘è·ç¦»,$dp[i][j] $ä»£è¡¨ s[:i]s[:i]s[:i] ä¸ p[:j]p[:j]p[:j] æ˜¯å¦å¯ä»¥åŒ¹é…ã€‚sæ˜¯å­—ç¬¦ä¸²,pæ˜¯æ¨¡å¼ä¸² å½“p[j]=='*'æ—¶: dp[i][j-2]:ä¸è®°è¿™ä¸ªå­—ç¬¦,å½“ä½œä»–å‡ºç°0æ¬¡ s=â€˜â€™ p=â€œc*â€ dp[i-1][j] and s[i]==p[j-1]: *å‰é¢çš„å­—ç¬¦å’Œsè¿™ä¸ªä½ç½®ä¸Šçš„å­—ç¬¦ä¸€æ · dp[i-1][j] and â€˜*â€™==p[j-1]: *å‰é¢çš„å­—ç¬¦æ˜¯.,éšæ„åŒ¹é… (è¿™ä¸¤ç§æƒ…å†µå¯ä»¥è§†ä½œ,å½“å‰çš„på’Œså·²ç»åŒ¹é…äº†,såˆåŠ å…¥äº†ä¸€ä¸ªæ–°å­—ç¬¦,çœ‹è¿™ä¸ªæ–°å­—ç¬¦å’Œpçš„æœ€åä¸€ä¸ªæ˜¯ä¸æ˜¯ä¸€æ ·) å½“p[j]!='*'æ—¶: dp[i-1][j-1] and s[i-1]==p[j-1]:å‰é¢çš„éƒ½èƒ½åŒ¹é…,çœ‹å½“å‰ä½ç½®çš„ä¸¤ä¸ªå­—ç¬¦æ˜¯ä¸æ˜¯ä¸€æ · dp[i-1][j-1] and â€˜.â€™==p[j-1]: .éšæ„åŒ¹é… å®ç°çš„æ—¶å€™æ³¨æ„,dpçš„ä¸‹æ ‡æ˜¯ä»1å¼€å§‹,ä½†æ˜¯s,pçš„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹,å…¬å¼é‡Œé¢çš„spä¸‹æ ‡è¦å¤šå‡ä¸ª1 12345678910111213141516171819class Solution: def isMatch(self, s: str, p: str) -&gt; bool: m, n = len(s) + 1, len(p) + 1 dp = [[False] * n for _ in range(m)] dp[0][0] = True for j in range(2, n, 2): dp[0][j] = dp[0][j - 2] and p[j - 1] == &#x27;*&#x27; for i in range(1,m): for j in range(1,n): if p[j-1]==&#x27;*&#x27;: if dp[i][j-2] or ( s[i-1]==p[j-2] and dp[i-1][j]) or ( p[j-2]==&#x27;.&#x27; and dp[i-1][j]): dp[i][j]=True else: if ( p[j-1]==&#x27;.&#x27; and dp[i-1][j-1]) or (( p[j-1]==s[i-1] and dp[i-1][j-1])): dp[i][j]=True return dp[m-1][n-1] å‰‘æŒ‡ Offer 49. ä¸‘æ•° æ€è·¯:å½“å‰çš„æ•°ä½x,ä¸‹ä¸€ä¸ªæ•°ä¸€å®šæ˜¯(aâˆ—2,bâˆ—3,câˆ—5)(a*2,b*3,c*5)(aâˆ—2,bâˆ—3,câˆ—5)ä¹‹ä¸­æœ€å°çš„ä¸€ä¸ª,è€Œä¸”(a,b,c)(a,b,c)(a,b,c)ä¸€å®šæ˜¯ä¹‹å‰çš„æŸä¸ªä¸‘æ•°:ç”¨ä¸‰ä¸ªæŒ‡é’ˆ,å¦‚æœä¸‹ä¸€ä¸ªæ˜¯å½“å‰çš„æŒ‡é’ˆæŒ‡çš„æ•°,è¿™ä¸ªæŒ‡é’ˆåŠ 1æŒ‡å‘ä¸‹ä¸€ä¸ªæ•°,åˆšå¼€å§‹éƒ½æŒ‡å‘1 12345678910111213141516class Solution: def nthUglyNumber(self, n: int) -&gt; int: # æœ€å°å † dp=[0]*n dp[0]=1 a,b,c=0,0,0 for i in range(1,n): dp[i]=min(dp[a]*2,dp[b]*3,dp[c]*5) if dp[i]==dp[a]*2: a+=1 if dp[i]==dp[b]*3: b+=1 if dp[i]==dp[c]*5: c+=1 return dp[n-1] å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•° æ€è·¯:é¦–å…ˆè¦çŸ¥é“,nä¸ªç­›å­å¯ä»¥æ‰”å‡ºå¤šå°‘ä¸ªç‚¹:[n,6n],å…±5*n+1ä¸ªç‚¹,æ¯ä¸ªç‚¹,å¯ä»¥ä»å°‘ä¸€ä¸ªç­›å­çš„æƒ…å†µä¸‹å¾—åˆ°,f(n,x)è¡¨ç¤ºnä¸ªç­›å­å¾—åˆ°xç‚¹ f(n,x)=f(nâˆ’1,x)+f(nâˆ’1,xâˆ’2)+,..,f(nâˆ’1,xâˆ’6)f(n,x)=f(n-1,x)+f(n-1,x-2)+,..,f(n-1,x-6)f(n,x)=f(nâˆ’1,x)+f(nâˆ’1,xâˆ’2)+,..,f(nâˆ’1,xâˆ’6)å¾—åˆ°,ä½†æ˜¯è¿™æ ·ä¼šè¶Šç•Œ ä¸Šä¸€å±‚çš„x,å¯ä»¥è´¡çŒ®ç»™è¿™ä¸€å±‚çš„6ä¸ªæ•°å­— f(n,x+k)=f(nâˆ’1,x),kâˆˆ[1,2,3,4,5,6]f(n,x+k)=f(n-1,x),k \\in [1,2,3,4,5,6]f(n,x+k)=f(nâˆ’1,x),kâˆˆ[1,2,3,4,5,6] 1234567891011class Solution: def dicesProbability(self, n: int) -&gt; List[float]: dp=[[0]*(5*(n+1)+1) for _ in range(n+1)] for k in range(6): dp[1][k]=1/6 for i in range(2,n+1): for j in range(5*i+1): for k in range(6): dp[i][j+k]+=(dp[i-1][j])/6 print(dp) return dp[n][:5*n+1] ç¬¬ä¸‰åå¤© å‰‘æŒ‡ Offer 17. æ‰“å°ä»1åˆ°æœ€å¤§çš„nä½æ•° æ€è·¯:ä¸€è¡Œä»£ç ,ä½†æ˜¯è€ƒè™‘å¤§æ•´æ•°çš„æƒ…å†µä¸‹,å¯ä»¥ç”¨æ·±æœ 1234class Solution: def printNumbers(self, n: int) -&gt; List[int]: right=pow(10,n) return [i for i in range(1,right)] å‰‘æŒ‡ Offer 51. æ•°ç»„ä¸­çš„é€†åºå¯¹ æ€è·¯:å¿«æ’,ç»Ÿè®¡é€†åºå¯¹,ç”¨ä¹‹å‰çš„ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738class Solution: def reversePairs(self, nums: List[int]) -&gt; int: ans=0 def mergesort(seq): &quot;&quot;&quot;å½’å¹¶æ’åº&quot;&quot;&quot; if len(seq) &lt;= 1: return seq mid = len(seq) // 2 # å°†åˆ—è¡¨åˆ†æˆæ›´å°çš„ä¸¤ä¸ªåˆ—è¡¨ # åˆ†åˆ«å¯¹å·¦å³ä¸¤ä¸ªåˆ—è¡¨è¿›è¡Œå¤„ç†ï¼Œåˆ†åˆ«è¿”å›ä¸¤ä¸ªæ’åºå¥½çš„åˆ—è¡¨ left = mergesort(seq[:mid]) right = mergesort(seq[mid:]) # å¯¹æ’åºå¥½çš„ä¸¤ä¸ªåˆ—è¡¨åˆå¹¶ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„æ’åºå¥½çš„åˆ—è¡¨ return merge(left, right) def merge(left, right): &quot;&quot;&quot;åˆå¹¶ä¸¤ä¸ªå·²æ’åºå¥½çš„åˆ—è¡¨ï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å·²æ’åºå¥½çš„åˆ—è¡¨&quot;&quot;&quot; result = [] # æ–°çš„å·²æ’åºå¥½çš„åˆ—è¡¨ i = 0 # ä¸‹æ ‡ j = 0 # å¯¹ä¸¤ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´  ä¸¤ä¸¤å¯¹æ¯”ã€‚ # å°†æœ€å°çš„å…ƒç´ ï¼Œæ”¾åˆ°resultä¸­ï¼Œå¹¶å¯¹å½“å‰åˆ—è¡¨ä¸‹æ ‡åŠ 1 while i &lt; len(left) and j &lt; len(right): # å·¦è¾¹çš„å°,æ­£å¸¸ if left[i] &lt;= right[j]: result.append(left[i]) i += 1 # å³è¾¹çš„å° ,æ˜¯é€†åº,å¹¶ä¸”å·¦è¾¹çš„å¾€åä¹Ÿæ„æˆé€†åº else: result.append(right[j]) j += 1 nonlocal ans ans+=len(left)-i result += left[i:] result += right[j:] return result mergesort(nums) return ans ç¬¬ä¸‰åä¸€å¤© å‰‘æŒ‡ Offer 14- II. å‰ªç»³å­ II é¢˜è§£æ€è·¯:æ ¹æ®è¯æ˜,æŠŠné•¿çš„åˆ’åˆ†ä¸ºé•¿åº¦ä¸º3çš„æ®µæ—¶,ä¹˜ç§¯æœ€å¤§,åˆ©ç”¨å‰ªç»³å­1çš„æ–¹æ³•ä¸è¡Œ,å› ä¸ºmax(dp[i],dp[iâˆ’j]âˆ—dp[j])max(dp[i],dp[i-j]*dp[j])max(dp[i],dp[iâˆ’j]âˆ—dp[j]),å–æ¨¡ä¹‹åæ²¡æ³•ç”¨,ä¸å–æ¨¡åˆä¸å‡† 12345678910111213class Solution: def cuttingRope(self, n: int) -&gt; int: if n==2:return 1 if n==3:return 2 if n==4:return 4 MOD=1e9+7 ans=1 while n&gt;4: ans*=3 n-=3 ans%=MOD return int((ans*n)%MOD) å‰‘æŒ‡ Offer 43. 1ï½n æ•´æ•°ä¸­ 1 å‡ºç°çš„æ¬¡æ•° é¢˜è§£æ€è·¯:ä¸»è¦æ˜¯æ•°å­¦æ¨åˆ°,å¯¹äº123456è¿™ä¸ªæ•°å­—,å‡è®¾å½“å‰çš„ä½æ˜¯ç™¾ä½ä»–çš„å‰é¢ä¸€å®šå°±æœ‰123*100æ¬¡1å‡ºç°,ä½†æ˜¯ä»–çš„åé¢è¦åˆ†æƒ…å†µ,456è¿˜æ˜¯ä¼šå‡ºç°100æ¬¡1,156åªå‡ºç°äº†56æ¬¡,056ä¸å‡ºç°1.åé¢ä¸‰ç§æƒ…å†µå¯ä»¥æ€»ç»“ä½min(max(nâˆ’100+1,0),100)min(max(n-100+1,0),100)min(max(nâˆ’100+1,0),100),å¾ªç¯éå†æ¯ä¸€ä½æ•°å­—å°±è¡Œ 123456789101112131415161718class Solution: def countDigitOne(self, n: int) -&gt; int: k=0 ans=0 # ppp=pow(10,k) ppp=1 while n&gt;=ppp: temp=0 front=n//(ppp*10) temp+=(front*ppp) back=n%(ppp*10) temp+=min(max(back-ppp+1,0),ppp) ans+=temp k+=1 ppp*=10 return ans å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­— æ€è·¯:æ ¹æ®è§„å¾‹,å‰é¢æ˜¯1ä½æ•°é•¿åº¦æ˜¯10ä¸ª,2ä½æ•°é•¿åº¦æ˜¯2âˆ—10âˆ—92*10*92âˆ—10âˆ—9,ä¸‰ä½æ•°æ˜¯3âˆ—100âˆ—93*100*93âˆ—100âˆ—9,â€¦,æ ¹æ®è¿™ä¸ªè§„å¾‹,å¯ä»¥æ‰¾åˆ°nåº”è¯¥æ˜¯åœ¨å‡ ä½æ•°ä¸Š,ç„¶åé™¤ä»¥ä½æ•°çš„é•¿åº¦,å°±æ‰¾åˆ°äº†åœ¨å“ªä¸ªæ•°å­—ä¸Š,åœ¨å¯¹é•¿åº¦å–ä½™å°±æ˜¯è¿™ä¸ªæ•°å­—çš„ç¬¬å‡ ä½ 123456789101112131415161718192021class Solution: def findNthDigit(self, n: int) -&gt; int: if n&lt;10:return n # 10 # 20*9 # 300*9 # 4000*9 n-=10 index=2 while n: temp=index*pow(10,index-1)*9 if n&lt;temp: break n-=temp index+=1 a=n//index b=n%index # æ‰¾åˆ°æ‰€åœ¨çš„æ•°å­— num=pow(10,index-1)+a return int(str(num)[b]) æ€»ç»“","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"python100å¤©31-40","slug":"ç¬”è®°-python100å¤©31-40","date":"2023-03-07T10:33:08.243Z","updated":"2024-03-18T13:27:33.436Z","comments":true,"path":"2023/03/07/ç¬”è®°-python100å¤©31-40/","link":"","permalink":"https://gladdduck.github.io/2023/03/07/%E7%AC%94%E8%AE%B0-python100%E5%A4%A931-40/","excerpt":"","text":"12345678910111213141516171819202122# 01-15pythonåŸºç¡€# 16-20pythonè¿›é˜¶# 21-30å‰ç«¯æ¦‚è¿°# 31-35Linux# 36-40MySQL# 41-55Django# 56-60FaskAPI# 61-65çˆ¬è™«ä¸å¹¶å‘ç¼–ç¨‹# 66-80numpy&amp;pandas# 81-90æœºå™¨å­¦ä¹ &amp;pytorch# 91-100é¡¹ç›® Python100å¤©å­¦ä¹ 31-35 Linux èµ„æ–™è¿æ¥ Python100å¤©å­¦ä¹ 36-40 MySQL èµ„æ–™è¿æ¥ å…³ç³»æ•°æ®åº“äº§å“ Oracle - ç›®å‰ä¸–ç•Œä¸Šä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œä½œä¸ºä¸€ä¸ªé€šç”¨çš„æ•°æ®åº“ç³»ç»Ÿï¼Œå®ƒå…·æœ‰å®Œæ•´çš„æ•°æ®ç®¡ç†åŠŸèƒ½ï¼›ä½œä¸ºä¸€ä¸ªå…³ç³»æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®Œå¤‡å…³ç³»çš„äº§å“ï¼›ä½œä¸ºåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå®ƒå®ç°äº†åˆ†å¸ƒå¼å¤„ç†çš„åŠŸèƒ½ã€‚åœ¨ Oracle æœ€æ–°çš„ 12c ç‰ˆæœ¬ä¸­ï¼Œè¿˜å¼•å…¥äº†å¤šæ‰¿ç§Ÿæ–¹æ¶æ„ï¼Œä½¿ç”¨è¯¥æ¶æ„å¯è½»æ¾éƒ¨ç½²å’Œç®¡ç†æ•°æ®åº“äº‘ã€‚ DB2 - IBM å…¬å¸å¼€å‘çš„ã€ä¸»è¦è¿è¡Œäº Unixï¼ˆåŒ…æ‹¬ IBM è‡ªå®¶çš„ AIXï¼‰ã€Linuxã€ä»¥åŠ Windows æœåŠ¡å™¨ç‰ˆç­‰ç³»ç»Ÿçš„å…³ç³»æ•°æ®åº“äº§å“ã€‚DB2 å†å²æ‚ ä¹…ä¸”è¢«è®¤ä¸ºæ˜¯æœ€æ—©ä½¿ç”¨ SQL çš„æ•°æ®åº“äº§å“ï¼Œå®ƒæ‹¥æœ‰è¾ƒä¸ºå¼ºå¤§çš„å•†ä¸šæ™ºèƒ½åŠŸèƒ½ã€‚ SQL Server - ç”± Microsoft å¼€å‘å’Œæ¨å¹¿çš„å…³ç³»å‹æ•°æ®åº“äº§å“ï¼Œæœ€åˆé€‚ç”¨äºä¸­å°ä¼ä¸šçš„æ•°æ®ç®¡ç†ï¼Œä½†æ˜¯è¿‘å¹´æ¥å®ƒçš„åº”ç”¨èŒƒå›´æœ‰æ‰€æ‰©å±•ï¼Œéƒ¨åˆ†å¤§ä¼ä¸šç”šè‡³æ˜¯è·¨å›½å…¬å¸ä¹Ÿå¼€å§‹åŸºäºå®ƒæ¥æ„å»ºè‡ªå·±çš„æ•°æ®ç®¡ç†ç³»ç»Ÿã€‚ MySQL - MySQL æ˜¯å¼€æ”¾æºä»£ç çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥åœ¨ GPLï¼ˆGeneral Public Licenseï¼‰çš„è®¸å¯ä¸‹ä¸‹è½½å¹¶æ ¹æ®ä¸ªæ€§åŒ–çš„éœ€è¦å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚MySQL å› ä¸ºå…¶é€Ÿåº¦ã€å¯é æ€§å’Œé€‚åº”æ€§è€Œå¤‡å—å…³æ³¨ã€‚ PostgreSQL - åœ¨ BSD è®¸å¯è¯ä¸‹å‘è¡Œçš„å¼€æ”¾æºä»£ç çš„å…³ç³»æ•°æ®åº“äº§å“ã€‚ å®‰è£…æ•™ç¨‹ windows linux macos MySQLåŸºæœ¬å‘½ä»¤ æŸ¥çœ‹å‘½ä»¤ æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“ 1show databases; æŸ¥çœ‹æ‰€æœ‰å­—ç¬¦é›† 1show character set; æŸ¥çœ‹æ‰€æœ‰çš„æ’åºè§„åˆ™ 1show collation; æŸ¥çœ‹æ‰€æœ‰çš„å¼•æ“ 1show engines; æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—æ–‡ä»¶ 1show binary logs; æŸ¥çœ‹æ•°æ®åº“ä¸‹æ‰€æœ‰è¡¨ 1show tables; è·å–å¸®åŠ© åœ¨ MySQL å‘½ä»¤è¡Œå·¥å…·ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ helpå‘½ä»¤æˆ– ?æ¥è·å–å¸®åŠ©ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ æŸ¥çœ‹ showå‘½ä»¤çš„å¸®åŠ©ã€‚ 1? show æŸ¥çœ‹æœ‰å“ªäº›å¸®åŠ©å†…å®¹ã€‚ 1? contents è·å–å‡½æ•°çš„å¸®åŠ©ã€‚ 1? functions è·å–æ•°æ®ç±»å‹çš„å¸®åŠ©ã€‚ 1? data types SQLè¯­å¥ æ•°æ®åº“çš„åŸºæœ¬æ“ä½œ SQL åŒ…å«ä»¥ä¸‹ 4 éƒ¨åˆ†ï¼š æ•°æ®å®šä¹‰è¯­è¨€ï¼ˆData Definition Languageï¼ŒDDLï¼‰ ç”¨æ¥åˆ›å»ºæˆ–åˆ é™¤æ•°æ®åº“ä»¥åŠè¡¨ç­‰å¯¹è±¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§å‘½ä»¤ï¼š DROPï¼šåˆ é™¤æ•°æ®åº“å’Œè¡¨ç­‰å¯¹è±¡ CREATEï¼šåˆ›å»ºæ•°æ®åº“å’Œè¡¨ç­‰å¯¹è±¡ ALTERï¼šä¿®æ”¹æ•°æ®åº“å’Œè¡¨ç­‰å¯¹è±¡çš„ç»“æ„ æ•°æ®æ“ä½œè¯­è¨€ï¼ˆData Manipulation Languageï¼ŒDMLï¼‰ ç”¨æ¥å˜æ›´è¡¨ä¸­çš„è®°å½•ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§å‘½ä»¤ï¼š SELECTï¼šæŸ¥è¯¢è¡¨ä¸­çš„æ•°æ® INSERTï¼šå‘è¡¨ä¸­æ’å…¥æ–°æ•°æ® UPDATEï¼šæ›´æ–°è¡¨ä¸­çš„æ•°æ® DELETEï¼šåˆ é™¤è¡¨ä¸­çš„æ•°æ® æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼ˆData Query Languageï¼ŒDQLï¼‰ ç”¨æ¥æŸ¥è¯¢è¡¨ä¸­çš„è®°å½•ï¼Œä¸»è¦åŒ…å« SELECT å‘½ä»¤ï¼Œæ¥æŸ¥è¯¢è¡¨ä¸­çš„æ•°æ®ã€‚ æ•°æ®æ§åˆ¶è¯­è¨€ï¼ˆData Control Languageï¼ŒDCLï¼‰ ç”¨æ¥ç¡®è®¤æˆ–è€…å–æ¶ˆå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œçš„å˜æ›´ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¯¹æ•°æ®åº“ä¸­çš„ç”¨æˆ·è®¾å®šæƒé™ã€‚ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç§å‘½ä»¤ï¼š GRANTï¼šèµ‹äºˆç”¨æˆ·æ“ä½œæƒé™ REVOKEï¼šå–æ¶ˆç”¨æˆ·çš„æ“ä½œæƒé™ COMMITï¼šç¡®è®¤å¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œçš„å˜æ›´ ROLLBACKï¼šå–æ¶ˆå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œçš„å˜æ›´ åŸºæœ¬è¯­æ³• SQL è¯­å¥ä¸åŒºåˆ†å¤§å°å†™ SQL è¯­å¥ä¸­å«æœ‰å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œéœ€è¦åƒ â€˜abcâ€™ è¿™æ ·ï¼Œä½¿ç”¨è‹±æ–‡å•å¼•å·â€™å°†å­—ç¬¦ä¸²æ‹¬èµ·æ¥ï¼Œç”¨æ¥æ ‡è¯†è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ SQL è¯­å¥ä¸­å«æœ‰æ—¥æœŸçš„æ—¶å€™ï¼ŒåŒæ ·éœ€è¦ä½¿ç”¨è‹±æ–‡å•å¼•å·å°†å…¶æ‹¬èµ·æ¥ã€‚æ—¥æœŸçš„æ ¼å¼æœ‰å¾ˆå¤šç§ï¼ˆâ€˜26 Jan 2010â€™ æˆ–è€…â€™10/01/26â€™ ç­‰ï¼‰ï¼Œç»Ÿä¸€ä½¿ç”¨ â€˜2020-01-26â€™ è¿™ç§â€™å¹´-æœˆ-æ—¥â€™çš„æ ¼å¼ã€‚ åœ¨ SQL è¯­å¥ä¸­ä¹¦å†™æ•°å­—çš„æ—¶å€™ï¼Œä¸éœ€è¦ä½¿ç”¨ä»»ä½•ç¬¦å·æ ‡è¯†ï¼Œç›´æ¥å†™æˆ 1000 è¿™æ ·çš„æ•°å­—å³å¯ã€‚ SQL è¯­å¥è¦ä»¥åˆ†å·;ç»“å°¾.åœ¨ RDBMS ï¼ˆå…³ç³»å‹æ•°æ®åº“ï¼‰å½“ä¸­ï¼ŒSQL è¯­å¥æ˜¯é€æ¡æ‰§è¡Œçš„ï¼Œä¸€æ¡ SQL è¯­å¥ä»£è¡¨ç€æ•°æ®åº“çš„ä¸€ä¸ªæ“ä½œã€‚ Cè¯­è¨€ä¸­æ–‡ç½‘SQLæ•™ç¨‹ åŸºæœ¬æ“ä½œ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152-- æŸ¥çœ‹æ•°æ®åº“ ,LIKEå¯é€‰,ä¸å†™å°±æ˜¯æŸ¥çœ‹å…¨éƒ¨ SHOW DATABASES [LIKE &#x27;æ•°æ®åº“å&#x27;];-- å®‰è£… MySQL æ—¶ç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºçš„6ä¸ªæ•°æ®åº“ï¼Œå…¶å„è‡ªåŠŸèƒ½å¦‚ä¸‹ï¼š-- information_schemaï¼šä¸»è¦å­˜å‚¨äº†ç³»ç»Ÿä¸­çš„ä¸€äº›æ•°æ®åº“å¯¹è±¡ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·è¡¨ä¿¡æ¯ã€åˆ—ä¿¡æ¯ã€æƒé™ä¿¡æ¯ã€å­—ç¬¦é›†ä¿¡æ¯å’Œåˆ†åŒºä¿¡æ¯ç­‰ã€‚-- mysqlï¼šMySQL çš„æ ¸å¿ƒæ•°æ®åº“ï¼Œç±»ä¼¼äº SQL Server ä¸­çš„ master è¡¨ï¼Œä¸»è¦è´Ÿè´£å­˜å‚¨æ•°æ®åº“ç”¨æˆ·ã€ç”¨æˆ·è®¿é—®æƒé™ç­‰ MySQL è‡ªå·±éœ€è¦ä½¿ç”¨çš„æ§åˆ¶å’Œç®¡ç†ä¿¡æ¯ã€‚å¸¸ç”¨çš„æ¯”å¦‚åœ¨ mysql æ•°æ®åº“çš„ user è¡¨ä¸­ä¿®æ”¹ root ç”¨æˆ·å¯†ç ã€‚-- performance_schemaï¼šä¸»è¦ç”¨äºæ”¶é›†æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½å‚æ•°ã€‚-- sakilaï¼šMySQL æä¾›çš„æ ·ä¾‹æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“å…±æœ‰ 16 å¼ è¡¨ï¼Œè¿™äº›æ•°æ®è¡¨éƒ½æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œåœ¨è®¾è®¡æ•°æ®åº“æ—¶ï¼Œå¯ä»¥å‚ç…§è¿™äº›æ ·ä¾‹æ•°æ®è¡¨æ¥å¿«é€Ÿå®Œæˆæ‰€éœ€çš„æ•°æ®è¡¨ã€‚-- sysï¼šMySQL 5.7 å®‰è£…å®Œæˆåä¼šå¤šä¸€ä¸ª sys æ•°æ®åº“ã€‚sys æ•°æ®åº“ä¸»è¦æä¾›äº†ä¸€äº›è§†å›¾ï¼Œæ•°æ®éƒ½æ¥è‡ªäº performation_schemaï¼Œä¸»è¦æ˜¯è®©å¼€å‘è€…å’Œä½¿ç”¨è€…æ›´æ–¹ä¾¿åœ°æŸ¥çœ‹æ€§èƒ½é—®é¢˜ã€‚-- worldï¼šworld æ•°æ®åº“æ˜¯ MySQL è‡ªåŠ¨åˆ›å»ºçš„æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“ä¸­åªåŒ…æ‹¬ 3 å¼ æ•°æ®è¡¨ï¼Œåˆ†åˆ«ä¿å­˜åŸå¸‚ï¼Œå›½å®¶å’Œå›½å®¶ä½¿ç”¨çš„è¯­è¨€ç­‰å†…å®¹ã€‚-- åˆ›å»ºæ•°æ®åº“-- å­—ç¬¦é›†æ˜¯ç”¨æ¥å®šä¹‰ MySQL å­˜å‚¨å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œæ ¡å¯¹è§„åˆ™å®šä¹‰äº†æ¯”è¾ƒå­—ç¬¦ä¸²çš„æ–¹å¼ã€‚CREATE DATABASE [IF NOT EXISTS] &lt;æ•°æ®åº“å&gt;[[DEFAULT] CHARACTER SET &lt;å­—ç¬¦é›†å&gt;] [[DEFAULT] COLLATE &lt;æ ¡å¯¹è§„åˆ™å&gt;];-- æŸ¥çœ‹æ•°æ®åº“çš„å®šä¹‰å£°æ˜SHOW CREATE DATABASE test_db;-- ä½¿ç”¨ ALTER DATABASE æ¥ä¿®æ”¹å·²ç»è¢«åˆ›å»ºæˆ–è€…å­˜åœ¨çš„æ•°æ®åº“çš„ç›¸å…³å‚æ•°ALTER DATABASE [æ•°æ®åº“å] &#123; [ DEFAULT ] CHARACTER SET &lt;å­—ç¬¦é›†å&gt; |[ DEFAULT ] COLLATE &lt;æ ¡å¯¹è§„åˆ™å&gt;&#125;-- ALTER DATABASE ç”¨äºæ›´æ”¹æ•°æ®åº“çš„å…¨å±€ç‰¹æ€§ã€‚-- ä½¿ç”¨ ALTER DATABASE éœ€è¦è·å¾—æ•°æ®åº“ ALTER æƒé™ã€‚-- æ•°æ®åº“åç§°å¯ä»¥å¿½ç•¥ï¼Œæ­¤æ—¶è¯­å¥å¯¹åº”äºé»˜è®¤æ•°æ®åº“ã€‚-- CHARACTER SET å­å¥ç”¨äºæ›´æ”¹é»˜è®¤çš„æ•°æ®åº“å­—ç¬¦é›†ã€‚-- åˆ é™¤æ•°æ®åº“DROP DATABASE [ IF EXISTS ] &lt;æ•°æ®åº“å&gt;-- MySQL å®‰è£…åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºåä¸º information_schema å’Œ mysql çš„ä¸¤ä¸ªç³»ç»Ÿæ•°æ®åº“ï¼Œç³»ç»Ÿæ•°æ®åº“å­˜æ”¾ä¸€äº›å’Œæ•°æ®åº“ç›¸å…³çš„ä¿¡æ¯ï¼Œå¦‚æœåˆ é™¤äº†è¿™ä¸¤ä¸ªæ•°æ®åº“ï¼ŒMySQL å°†ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚-- USE è¯­å¥ç”¨æ¥å®Œæˆä¸€ä¸ªæ•°æ®åº“åˆ°å¦ä¸€ä¸ªæ•°æ®åº“çš„è·³è½¬-- åˆ›å»ºæ•°æ®åº“ä¹‹åï¼Œè¯¥æ•°æ®åº“ä¸ä¼šè‡ªåŠ¨æˆä¸ºå½“å‰æ•°æ®åº“USE &lt;æ•°æ®åº“å&gt;-- å•è¡Œæ³¨é‡Š# å•è¡Œæ³¨é‡Š/* å¤šè¡Œæ³¨é‡Š*/-- æŸ¥çœ‹å¸®åŠ©å‘½ä»¤,æŸ¥è¯¢å†…å®¹æ˜¯å…³é”®å­—,å¯ä»¥ç”¨LIKEHELP &#x27;æŸ¥è¯¢å†…å®¹&#x27; SQLè¯­å¥çš„å¤§å°å†™è§„åˆ™ MySQL ç”¨æœåŠ¡å™¨ä¸»æœºçš„åº•å±‚æ–‡ä»¶ç³»ç»Ÿæ‰€åŒ…å«çš„ç›®å½•å’Œæ–‡ä»¶æ¥è¡¨ç¤ºæ•°æ®åº“å’Œè¡¨ã€‚å› æ­¤ï¼Œæ•°æ®åº“åå’Œè¡¨åçš„é»˜è®¤å¤§å°å†™å–å†³äºæœåŠ¡å™¨ä¸»æœºçš„æ“ä½œç³»ç»Ÿåœ¨å‘½åæ–¹é¢çš„è§„å®šã€‚ å¸¸è§é”™è¯¯ 121 å¼€å¤´ æœåŠ¡å™¨é”™è¯¯2 å¼€å¤´ å®¢æˆ·ç«¯é”™è¯¯ æ•°æ®åº“è®¾è®¡ æ•°æ®åº“è®¾è®¡ä¸‰ä¸ªèŒƒå¼ 12345671.ç¬¬ä¸€èŒƒå¼ï¼š è¦æ±‚ä»»ä½•ä¸€å¼ è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼Œæ¯ä¸€ä¸ªå­—æ®µåŸå­æ€§ä¸å¯å†åˆ†ã€‚2.ç¬¬äºŒèŒƒå¼ï¼š å»ºç«‹åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µå®Œå…¨ä¾èµ–ä¸»é”®ï¼Œä¸è¦äº§ç”Ÿéƒ¨åˆ†ä¾èµ–ã€‚(å­¦æœ¯ç¼–å·+æ•™å¸ˆç¼–å·,å­¦ç”Ÿå§“å,æ•™å¸ˆå§“å)-&gt;(å­¦ç”Ÿç¼–å·,æ•™å¸ˆç¼–å·)(å­¦ç”Ÿç¼–å·,å­¦ç”Ÿå§“å)(æ•™å¸ˆç¼–å·,æ•™å¸ˆå§“å)3.ç¬¬ä¸‰èŒƒå¼ï¼š å»ºç«‹åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œè¦æ±‚æ‰€æœ‰éä¸»é”®å­—æ®µç›´æ¥ä¾èµ–ä¸»é”®ï¼Œä¸è¦äº§ç”Ÿä¼ é€’ä¾èµ–ã€‚(å­¦ç”Ÿç¼–å·,å­¦ç”Ÿå§“å,ç­çº§ç¼–å·,ç­çº§åç§°)-&gt;(å­¦ç”Ÿç¼–å·,å­¦ç”Ÿå§“å,ç­çº§ç¼–å·)(ç­çº§ç¼–å·,ç­çº§åç§°) MySQLæ•°æ®ç±»å‹ 1234567891011æ•´å‹:TINYINT(1å­—èŠ‚,255) SMALLINT(2å­—èŠ‚,65535) MEDIUMINT(3å­—èŠ‚,16777214) INT(4å­—èŠ‚,4294967295) BIGINT(8å­—èŠ‚,)æµ®ç‚¹å‹:FLOAT(4å­—èŠ‚) DOUBLE(8å­—ç¬¦) DECIMAL(M+2å­—èŠ‚,æŒ‡å®šç²¾åº¦)æ—¥æœŸå‹:YEAR(yyyy,1å­—èŠ‚) TIME(HH:MM:SS,3å­—èŠ‚) DATE(YYYY-MM-DD,ä¸‰å­—èŠ‚) DATETIME(YYYY-MM-DD HH:MM:SS,8å­—èŠ‚)å­—ç¬¦ä¸²ç±»å‹:CHAR(Må­—èŠ‚,å®šé•¿) VARCHAR(L+1å­—èŠ‚,Lå®é™…é•¿åº¦) TINYTEXT(Lå­—èŠ‚,2**8) TEXT(L+2å­—èŠ‚,2**16) MEDIUMTEXT(L+3å­—èŠ‚,2**24) LONGTEXT(L+3å­—èŠ‚,2**32) ENUM() SET()äºŒè¿›åˆ¶ç±»å‹:BIT() BINARY() VARBINARY() BLOB()è½¬ä¹‰ç¬¦: ç”¨\\ ç³»ç»Ÿå˜é‡ 123456-- MySQL ä¸­çš„ç³»ç»Ÿå˜é‡ä»¥ä¸¤ä¸ªâ€œ@â€å¼€å¤´ã€‚SHOW GLOBAL VARIABLES; SHOW SESSION VARIABLES;-- è®¾ç½®SET @@global.innodb_file_per_table=default; MySQLå­˜å‚¨å¼•æ“ å­˜å‚¨å¼•æ“å°±æ˜¯æŒ‡è¡¨çš„ç±»å‹ã€‚æ•°æ®åº“çš„å­˜å‚¨å¼•æ“å†³å®šäº†è¡¨åœ¨è®¡ç®—æœºä¸­çš„å­˜å‚¨æ–¹å¼ã€‚ 1234SHOW ENGINES;SET default_storage_engine=&lt; å­˜å‚¨å¼•æ“å &gt; InnoDB 1.æ”¯æŒäº‹åŠ¡,å®ç°äº†4ä¸ªéš”ç¦»çº§åˆ« 2.ç¾éš¾æ¢å¤æ€§å¥½,commit rollback crash-recovery 3.è¡Œçº§é” 4.ç¼“å­˜å¤„ç† 5.æ”¯æŒå¤–é”® ä½¿ç”¨InnoDBæ—¶ï¼ŒMySQLä¼šåœ¨æ•°æ®ç›®å½•(Data )ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºibdata1çš„10MBå¤§å°çš„è‡ªåŠ¨æ‰©å±•æ•°æ®æ–‡ä»¶ï¼Œä»¥åŠä¸¤ä¸ªåä¸ºib_logfile0å’Œib_logfile1çš„5MBå¤§å°çš„æ—¥å¿—æ–‡ä»¶ã€‚ InnoDBå­˜å‚¨å¼•æ“å’ŒMyISAMä¸å¤ªä¸€æ ·ï¼Œè™½ç„¶ä¹Ÿæœ‰.frmæ–‡ä»¶æ¥å­˜æ”¾è¡¨ç»“æ„å®šä¹‰ç›¸å…³çš„å…ƒæ•°æ®ï¼Œä½†æ˜¯è¡¨æ•°æ®å’Œç´¢å¼•æ•°æ®æ˜¯å­˜æ”¾åœ¨ä¸€èµ·çš„.è‡³äºæ˜¯æ¯ä¸ªè¡¨å•ç‹¬å­˜æ”¾è¿˜æ˜¯æ‰€æœ‰è¡¨å­˜æ”¾åœ¨ä¸€èµ·ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±è®¾ç½®ã€‚ ç‰©ç†å­˜å‚¨ç»“æ„ æ•°æ®æ–‡ä»¶(è¡¨æ•°æ®å’Œç´¢å¼•æ•°æ®) æ•°æ®æ–‡ä»¶ç”¨æ¥å­˜æ”¾æ•°æ®è¡¨ä¸­çš„æ•°æ®å’Œæ‰€æœ‰çš„ç´¢å¼•æ•°æ®ï¼ŒåŒ…æ‹¬ä¸»é”®å’Œå…¶ä»–æ™®é€šç´¢å¼•ã€‚ InnoDBå­˜å‚¨çš„æ•°æ®é‡‡ç”¨è¡¨ç©ºé—´(Tablepace)è¿›è¡Œå­˜æ”¾è®¾è®¡ã€‚è¡¨ç©ºé—´æ˜¯ç”¨æ¥å­˜æ”¾MySQLç³»ç»Ÿç›¸å…³ä¿¡æ¯çš„ä¸€ä¸ªç‰¹æ®Šå…±äº«è¡¨ç©ºé—´ã€‚ InnoDBçš„è¡¨ç©ºé—´åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§å½¢å¼âˆ¶ å…±äº«è¡¨ç©ºé—´ï¼Œè¡¨æ•°æ®å’Œç´¢å¼•éƒ½å­˜æ”¾åœ¨åŒä¸€ä¸ªè¡¨ç©ºé—´ã€‚é»˜è®¤çš„è¡¨ç©ºé—´æ–‡ä»¶å°±æ˜¯ä¸Šé¢æ‰€æåˆ°çš„MySQLåˆå§‹åŒ–è·¯å¾„ä¸‹çš„ ibdata1æ–‡ä»¶ã€‚ ç‹¬ç«‹è¡¨ç©ºé—´ï¼Œæ¯ä¸ªè¡¨çš„æ•°æ®å’Œç´¢å¼•è¢«å­˜æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„.ibdæ–‡ä»¶ä¸­ã€‚ æ—¥å¿—æ–‡ä»¶ é»˜è®¤æƒ…å†µä¸‹ï¼ŒInnoDBå­˜å‚¨å¼•æ“çš„æ•°æ®ç›®å½•ä¸‹ä¼šæœ‰ä¸¤ä¸ªåä¸ºib_logfile0å’Œib_Jogfile1çš„æ–‡ä»¶ã€‚åœ¨MySQLå®˜æ–¹æ‰‹å†Œä¸­å°†å…¶ç§°ä¸ºInnoDBå­˜å‚¨å¼•æ“çš„é‡åšæ—¥å¿—æ–‡ä»¶( redo log file )ã€‚ é‡åšæ—¥å¿—æ–‡ä»¶å¯¹InnoDBå­˜å‚¨æ“è‡³å…³é‡è¦ã€‚InnoDBå¯ä»¥é€šè¿‡é‡åšæ—¥å¿—å°†æ•°æ®åº“å®•æœºæ—¶å·²ç»å®Œæˆä½†è¿˜æ²¡æœ‰æ¥å¾—åŠå°†æ•°æ®å†™å…¥ç£ç›˜çš„äº‹åŠ¡æ¢å¤ï¼Œä¹Ÿèƒ½å°†æ‰€æœ‰éƒ¨åˆ†å®Œæˆå¹¶å·²ç»å†™å…¥ç£ç›˜çš„æœ«å®Œæˆäº‹åŠ¡å›æ»šï¼Œå¹¶ä¸”å°†æ•°æ®è¿˜åŸï¼Œä»¥æ­¤æ¥ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚ æ¯ä¸ªInnoDBå­˜å‚¨å¼•æ“è‡³å°‘æœ‰1ä¸ªé‡åšæ—¥å¿—æ–‡ä»¶ç»„ ( group )ï¼Œæ¯ä¸ªæ–‡ä»¶ç»„ä¸‹è‡³å°‘æœ‰2ä¸ªé‡åšæ—¥å¿—æ–‡ä»¶ï¼Œå¦‚é»˜è®¤çš„ib_Jogfile0å’Œib_logfile1ã€‚ MyISAM ä¼˜ å ç”¨ç©ºé—´å° è®¿é—®é€Ÿåº¦å¿«ï¼Œå¯¹äº‹åŠ¡å®Œæ•´æ€§æ²¡æœ‰è¦æ±‚æˆ–ä»¥SELECTã€INSERTä¸ºä¸»çš„åº”ç”¨åŸºæœ¬ä¸Šéƒ½å¯ä»¥ä½¿ç”¨è¿™ä¸ª å¼•æ“æ¥åˆ›å»ºè¡¨å¯ä»¥é…åˆé”ï¼Œå®ç°æ“ä½œç³»ç»Ÿä¸‹çš„å¤åˆ¶å¤‡ä»½ æ”¯æŒå…¨æ–‡æ£€ç´¢(InnoDBåœ¨MySQL 5.6ç‰ˆæœ¬ä»¥åä¹Ÿæ”¯æŒå…¨æ–‡æ£€ç´¢)æ•°æ®ç´§å‡‘å­˜å‚¨ï¼Œå› æ­¤å¯è·å¾—æ›´ å°çš„ç´¢å¼•å’Œæ›´å¿«çš„å…¨è¡¨æ‰«ææ€§èƒ½ã€‚ MyISAMå¯¹æ•´å¼ è¡¨åŠ é”ï¼Œè€Œä¸æ˜¯é’ˆå¯¹è¡Œã€‚è¯»å–æ—¶ä¼šå¯¹éœ€è¦è¯»åˆ°çš„æ‰€æœ‰è¡¨åŠ å…±äº«é”ï¼Œå†™å…¥æ—¶å¯¹è¡¨åŠ æ’ä»–é”ã€‚ä½†æ˜¯åœ¨è¡¨æœ‰è¯»å–æŸ¥è¯¢çš„åŒæ—¶ä¹Ÿå¯ä»¥å¾€è¡¨ä¸­æ’å…¥æ–°çš„è®°å½•ï¼ˆè¿™è¢«ç§°ä¸ºå¹¶å‘æ’å…¥)ã€‚ ä¸‰ç§ç´¢å¼•:B-Tree,R-Tree,Full-Text ç¼º ä¸æ”¯æŒäº‹åŠ¡çš„å®Œæ•´æ€§å’Œå¹¶å‘æ€§ ä¸æ”¯æŒè¡Œçº§é”ï¼Œä½¿ç”¨è¡¨çº§é”ï¼Œå¹¶å‘æ€§å·® ä¸»æœºå®•æœºåï¼ŒMyISAMè¡¨æ˜“æŸåï¼Œç¾éš¾æ¢å¤æ€§ä¸ä½³æ•°æ®åº“å´©æºƒåæ— æ³•å®‰å…¨æ¢å¤ åªç¼“å­˜ç´¢å¼•ï¼Œæ•°æ®çš„ç¼“å­˜æ˜¯åˆ©ç”¨æ“ä½œç³»ç»Ÿç¼“å†²åŒºæ¥å®ç°çš„ï¼Œå¯èƒ½ä¼šå¼•å‘è¿‡å¤šçš„ç³»ç»Ÿè°ƒç”¨ï¼Œä¸”æ•ˆç‡ä¸ä½³ ç‰©ç†å­˜å‚¨ MyISAMå­˜å‚¨å¼•æ“çš„è¡¨åœ¨æ•°æ®åº“ä¸­è¢«å­˜å‚¨æˆ3ä¸ªç‰©ç†æ–‡ä»¶ï¼Œæ–‡ä»¶åä¸è¡¨åç›¸åŒã€‚æ‰©å±•åä¸ºfrmã€MYDå’ŒMYIã€‚å…¶ä¸­: frmä¸ºæ‰©å±•åçš„æ–‡ä»¶å­˜å‚¨è¡¨çš„ç»“æ„; MYDä¸ºæ‰©å±•åçš„æ–‡ä»¶å­˜å‚¨æ•°æ®ï¼Œå…¶æ˜¯MYDataçš„ç¼©å†™; MYIä¸ºæ‰©å±•åçš„æ–‡ä»¶å­˜å‚¨ç´¢å¼•ï¼Œå…¶æ˜¯MYIndexçš„ç¼©å†™ã€‚ä¸ç®¡è¡¨æœ‰å¤šå°‘ç´¢å¼•ï¼Œéƒ½æ˜¯å­˜æ”¾åœ¨åŒä¸€ä¸ª.MYTæ–‡ä»¶ä¸­. ä¸åŒå­˜å‚¨å¼•æ“å­˜å‚¨çš„æ–¹å¼ MySQLä¸­çš„æ¯ä¸€ä¸ªæ•°æ®è¡¨åœ¨ç£ç›˜ä¸Šè‡³å°‘è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œå³å­˜æ”¾ç€è¯¥æ•°æ®è¡¨ç»“æ„å®šä¹‰çš„.frm æ–‡ä»¶ã€‚ä¸åŒçš„å­˜å‚¨å¼•æ“è¿˜æœ‰å…¶å®ƒç”¨æ¥å­˜æ”¾æ•°æ®å’Œç´¢å¼•ä¿¡æ¯çš„æ–‡ä»¶ã€‚ ä»MySQL 8.0ç‰ˆæœ¬å¼€å§‹ï¼Œfrm è¡¨ç»“æ„å®šä¹‰æ–‡ä»¶è¢«å–æ¶ˆï¼ŒMySQLæŠŠè¡¨ç»“æ„ä¿¡æ¯éƒ½å†™åˆ°äº†ç³»ç»Ÿè¡¨ç©ºé—´ã€‚ æ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Pythonå­¦ä¹ ç¬”è®°","slug":"Pythonå­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/tags/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"python100å¤©1-15","slug":"ç¬”è®°-python100å¤©1-15","date":"2023-02-27T08:33:05.380Z","updated":"2023-02-27T09:08:35.281Z","comments":true,"path":"2023/02/27/ç¬”è®°-python100å¤©1-15/","link":"","permalink":"https://gladdduck.github.io/2023/02/27/%E7%AC%94%E8%AE%B0-python100%E5%A4%A91-15/","excerpt":"","text":"12345678910111213141516171819202122# 01-15pythonåŸºç¡€# 16-20pythonè¿›é˜¶# 21-30å‰ç«¯æ¦‚è¿°# 31-35Linux# 36-40MySQL# 41-55Django# 56-60FaskAPI# 61-65çˆ¬è™«ä¸å¹¶å‘ç¼–ç¨‹# 66-80numpy&amp;pandas# 81-90æœºå™¨å­¦ä¹ &amp;pytorch# 91-100é¡¹ç›® Python100å¤©å­¦ä¹ 1-15 èµ„æ–™è¿æ¥ ç¬¬ä¸€å¤©-åˆè¯†python 12345678910# 1. pythonå†å²# 2. pythonä¼˜ç¼ºç‚¹# 3. pythonå®‰è£…# 4. printçš„ç®€å•ä½¿ç”¨# printå‡½æ•°å¯ä»¥è¾“å‡ºå¤šä¸ªå€¼ï¼Œå¤šä¸ªå€¼ä¹‹é—´å¯ä»¥ç”¨ , è¿›è¡Œåˆ†éš”ï¼Œè¾“å‡ºçš„å†…å®¹ä¹‹é—´é»˜è®¤ä»¥ç©ºæ ¼åˆ†å¼€ã€‚print(&#x27;ä½ å¥½&#x27;, &#x27;ä¸–ç•Œ&#x27;)print(&#x27;hello&#x27;, &#x27;world&#x27;, sep=&#x27;, &#x27;, end=&#x27;!&#x27;)print(&#x27;goodbye, world&#x27;, end=&#x27;!\\n&#x27;)# 5.turtleç”»å›½æ——å’Œä½©å¥‡ ç¬¬äºŒå¤©-è¯­è¨€å…ƒç´  12345678910# 1. ç¨‹åº,å˜é‡å’Œç±»å‹# 2. å˜é‡å‘½ååŸåˆ™# 3. ç±»å‹è½¬æ¢- chr()ï¼šå°†æ•´æ•°è½¬æ¢æˆè¯¥ç¼–ç å¯¹åº”çš„å­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰ã€‚- ord()ï¼šå°†å­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªå­—ç¬¦ï¼‰è½¬æ¢æˆå¯¹åº”çš„ç¼–ç ï¼ˆæ•´æ•°ï¼‰ã€‚- int(): å°†å­—ç¬¦ä¸²è¡¨ç¤ºçš„nè¿›åˆ¶æ•°å­—è½¬æ¢ä¸ºåè¿›åˆ¶è¡¨ç¤º- bin(), oct(), hex(): å°†åè¿›åˆ¶æ•°å­—è½¬ä¸º2/8/16è¿›åˆ¶å­—ç¬¦ä¸²è¡¨ç¤º# 4. è¿ç®—ç¬¦åŠå…¶ä¼˜å…ˆçº§ # 3. ç±»å‹è½¬æ¢ # 4. è¿ç®—ç¬¦åŠå…¶ä¼˜å…ˆçº§ è¿ç®—ç¬¦ æè¿° [] [:] ä¸‹æ ‡ï¼Œåˆ‡ç‰‡ ** æŒ‡æ•° ~ + - æŒ‰ä½å–å, æ­£è´Ÿå· * / % // ä¹˜ï¼Œé™¤ï¼Œæ¨¡ï¼Œæ•´é™¤ + - åŠ ï¼Œå‡ &gt;&gt; &lt;&lt; å³ç§»ï¼Œå·¦ç§» &amp; æŒ‰ä½ä¸ ^ | æŒ‰ä½å¼‚æˆ–ï¼ŒæŒ‰ä½æˆ– &lt;= &lt; &gt; &gt;= å°äºç­‰äºï¼Œå°äºï¼Œå¤§äºï¼Œå¤§äºç­‰äº == != ç­‰äºï¼Œä¸ç­‰äº is is not èº«ä»½è¿ç®—ç¬¦ in not in æˆå‘˜è¿ç®—ç¬¦ not or and é€»è¾‘è¿ç®—ç¬¦ = += -= *= /= %= //= **= &amp;= ` =^=&gt;&gt;=&lt;&lt;=` è¯´æ˜ï¼š åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¦‚æœæä¸æ¸…æ¥šè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼Œå¯ä»¥ä½¿ç”¨æ‹¬å·æ¥ç¡®ä¿è¿ç®—çš„æ‰§è¡Œé¡ºåºã€‚ ç¬¬ä¸‰å¤©-åˆ†æ”¯ç»“æ„ â€“ ç¬¬å››å¤©-å¾ªç¯ç»“æ„ â€“ ç¬¬äº”å¤©-æ„é€ ç¨‹åºé€»è¾‘ â€“ ç¬¬å…­å¤©-å‡½æ•°å’Œæ¨¡å—çš„ä½¿ç”¨ 1234567891011121314151617181920212223242526# 1.å¯å˜å‚æ•°å¯å˜å‚æ•°å…è®¸ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚# 2.å…³é”®å­—å‚æ•°å…³é”®å­—å‚æ•°å…è®¸ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚# 3.å¯¼å…¥æ¨¡å—å¦‚æœå¯¼å…¥çš„æ¨¡å—é™¤äº†å®šä¹‰å‡½æ•°ä¹‹å¤–è¿˜æœ‰å¯ä»¥æ‰§è¡Œä»£ç ï¼Œé‚£ä¹ˆPythonè§£é‡Šå™¨åœ¨å¯¼å…¥è¿™ä¸ªæ¨¡å—æ—¶å°±ä¼šæ‰§è¡Œè¿™äº›ä»£ç # 4.å˜é‡ä½œç”¨åŸŸif __name__ == &#x27;__main__&#x27;: # è¿™é‡Œå£°æ˜çš„å˜é‡å±äºå…¨å±€ä½œç”¨åŸŸdef a(): def b(): # è¿™é‡Œä¿®æ”¹å…¨å±€å˜é‡éœ€è¦å£°æ˜global # è¿™é‡Œä¿®æ”¹aå‡½æ•°é‡Œé¢çš„å˜é‡éœ€è¦å£°æ˜nonlocal # ä»…ä»…ä½¿ç”¨ä¸éœ€è¦å£°æ˜ # å¦‚æœæ²¡æœ‰å…¨å±€å˜é‡ä½†æ˜¯å£°æ˜äº†,ä¼šæ–°å»ºä¸€ä¸ªå…¨å±€å˜é‡ # å¦‚æœæ²¡æœ‰nonlocalä½†æ˜¯å£°æ˜äº†ï¼Œä¼šæŠ¥é”™ ç¬¬ä¸ƒå¤©-å­—ç¬¦ä¸²å’Œå¸¸ç”¨æ•°æ®ç»“æ„ å­—ç¬¦ä¸²å‡½æ•° å¯ä»¥ä½¿ç”¨*å¤åˆ¶å­—ç¬¦ä¸² å› æ­¤a=[[0] * 3]*5 aé‡Œé¢çš„listéƒ½æ˜¯åŒä¸€ä¸ªåœ°å€,ä¿®æ”¹ä¸€ä¸ªå°±ä¼šä¿®æ”¹å…¨éƒ¨ ä½†æ˜¯[0] * 3 æ•°å­—æ˜¯ç›´æ¥å­˜çš„å¯¹è±¡ ä¿®æ”¹è¿™ä¸ªå°±æ˜¯ç›´æ¥æ¢äº†ä¸ªå¯¹è±¡ ä¸ç³Šä¿®æ”¹å¯¹è±¡çš„å†…å®¹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647str1 = &#x27;hello, world!&#x27;# é€šè¿‡å†…ç½®å‡½æ•°lenè®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦# len() å¤æ‚åº¦ä¸ºO(1) è°ƒç”¨__len__print(len(str1)) # 13# è·å¾—å­—ç¬¦ä¸²é¦–å­—æ¯å¤§å†™çš„æ‹·è´print(str1.capitalize()) # Hello, world!# è·å¾—å­—ç¬¦ä¸²æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™çš„æ‹·è´print(str1.title()) # Hello, World!# è·å¾—å­—ç¬¦ä¸²å˜å¤§å†™åçš„æ‹·è´print(str1.upper()) # HELLO, WORLD!# ä»å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­ä¸²æ‰€åœ¨ä½ç½®,rfind æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®print(str1.find(&#x27;or&#x27;)) # 8print(str1.find(&#x27;shit&#x27;)) # -1# ä¸findç±»ä¼¼ä½†æ‰¾ä¸åˆ°å­ä¸²æ—¶ä¼šå¼•å‘å¼‚å¸¸ rindexæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®# print(str1.index(&#x27;or&#x27;))# print(str1.index(&#x27;shit&#x27;))# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­—ç¬¦ä¸²å¼€å¤´print(str1.startswith(&#x27;He&#x27;)) # Falseprint(str1.startswith(&#x27;hel&#x27;)) # True# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šçš„å­—ç¬¦ä¸²ç»“å°¾print(str1.endswith(&#x27;!&#x27;)) # True# å°†å­—ç¬¦ä¸²ä»¥æŒ‡å®šçš„å®½åº¦å±…ä¸­å¹¶åœ¨ä¸¤ä¾§å¡«å……æŒ‡å®šçš„å­—ç¬¦print(str1.center(50, &#x27;*&#x27;))# å°†å­—ç¬¦ä¸²ä»¥æŒ‡å®šçš„å®½åº¦é å³(å·¦:ljust)æ”¾ç½®å·¦ä¾§å¡«å……æŒ‡å®šçš„å­—ç¬¦print(str1.rjust(50, &#x27; &#x27;))str2 = &#x27;abc123456&#x27;# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ç”±æ•°å­—æ„æˆprint(str2.isdigit()) # Falseprint(str2.isdecimal()) # Falseprint(str2.isnumeric()) # False# æ£€æµ‹å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å•è¯æ‹¼å†™é¦–å­—æ¯æ˜¯å¦ä¸ºå¤§å†™ï¼Œä¸”å…¶ä»–å­—æ¯ä¸ºå°å†™ã€‚print(str2.istitle())# æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦åªç”±ç©ºæ ¼ç»„æˆã€‚print(str2.isspace())# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥å­—æ¯æ„æˆprint(str2.isalpha()) # False# æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æ•°å­—å’Œå­—æ¯æ„æˆprint(str2.isalnum()) # Truestr3 = &#x27; jackfrued@126.com &#x27;print(str3)# è·å¾—å­—ç¬¦ä¸²ä¿®å‰ªå·¦å³(lstrip,rstrip)ä¸¤ä¾§ç©ºæ ¼ä¹‹åçš„æ‹·è´print(str3.strip())# æ ¹æ®æŒ‡å®šçš„åˆ†éš”ç¬¦å°†å­—ç¬¦ä¸²è¿›è¡Œåˆ†å‰²ã€‚# å¦‚æœå­—ç¬¦ä¸²åŒ…å«æŒ‡å®šçš„åˆ†éš”ç¬¦ï¼Œåˆ™è¿”å›ä¸€ä¸ª3å…ƒçš„å…ƒç»„ï¼Œç¬¬ä¸€ä¸ªä¸ºåˆ†éš”ç¬¦å·¦è¾¹çš„å­ä¸²ï¼Œç¬¬äºŒä¸ªä¸ºåˆ†éš”ç¬¦æœ¬èº«ï¼Œç¬¬ä¸‰ä¸ªä¸ºåˆ†éš”ç¬¦å³è¾¹çš„å­ä¸²ã€‚ rpartition æœ€å³è¾¹ä¸€ä¸ªprint(str3.partition(&#x27;@&#x27;)) #(&#x27; jackfrued&#x27;, &#x27;@&#x27;, &#x27;126.com &#x27;)# å¤§å°å†™å­—ç¬¦çš„è½¬æ¢print(str3.swapcase()) å­—ç¬¦ä¸²æ ¼å¼åŒ– 1234567891011# 1.a, b = 5, 10print(&#x27;%d * %d = %d&#x27; % (a, b, a * b))# 2.a, b = 5, 10print(&#x27;&#123;&#125; * &#123;&#125; = &#123;&#125;&#x27;.format(a, b, a * b))print(&#x27;&#123;0&#125; * &#123;1&#125; = &#123;2&#125;&#x27;.format(a, b, a * b))print(&#x27;&#123;aaa&#125; * &#123;bbb&#125; = &#123;ccc&#125;&#x27;.format(aaa=a, bbb=b, ccc=a * b))# 3.a, b = 5, 10print(f&#x27;&#123;a&#125; * &#123;b&#125; = &#123;a * b&#125;&#x27;) åˆ—è¡¨ åˆ—è¡¨å®¹å™¨ä¸­å¹¶æ²¡æœ‰ä¿å­˜çœŸæ­£çš„å¯¹è±¡ï¼Œå®ƒä¿å­˜çš„ä»…ä»…æ˜¯å¯¹è±¡çš„å¼•ç”¨(å †ä¸­çš„åœ°å€)ã€‚ 12345678910111213141516171819202122232425list1 = [1, 3, 5, 7, 100]# æ·»åŠ å…ƒç´ list1.append(200)list1.insert(1, 400)# åˆå¹¶ä¸¤ä¸ªåˆ—è¡¨list1.extend([1000, 2000])list1 += [1000, 2000]# æ ¹æ®å€¼åˆ é™¤å…ƒç´  åˆ é™¤ç¬¬ä¸€ä¸ªlist1.remove(1234)# æ ¹æ®ä¸‹æ ‡åˆ é™¤å…ƒç´ list1.pop(0)# åˆ‡ç‰‡è¿”å›çš„æ˜¯æ‹·è´ï¼Œä¿®æ”¹æ–°æ•°ç»„ï¼ŒåŸæ•°ç»„ä¸åŠ¨# https://pythontutor.com/python-debugger.html#mode=editfruits = [ [66666,77777777], &#x27;apple&#x27;, &#x27;strawberry&#x27;, &#x27;waxberry&#x27;]fruits3 = fruits[:4]print(fruits3) # æ•°ç»„é‡Œé¢å­˜çš„æ˜¯åˆ—è¡¨çš„åœ°å€ï¼Œæ‹·è´çš„ä¹Ÿæ˜¯åˆ—è¡¨çš„åœ°å€ï¼Œä¿®æ”¹è¿˜æ˜¯åˆ°åˆ—è¡¨çš„åœ°å€å»ä¿®æ”¹ï¼Œæ‰€ä»¥ä¼šå˜fruits3[0][0]=000fruits3[2]=&#x27;aaaaaaaaa&#x27;print(fruits3)print(fruits)# [[66666, 77777777], &#x27;apple&#x27;, &#x27;strawberry&#x27;, &#x27;waxberry&#x27;]# [[0, 77777777], &#x27;apple&#x27;, &#x27;aaaaaaaaa&#x27;, &#x27;waxberry&#x27;]# [[0, 77777777], &#x27;apple&#x27;, &#x27;strawberry&#x27;, &#x27;waxberry&#x27;] ä»€ä¹ˆæ—¶å€™ä¸ç”¨æ•°ç»„ 123# array ç±»ä¼¼Cçš„æ•°ç»„# å¿…é¡»æŒ‡å®šç±»å‹ ç”Ÿæˆå™¨ 1234567891011121314import sys# ç”¨åˆ—è¡¨çš„ç”Ÿæˆè¡¨è¾¾å¼è¯­æ³•åˆ›å»ºåˆ—è¡¨å®¹å™¨# ç”¨è¿™ç§è¯­æ³•åˆ›å»ºåˆ—è¡¨ä¹‹åå…ƒç´ å·²ç»å‡†å¤‡å°±ç»ªæ‰€ä»¥éœ€è¦è€—è´¹è¾ƒå¤šçš„å†…å­˜ç©ºé—´f = [x ** 2 for x in range(1, 1000)]print(sys.getsizeof(f)) # æŸ¥çœ‹å¯¹è±¡å ç”¨å†…å­˜çš„å­—èŠ‚æ•°# è¯·æ³¨æ„ä¸‹é¢çš„ä»£ç åˆ›å»ºçš„ä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨è€Œæ˜¯ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡# é€šè¿‡ç”Ÿæˆå™¨å¯ä»¥è·å–åˆ°æ•°æ®ä½†å®ƒä¸å ç”¨é¢å¤–çš„ç©ºé—´å­˜å‚¨æ•°æ®# æ¯æ¬¡éœ€è¦æ•°æ®çš„æ—¶å€™å°±é€šè¿‡å†…éƒ¨çš„è¿ç®—å¾—åˆ°æ•°æ®(éœ€è¦èŠ±è´¹é¢å¤–çš„æ—¶é—´)f = (x ** 2 for x in range(1, 1000))print(sys.getsizeof(f)) # ç›¸æ¯”ç”Ÿæˆå¼ç”Ÿæˆå™¨ä¸å ç”¨å­˜å‚¨æ•°æ®çš„ç©ºé—´for val in f: print(val)yieldï¼šç”Ÿæˆå‡½æ•° å…ƒç»„ å…ƒç»„åœ¨åˆ›å»ºæ—¶é—´å’Œå ç”¨çš„ç©ºé—´ä¸Šé¢éƒ½ä¼˜äºåˆ—è¡¨ é›†åˆ å­—å…¸ åºåˆ—çš„æŠ½è±¡åŸºç±» MutavleSequence:å¯å˜åºåˆ—æŠ½è±¡åŸºç±»(setitem,delitem) Sequence:ä¸å¯å˜åºåˆ—æŠ½è±¡åŸºç±» +,+=,extendåŒºåˆ« 1234567891011121314151617181920212223# +=å®é™…ä¸Šæ˜¯è°ƒç”¨äº†extendæ–¹æ³•# +=è¿”å›çš„æœ¬èº«,åœ¨åŸåœ°å€ä¸Šä¿®æ”¹# a=a+ ä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡# appendä¼šæŠŠå‚æ•°å½“æˆä¸€ä¸ªå¯¹è±¡åŠ è¿›å»# extendå‚æ•°å¿…é¡»æ˜¯å¯è¿­ä»£å¯¹è±¡,ä¸€ä¸ªä¸ªåŠ è¿›å»a=[1,2]print(id(a))a.extend((777,))a+=[666]# æŠ¥é”™# a+=(777)print(id(a))a=a+[666]print(id(a))a.append([666,777])print(id(a))# 2358526812672# 2358526812672# 2358526332032# 2358526332032 å¯åˆ‡ç‰‡å¯¹è±¡ 12345678910alist[len(alist):]=[9]# æœ«å°¾è¿½åŠ å…ƒç´ alist[:0]=[1,2]# å¼€å¤´è¿½åŠ å…ƒç´ alist[3:3]=[1,2]# ç´¢å¼•ä½ç½®è¿½åŠ å…ƒç´ # ç»“æŸä½ç½®å¤§äºé•¿åº¦ä¼šè¿”å›é•¿åº¦# å¼€å§‹ä½ç½®å¤§äºé•¿åº¦ä¼šè¿”å›ç©ºåˆ—è¡¨# åˆ‡ç‰‡èµ‹å€¼é•¿åº¦å¿…é¡»ç›¸ç­‰ ç¬¬å…«å¤©-é¢å‘å¯¹è±¡ç¼–ç¨‹åŸºç¡€ pythonä¸‰ä¸ªçŸ¥è¯†ç‚¹:iså’Œ==,åµŒå¥—åˆ—è¡¨,ç±»çš„ç§æœ‰å±æ€§ 123456789101112131415161718192021222324252627282930# 1.ç±»çš„ç§æœ‰å±æ€§å¯ä»¥åœ¨å±æ€§åå‰é¢åŠ ä¸¤ä¸ªä¸‹åˆ’çº¿# __len__ä¸æ˜¯ç§æœ‰æˆå‘˜,å› ä¸ºåé¢ä¹Ÿæœ‰__class Test: def __init__(self, foo): self.__foo = foo def __bar(self): print(self.__foo) print(&#x27;__bar&#x27;)def main(): test = Test(&#x27;hello&#x27;) # AttributeError: &#x27;Test&#x27; object has no attribute &#x27;__bar&#x27; test.__bar() # AttributeError: &#x27;Test&#x27; object has no attribute &#x27;__foo&#x27; print(test.__foo) test = Test(&#x27;hello&#x27;) test._Test__bar() print(test._Test__foo)if __name__ == &quot;__main__&quot;: main()# 2.Pythonå¹¶æ²¡æœ‰ä»è¯­æ³•ä¸Šä¸¥æ ¼ä¿è¯ç§æœ‰å±æ€§æˆ–æ–¹æ³•çš„ç§å¯†æ€§ï¼Œå®ƒåªæ˜¯ç»™ç§æœ‰çš„å±æ€§å’Œæ–¹æ³•æ¢äº†ä¸€ä¸ªåå­—æ¥å¦¨ç¢å¯¹å®ƒä»¬çš„è®¿é—®,æ›´æ¢åå­—çš„è§„åˆ™ä»ç„¶å¯ä»¥è®¿é—®åˆ°å®ƒä»¬ ç¬¬ä¹å¤©-é¢å‘å¯¹è±¡è¿›é˜¶ classç”¨äºå£°æ˜ä¸€ä¸ªç±»,ç”¨typeåˆ›å»ºç±» objectæ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œæ‰€æœ‰ç±»æ˜¯typeçš„å®ä¾‹ ç±»çš„å±æ€§ 12345678910111213141516171819202122232425262728293031323334353637383940# 1.@propertyè£…é¥°å™¨class Person(object): def __init__(self, name, age): self._name = name self._age = age # è®¿é—®å™¨ - getteræ–¹æ³• @property def name(self): return self._name # è®¿é—®å™¨ - getteræ–¹æ³• @property def age(self): return self._age # ä¿®æ”¹å™¨ - setteræ–¹æ³• @age.setter def age(self, age): self._age = age # å±æ€§åå­—å’Œ@propertyä¿®é¥°çš„æ–¹æ³•åå­—ä¸èƒ½ä¸€æ ·,ä¸ç„¶ä¼šæ­»å¾ªç¯# æŠŠä¸€ä¸ªgetteræ–¹æ³•å˜æˆå±æ€§ï¼Œåªéœ€è¦åŠ ä¸Š@propertyå°±å¯ä»¥äº†# @propertyæœ¬èº«åˆåˆ›å»ºäº†å¦ä¸€ä¸ªè£…é¥°å™¨@score.setterï¼Œè´Ÿè´£æŠŠä¸€ä¸ªsetteræ–¹æ³•å˜æˆå±æ€§èµ‹å€¼# ä¸Šé¢nameæ˜¯åªè¯»å±æ€§,ageæ˜¯è¯»å†™å±æ€§# 2.__slots__é­”æ³• ,åªæœ‰slotså†…çš„å±æ€§æ‰èƒ½è¢«æ·»åŠ ,å¯¹å­ç±»æ²¡æœ‰ç”¨,å¦‚æœå­ç±»æœ‰,å°±æ˜¯çˆ¶ç±»å’Œå­ç±»çš„å¹¶é›†class Person(object): # é™å®šPersonå¯¹è±¡åªèƒ½ç»‘å®š_name, _ageå’Œ_genderå±æ€§ __slots__ = (&#x27;_name&#x27;, &#x27;_age&#x27;, &#x27;_gender&#x27;) def __init__(self, name, age): self._name = name self._age = age # ä¼šæŠ¥é”™ # self.hhhh=666Person._gender = &#x27;ç”·&#x27;# è¿™æ ·èƒ½ç»‘å®š?Person.sex = &#x27;?&#x27;person = Person(&#x27;ç‹å¤§é”¤&#x27;, 22)# è¿™æ ·ä¼šæŠ¥é”™,ä½†æ˜¯åŠ ä¸ŠPerson._sex = &#x27;?&#x27; å°±å˜æˆäº†åªè¯»,ä¸èƒ½ä¿®æ”¹person.sex=66 ç±»çš„æ–¹æ³• 123456789101112# 1.é™æ€æ–¹æ³•# @staticmethodä¿®é¥°,ä¸ç”¨self,å’ŒC++ç±»ä¼¼# 2.ç±»æ–¹æ³•# @classmethodä¿®é¥°,é»˜è®¤ä¼ é€’äº†clså‚æ•°,è°ƒç”¨ç±»æœ¬èº«,@classmethoddef now(cls): print(cls)# 3.å®ä¾‹æ–¹æ³•# self å°±æ˜¯å®ä¾‹æœ¬èº« ç»§æ‰¿å’Œå¤šæ€ 12345678910111213# å­ç±»åœ¨ç»§æ‰¿äº†çˆ¶ç±»çš„æ–¹æ³•åï¼Œå¯ä»¥å¯¹çˆ¶ç±»å·²æœ‰çš„æ–¹æ³•ç»™å‡ºæ–°çš„å®ç°ç‰ˆæœ¬ï¼Œè¿™ä¸ªåŠ¨ä½œç§°ä¹‹ä¸ºæ–¹æ³•é‡å†™ï¼ˆoverrideï¼‰ã€‚é€šè¿‡æ–¹æ³•é‡å†™æˆ‘ä»¬å¯ä»¥è®©çˆ¶ç±»çš„åŒä¸€ä¸ªè¡Œä¸ºåœ¨å­ç±»ä¸­æ‹¥æœ‰ä¸åŒçš„å®ç°ç‰ˆæœ¬ï¼Œå½“æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªç»è¿‡å­ç±»é‡å†™çš„æ–¹æ³•æ—¶ï¼Œä¸åŒçš„å­ç±»å¯¹è±¡ä¼šè¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºï¼Œè¿™ä¸ªå°±æ˜¯å¤šæ€# æŠ½è±¡ç±»from abc import ABCMeta, abstractmethodclass Pet(object, metaclass=ABCMeta): def __init__(self, nickname): self._nickname = nickname @abstractmethod def make_voice(self): pass å®šåˆ¶ç±»-é­”æ³•å‡½æ•°(ä¸æ˜¯ç»§æ‰¿,pythonè‡ªå¸¦) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# __str__æ‰“å°è¾“å‡ºå˜æˆè‡ªå®šä¹‰å­—ç¬¦ä¸²# __repr__ ç›´æ¥è°ƒç”¨ç±»æ—¶æ‰“å°(jupyter)def __str__(self): return &#x27;6666&#x27;__repr__ = __str__# __iter__å¯ç”¨forå¾ªç¯è¿­ä»£# __next__å»ä¸‹ä¸€ä¸ªå¯¹è±¡class Fib(object): def __init__(self): self.a, self.b = 0, 1 # åˆå§‹åŒ–ä¸¤ä¸ªè®¡æ•°å™¨aï¼Œb def __iter__(self): return self # å®ä¾‹æœ¬èº«å°±æ˜¯è¿­ä»£å¯¹è±¡ï¼Œæ•…è¿”å›è‡ªå·± def __next__(self): self.a, self.b = self.b, self.a + self.b # è®¡ç®—ä¸‹ä¸€ä¸ªå€¼ if self.a &gt; 100000: # é€€å‡ºå¾ªç¯çš„æ¡ä»¶ raise StopIteration() return self.a # è¿”å›ä¸‹ä¸€ä¸ªå€¼# __getitem__åƒåˆ—è¡¨ä¸€æ ·å–å€¼ ä¹Ÿå¯ä»¥æ”¹æˆå­—å…¸å½¢å¼ ä¹Ÿå¯ä»¥ç”¨forå¾ªç¯if isinstance(n, int): # næ˜¯ç´¢å¼•if isinstance(n, slice): # næ˜¯åˆ‡ç‰‡# å¦‚æœè¿™ä¸ªå¯¹è±¡è¢«foræ—¶ï¼Œä¼šé¦–å…ˆè°ƒç”¨__iter__æ–¹æ³•è¿”å›ä¸€ä¸ªiterator,ç„¶åå†å¯¹è¿™ä¸ªiteratorå¾ªç¯è°ƒç”¨__next__æ–¹æ³•ï¼Œç›´åˆ°ç¢°åˆ°StopIterationæ—¶åˆ™åœæ­¢é€€å‡ºã€‚# å¦‚æœforçš„å¯¹è±¡æ²¡æœ‰__iter__æ–¹æ³•ï¼Œåˆ™æ— æ³•è·å¾—ä¸€ä¸ªè¿­ä»£å™¨ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ï¼Œå¦‚æœè¿™ä¸ªç±»å®ç°äº†__getitem__æ–¹æ³•ï¼Œä¼šä»0å¼€å§‹ä¾æ¬¡è¯»å–ç›¸åº”çš„ä¸‹æ ‡ï¼Œç›´åˆ°å‘ç”ŸIndexErrorä¸ºæ­¢# __iter__æ˜¯ä¼˜å…ˆè¯»å–çš„# __getattr__è·å–ç±»çš„å±æ€§,å·²ç»å®šä¹‰çš„å±æ€§ä¸ä¼šè°ƒç”¨,ä½¿ç”¨æ²¡æœ‰å®šä¹‰çš„å±æ€§æ‰ä¼šè°ƒç”¨# __call__ å¯ä»¥ç›´æ¥å¯¹å®ä¾‹è¿›è¡Œè°ƒç”¨# __bases__æŸ¥çœ‹çˆ¶ç±»# __enter__ withè¿›å…¥# __exit__withé€€å‡ºclass Sample: def __enter__(self): print( &quot;enter&quot;) return self def __exit__(self, exc_type,exc_val,exc_tb): print ( &quot;exit&quot;) def do_something(self): print ( &quot;doing something&quot; )with Sample() as sample: sample.do_something()# @contextlib.contextmanger # __dict__ä¸dir()çš„åŒºåˆ«ï¼š# dir()æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›çš„æ˜¯listï¼›# __dict__æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œé”®ä¸ºå±æ€§åï¼Œå€¼ä¸ºå±æ€§å€¼(ç±»å’Œå®ä¾‹ä¸ä¸€æ ·,å¯ä»¥é€šè¿‡ä¿®æ”¹è¿™ä¸ªå¢åŠ å±æ€§)ï¼›# dir()ç”¨æ¥å¯»æ‰¾ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼ŒåŒ…æ‹¬__dict__ä¸­çš„å±æ€§ï¼Œ__dict__æ˜¯dir()çš„å­é›†ï¼› å¦‚æœè¦è·å¾—ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨dir()å‡½æ•° dir('abc') ç¬¬åå¤©-å›¾å½¢ç”¨æˆ·ç•Œé¢å’Œæ¸¸æˆå¼€å‘ â€“ ç¬¬åä¸€å¤©-æ–‡ä»¶å’Œå¼‚å¸¸ â€“ 1234567891011121314151617181920212223242526272829# 1.jsonimport json# å­—ç¬¦ä¸²å¤„ç†data = &#123; &#x27;name&#x27; : &#x27;ACME&#x27;, &#x27;shares&#x27; : 100, &#x27;price&#x27; : 542.23&#125;json_str = json.dumps(data)data = json.loads(json_str)# æ–‡ä»¶å¤„ç†# Writing JSON datawith open(&#x27;data.json&#x27;, &#x27;w&#x27;) as f: json.dump(data, f)# Reading data backwith open(&#x27;data.json&#x27;, &#x27;r&#x27;) as f: data = json.load(f)# 2.å¼‚å¸¸# 1.exceptè¯­å¥ä¸æ˜¯å¿…é¡»çš„ï¼Œfinallyè¯­å¥ä¹Ÿä¸æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯äºŒè€…å¿…é¡»è¦æœ‰ä¸€ä¸ªï¼Œå¦åˆ™å°±æ²¡æœ‰tryçš„æ„ä¹‰äº†ã€‚# 2.exceptè¯­å¥å¯ä»¥æœ‰å¤šä¸ªï¼ŒPythonä¼šæŒ‰exceptè¯­å¥çš„é¡ºåºä¾æ¬¡åŒ¹é…ä½ æŒ‡å®šçš„å¼‚å¸¸ï¼Œå¦‚æœå¼‚å¸¸å·²ç»å¤„ç†å°±ä¸ä¼šå†è¿›å…¥åé¢çš„exceptè¯­å¥ã€‚# 3.exceptè¯­å¥å¯ä»¥ä»¥å…ƒç»„å½¢å¼åŒæ—¶æŒ‡å®šå¤šä¸ªå¼‚å¸¸ï¼Œå‚è§å®ä¾‹ä»£ç ã€‚# 4.exceptè¯­å¥åé¢å¦‚æœä¸æŒ‡å®šå¼‚å¸¸ç±»å‹ï¼Œåˆ™é»˜è®¤æ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œä½ å¯ä»¥é€šè¿‡loggingæˆ–è€…sysæ¨¡å—è·å–å½“å‰å¼‚å¸¸ã€‚# 5.å¦‚æœè¦æ•è·å¼‚å¸¸åè¦é‡å¤æŠ›å‡ºï¼Œè¯·ä½¿ç”¨raiseï¼Œåé¢ä¸è¦å¸¦ä»»ä½•å‚æ•°æˆ–ä¿¡æ¯ã€‚# 6.ä¸å»ºè®®æ•è·å¹¶æŠ›å‡ºåŒä¸€ä¸ªå¼‚å¸¸ï¼Œè¯·è€ƒè™‘é‡æ„ä½ çš„ä»£ç ã€‚# 7.ä¸å»ºè®®åœ¨ä¸æ¸…æ¥šé€»è¾‘çš„æƒ…å†µä¸‹æ•è·æ‰€æœ‰å¼‚å¸¸ï¼Œæœ‰å¯èƒ½ä½ éšè—äº†å¾ˆä¸¥é‡çš„é—®é¢˜ã€‚# 8.å°½é‡ä½¿ç”¨å†…ç½®çš„å¼‚å¸¸å¤„ç†è¯­å¥æ¥æ›¿æ¢try/exceptè¯­å¥ï¼Œæ¯”å¦‚withè¯­å¥ï¼Œgetattr()æ–¹æ³•ã€‚ ç¬¬åäºŒå¤©-å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼ æ­£åˆ™è¡¨è¾¾å¼ç»ƒä¹  æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ 123456# reæ¨¡å—å¤„ç†# pattern:r&#x27;è‡ªå·±å†™çš„è¡¨è¾¾å¼&#x27;# str:å¾…åŒ¹é…å­—ç¬¦ä¸² å‡½æ•° è¯´æ˜ compile(pattern, flags=0) ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼è¿”å›æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ match(pattern, string, flags=0) ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ä¸² æˆåŠŸè¿”å›åŒ¹é…å¯¹è±¡ å¦åˆ™è¿”å›None search(pattern, string, flags=0) æœç´¢å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡å¼ æˆåŠŸè¿”å›åŒ¹é…å¯¹è±¡ å¦åˆ™è¿”å›None split(pattern, string, maxsplit=0, flags=0) ç”¨æ­£åˆ™è¡¨è¾¾å¼æŒ‡å®šçš„æ¨¡å¼åˆ†éš”ç¬¦æ‹†åˆ†å­—ç¬¦ä¸² è¿”å›åˆ—è¡¨ sub(pattern, repl, string, count=0, flags=0) ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²æ›¿æ¢åŸå­—ç¬¦ä¸²ä¸­ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ¨¡å¼ å¯ä»¥ç”¨countæŒ‡å®šæ›¿æ¢çš„æ¬¡æ•° fullmatch(pattern, string, flags=0) matchå‡½æ•°çš„å®Œå…¨åŒ¹é…ï¼ˆä»å­—ç¬¦ä¸²å¼€å¤´åˆ°ç»“å°¾ï¼‰ç‰ˆæœ¬ findall(pattern, string, flags=0) æŸ¥æ‰¾å­—ç¬¦ä¸²æ‰€æœ‰ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ¨¡å¼ è¿”å›å­—ç¬¦ä¸²çš„åˆ—è¡¨ finditer(pattern, string, flags=0) æŸ¥æ‰¾å­—ç¬¦ä¸²æ‰€æœ‰ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ¨¡å¼ è¿”å›ä¸€ä¸ªè¿­ä»£å™¨ purge() æ¸…é™¤éšå¼ç¼–è¯‘çš„æ­£åˆ™è¡¨è¾¾å¼çš„ç¼“å­˜ re.I / re.IGNORECASE å¿½ç•¥å¤§å°å†™åŒ¹é…æ ‡è®° re.M / re.MULTILINE å¤šè¡ŒåŒ¹é…æ ‡è®° ç¬¬åä¸‰å¤©-è¿›ç¨‹å’Œçº¿ç¨‹ è¿›ç¨‹çº¿ç¨‹çŸ¥è¯†å‚è€ƒæ“ä½œç³»ç»Ÿ å¤šè¿›ç¨‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576# Unixå’ŒLinuxæ“ä½œç³»ç»Ÿä¸Šæä¾›äº† `fork()`ç³»ç»Ÿè°ƒç”¨æ¥åˆ›å»ºè¿›ç¨‹ï¼Œè°ƒç”¨ `fork()`å‡½æ•°çš„æ˜¯çˆ¶è¿›ç¨‹ï¼Œåˆ›å»ºå‡ºçš„æ˜¯å­è¿›ç¨‹# Windowsæ²¡æœ‰forkè°ƒç”¨from multiprocessing import Processfrom os import getpidfrom random import randintfrom time import time, sleepdef download_task(filename): print(&#x27;å¯åŠ¨ä¸‹è½½è¿›ç¨‹ï¼Œè¿›ç¨‹å·[%d].&#x27; % getpid()) print(&#x27;å¼€å§‹ä¸‹è½½%s...&#x27; % filename) time_to_download = randint(5, 10) sleep(time_to_download) print(&#x27;%sä¸‹è½½å®Œæˆ! è€—è´¹äº†%dç§’&#x27; % (filename, time_to_download))def main(): start = time() p1 = Process(target=download_task, args=(&#x27;Pythonä»å…¥é—¨åˆ°ä½é™¢.pdf&#x27;, )) p1.start() p2 = Process(target=download_task, args=(&#x27;Peking Hot.avi&#x27;, )) p2.start() p1.join() p2.join() end = time() print(&#x27;æ€»å…±è€—è´¹äº†%.2fç§’.&#x27; % (end - start))if __name__ == &#x27;__main__&#x27;: main()# è¿›ç¨‹æ± def main(): start = time() p = Pool(4) # è¿™é‡Œè¿›ç¨‹æ± æœ‰å››ä¸ªè¿›ç¨‹ä½†æ˜¯ç”¨äº†äº”ä¸ªä»»åŠ¡ # task 0ï¼Œ1ï¼Œ2ï¼Œ3æ˜¯ç«‹åˆ»æ‰§è¡Œçš„ï¼Œè€Œtask 4è¦ç­‰å¾…å‰é¢æŸä¸ªtaskå®Œæˆåæ‰æ‰§è¡Œ for i in range(5): p.apply_async(download_task, args=(i,)) p.close() p.join() print(&#x27;æ€»å…±è€—è´¹äº†%.2fç§’.&#x27; % (end - start))# è¿›ç¨‹é€šä¿¡from multiprocessing import Process, Queueimport os, time, random# å†™æ•°æ®è¿›ç¨‹æ‰§è¡Œçš„ä»£ç :def write(q): print(&#x27;Process to write: %s&#x27; % os.getpid()) for value in [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;]: print(&#x27;Put %s to queue...&#x27; % value) q.put(value) time.sleep(random.random())# è¯»æ•°æ®è¿›ç¨‹æ‰§è¡Œçš„ä»£ç :def read(q): print(&#x27;Process to read: %s&#x27; % os.getpid()) while True: value = q.get(True) print(&#x27;Get %s from queue.&#x27; % value)if __name__==&#x27;__main__&#x27;: # çˆ¶è¿›ç¨‹åˆ›å»ºQueueï¼Œå¹¶ä¼ ç»™å„ä¸ªå­è¿›ç¨‹ï¼š q = Queue() pw = Process(target=write, args=(q,)) pr = Process(target=read, args=(q,)) # å¯åŠ¨å­è¿›ç¨‹pwï¼Œå†™å…¥: pw.start() # å¯åŠ¨å­è¿›ç¨‹prï¼Œè¯»å–: pr.start() # ç­‰å¾…pwç»“æŸ: pw.join() # prè¿›ç¨‹é‡Œæ˜¯æ­»å¾ªç¯ï¼Œæ— æ³•ç­‰å¾…å…¶ç»“æŸï¼Œåªèƒ½å¼ºè¡Œç»ˆæ­¢: pr.terminate()&#x27;&#x27;&#x27;Process to write: 50563Put A to queue...Process to read: 50564Get A from queue.Put B to queue...Get B from queue.Put C to queue...Get C from queue.&#x27;&#x27;&#x27; å¤šçº¿ç¨‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105from random import randint# åœ¨Pythonæ—©æœŸçš„ç‰ˆæœ¬ä¸­å°±å¼•å…¥äº†threadæ¨¡å—ï¼ˆç°åœ¨åä¸º_threadï¼‰æ¥å®ç°å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œç„¶è€Œè¯¥æ¨¡å—è¿‡äºåº•å±‚ï¼Œè€Œä¸”å¾ˆå¤šåŠŸèƒ½éƒ½æ²¡æœ‰æä¾›# å› æ­¤ç›®å‰çš„å¤šçº¿ç¨‹å¼€å‘æˆ‘ä»¬æ¨èä½¿ç”¨threadingæ¨¡å—ï¼Œè¯¥æ¨¡å—å¯¹å¤šçº¿ç¨‹ç¼–ç¨‹æä¾›äº†æ›´å¥½çš„é¢å‘å¯¹è±¡çš„å°è£…ã€‚from threading import Threadfrom time import time, sleepdef download(filename): print(&#x27;å¼€å§‹ä¸‹è½½%s...&#x27; % filename) time_to_download = randint(5, 10) sleep(time_to_download) print(&#x27;%sä¸‹è½½å®Œæˆ! è€—è´¹äº†%dç§’&#x27; % (filename, time_to_download))def main(): start = time() t1 = Thread(target=download, args=(&#x27;Pythonä»å…¥é—¨åˆ°ä½é™¢.pdf&#x27;,)) t1.start() t2 = Thread(target=download, args=(&#x27;Peking Hot.avi&#x27;,)) t2.start() t1.join() t2.join() end = time() print(&#x27;æ€»å…±è€—è´¹äº†%.3fç§’&#x27; % (end - start))if __name__ == &#x27;__main__&#x27;: main()# ç»§æ‰¿ `Thread`ç±»çš„æ–¹å¼æ¥åˆ›å»ºè‡ªå®šä¹‰çš„çº¿ç¨‹ç±»from random import randintfrom threading import Threadfrom time import time, sleepclass DownloadTask(Thread): def __init__(self, filename): # å¯ä»¥ç©¿nameç»™çº¿ç¨‹å‘½å super().__init__() self._filename = filename def run(self): print(&#x27;å¼€å§‹ä¸‹è½½%s...&#x27; % self._filename) time_to_download = randint(5, 10) sleep(time_to_download) print(&#x27;%sä¸‹è½½å®Œæˆ! è€—è´¹äº†%dç§’&#x27; % (self._filename, time_to_download))def main(): start = time() t1 = DownloadTask(&#x27;Pythonä»å…¥é—¨åˆ°ä½é™¢.pdf&#x27;) t1.start() t2 = DownloadTask(&#x27;Peking Hot.avi&#x27;) t2.start() t1.join() t2.join() end = time() print(&#x27;æ€»å…±è€—è´¹äº†%.2fç§’.&#x27; % (end - start))if __name__ == &#x27;__main__&#x27;: main()# çº¿ç¨‹ä¸Šé”from time import sleepfrom threading import Thread, Lock# RLock å¯é‡ç”¨é”,åŒä¸€çº¿ç¨‹ä¸­å¯ä»¥å¤šæ¬¡è°ƒç”¨acquire,ä½†æ˜¯releaseè¦è°ƒç”¨ä¸€æ ·çš„æ¬¡æ•°class Account(object): def __init__(self): self._balance = 0 self._lock = Lock() def deposit(self, money): # å…ˆè·å–é”æ‰èƒ½æ‰§è¡Œåç»­çš„ä»£ç  self._lock.acquire() try: new_balance = self._balance + money sleep(0.01) self._balance = new_balance finally: # åœ¨finallyä¸­æ‰§è¡Œé‡Šæ”¾é”çš„æ“ä½œä¿è¯æ­£å¸¸å¼‚å¸¸é”éƒ½èƒ½é‡Šæ”¾ self._lock.release() @property def balance(self): return self._balanceclass AddMoneyThread(Thread): def __init__(self, account, money): super().__init__() self._account = account self._money = money def run(self): self._account.deposit(self._money)def main(): account = Account() threads = [] for _ in range(100): t = AddMoneyThread(account, 1) threads.append(t) t.start() for t in threads: t.join() print(&#x27;è´¦æˆ·ä½™é¢ä¸º: ï¿¥%då…ƒ&#x27; % account.balance)if __name__ == &#x27;__main__&#x27;: main()# çº¿ç¨‹é€šä¿¡from queue import Queue# queue.Queueï¼šè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œå¯ä»¥è¢«ç”¨æ¥åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚# queue.LifoQueueï¼šè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„æ ˆï¼Œå¯ä»¥è¢«ç”¨æ¥åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚# queue.PriorityQueueï¼šè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ä¼˜å…ˆé˜Ÿåˆ—ï¼Œå¯ä»¥è¢«ç”¨æ¥åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚# collections.dequeï¼šè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„åŒç«¯é˜Ÿåˆ—ï¼Œå¯ä»¥è¢«ç”¨æ¥åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚# multiprocessing.Queueï¼šè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ï¼Œå¯ä»¥è¢«ç”¨æ¥åœ¨è¿›ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®ã€‚ ç¬¬åå››å¤©-ç½‘ç»œç¼–ç¨‹å…¥é—¨å’Œç½‘ç»œåº”ç”¨å¼€å‘ è®¡ç®—æœºç½‘ç»œåŸºç¡€çŸ¥è¯†è¡¥å…… å‘é‚®ä»¶ å‘çŸ­ä¿¡ ç½‘ç»œæœåŠ¡ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970# å¤šçº¿ç¨‹ç½‘ç»œæœåŠ¡# æœåŠ¡å™¨ç«¯from socket import socket, SOCK_STREAM, AF_INETfrom base64 import b64encodefrom json import dumpsfrom threading import Threaddef main(): # è‡ªå®šä¹‰çº¿ç¨‹ç±» class FileTransferHandler(Thread): def __init__(self, cclient): super().__init__() self.cclient = cclient def run(self): my_dict = &#123;&#125; my_dict[&#x27;filename&#x27;] = &#x27;guido.jpg&#x27; # JSONæ˜¯çº¯æ–‡æœ¬ä¸èƒ½æºå¸¦äºŒè¿›åˆ¶æ•°æ® # æ‰€ä»¥å›¾ç‰‡çš„äºŒè¿›åˆ¶æ•°æ®è¦å¤„ç†æˆbase64ç¼–ç  my_dict[&#x27;filedata&#x27;] = data # é€šè¿‡dumpså‡½æ•°å°†å­—å…¸å¤„ç†æˆJSONå­—ç¬¦ä¸² json_str = dumps(my_dict) # å‘é€JSONå­—ç¬¦ä¸² self.cclient.send(json_str.encode(&#x27;utf-8&#x27;)) self.cclient.close() # 1.åˆ›å»ºå¥—æ¥å­—å¯¹è±¡å¹¶æŒ‡å®šä½¿ç”¨å“ªç§ä¼ è¾“æœåŠ¡ server = socket() # 2.ç»‘å®šIPåœ°å€å’Œç«¯å£(åŒºåˆ†ä¸åŒçš„æœåŠ¡) server.bind((&#x27;192.168.1.2&#x27;, 5566)) # 3.å¼€å¯ç›‘å¬ - ç›‘å¬å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ server.listen(512) print(&#x27;æœåŠ¡å™¨å¯åŠ¨å¼€å§‹ç›‘å¬...&#x27;) with open(&#x27;guido.jpg&#x27;, &#x27;rb&#x27;) as f: # å°†äºŒè¿›åˆ¶æ•°æ®å¤„ç†æˆbase64å†è§£ç æˆå­—ç¬¦ä¸² data = b64encode(f.read()).decode(&#x27;utf-8&#x27;) while True: client, addr = server.accept() # å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ FileTransferHandler(client).start()if __name__ == &#x27;__main__&#x27;: main()# å®¢æˆ·ç«¯from socket import socketfrom json import loadsfrom base64 import b64decodedef main(): client = socket() client.connect((&#x27;192.168.1.2&#x27;, 5566)) # å®šä¹‰ä¸€ä¸ªä¿å­˜äºŒè¿›åˆ¶æ•°æ®çš„å¯¹è±¡ in_data = bytes() # ç”±äºä¸çŸ¥é“æœåŠ¡å™¨å‘é€çš„æ•°æ®æœ‰å¤šå¤§æ¯æ¬¡æ¥æ”¶1024å­—èŠ‚ data = client.recv(1024) while data: # å°†æ”¶åˆ°çš„æ•°æ®æ‹¼æ¥èµ·æ¥ in_data += data data = client.recv(1024) # å°†æ”¶åˆ°çš„äºŒè¿›åˆ¶æ•°æ®è§£ç æˆJSONå­—ç¬¦ä¸²å¹¶è½¬æ¢æˆå­—å…¸ # loadså‡½æ•°çš„ä½œç”¨å°±æ˜¯å°†JSONå­—ç¬¦ä¸²è½¬æˆå­—å…¸å¯¹è±¡ my_dict = loads(in_data.decode(&#x27;utf-8&#x27;)) filename = my_dict[&#x27;filename&#x27;] filedata = my_dict[&#x27;filedata&#x27;].encode(&#x27;utf-8&#x27;) with open(&#x27;/Users/Hao/&#x27; + filename, &#x27;wb&#x27;) as f: # å°†base64æ ¼å¼çš„æ•°æ®è§£ç æˆäºŒè¿›åˆ¶æ•°æ®å¹¶å†™å…¥æ–‡ä»¶ f.write(b64decode(filedata)) print(&#x27;å›¾ç‰‡å·²ä¿å­˜.&#x27;)if __name__ == &#x27;__main__&#x27;: main() ç¬¬åäº”å¤©-å›¾åƒå’ŒåŠå…¬æ–‡æ¡£å¤„ç† å›¾åƒ 12345678910111213141516171819202122232425262728293031323334353637383940&gt;&gt;&gt; from PIL import Image&gt;&gt;&gt;&gt;&gt;&gt; image = Image.open(&#x27;./res/guido.jpg&#x27;)&gt;&gt;&gt; image.format, image.size, image.mode(&#x27;JPEG&#x27;, (500, 750), &#x27;RGB&#x27;)&gt;&gt;&gt; image.show()# è£å‰ªå›¾åƒ&gt;&gt;&gt; image = Image.open(&#x27;./res/guido.jpg&#x27;)&gt;&gt;&gt; rect = 80, 20, 310, 360&gt;&gt;&gt; image.crop(rect).show()# ç•¥ç¼©å›¾&gt;&gt;&gt; image = Image.open(&#x27;./res/guido.jpg&#x27;)&gt;&gt;&gt; size = 128, 128&gt;&gt;&gt; image.thumbnail(size)&gt;&gt;&gt; image.show()# ç¼©æ”¾ç²˜è´´å›¾åƒ&gt;&gt;&gt; image1 = Image.open(&#x27;./res/luohao.png&#x27;)&gt;&gt;&gt; image2 = Image.open(&#x27;./res/guido.jpg&#x27;)&gt;&gt;&gt; rect = 80, 20, 310, 360&gt;&gt;&gt; guido_head = image2.crop(rect)&gt;&gt;&gt; width, height = guido_head.size&gt;&gt;&gt; image1.paste(guido_head.resize((int(width / 1.5), int(height / 1.5))), (172, 40))# æ—‹è½¬å’Œåè½¬&gt;&gt;&gt; image = Image.open(&#x27;./res/guido.png&#x27;)&gt;&gt;&gt; image.rotate(180).show()&gt;&gt;&gt; image.transpose(Image.FLIP_LEFT_RIGHT).show()# æ“ä½œåƒç´ &gt;&gt;&gt; image = Image.open(&#x27;./res/guido.jpg&#x27;)&gt;&gt;&gt; for x in range(80, 310):... for y in range(20, 360):... image.putpixel((x, y), (128, 128, 128))... &gt;&gt;&gt; image.show()# æ»¤é•œ&gt;&gt;&gt; from PIL import Image, ImageFilter&gt;&gt;&gt;&gt;&gt;&gt; image = Image.open(&#x27;./res/guido.jpg&#x27;)&gt;&gt;&gt; image.filter(ImageFilter.CONTOUR).show() Excel Word Bç«™è§†é¢‘æ€»ç»“ å…ƒç±»ç¼–ç¨‹ å…ƒç±»:åˆ›å»ºç±»çš„ç±» 1.åŠ¨æ€å±æ€§ 12345678910#get@propertyä¿®é¥°#set@aaa.setter#æŸ¥æ‰¾ä¸åˆ°è¿›å…¥__getattr__#å…ˆè¿›å…¥è¿™ä¸ª__getattribute__getattr(ç±»,å±æ€§)==ç±».å±æ€§ 2.å±æ€§æè¿°ç¬¦ 1234567891011121314151617# æ•°æ®æè¿°ç¬¦class IntField: def __get__( self, instanceï¼Œowner): return self.value def __set__(self, instance, value): if not isinstance(value, numbers.Integral): raise ValueError( &quot;int value need&quot;) if value &lt; 0: raise ValueError( &quot;positive value need&quot;) self.value = value def __delete__(self, instance): passclass User: # è‡ªå®šä¹‰ç±»å‹æ£€æµ‹ age = IntField() 3.ç±»å±æ€§å–å€¼è¿‡ç¨‹ å¦‚æœuseræ˜¯æŸä¸ªç±»çš„å®ä¾‹ï¼Œé‚£ä¹ˆuser.ageï¼ˆä»¥åŠç­‰ä»·çš„getattr(user, â€˜ageâ€™))é¦–å…ˆè°ƒç”¨__getattribute__ã€‚å¦‚æœç±»å®šä¹‰äº†_getattr_æ–¹æ³•ï¼Œ é‚£ä¹ˆåœ¨_getattribute__æŠ›å‡º AttributeErrorçš„æ—¶å€™å°±ä¼šè°ƒç”¨åˆ°_getattr_,è€Œå¯¹äºæè¿°ç¬¦(get)çš„è°ƒç”¨ï¼Œåˆ™æ˜¯å‘ç”Ÿåœ¨__getattribute__å†…éƒ¨çš„ã€‚ user = User()ï¼Œé‚£ä¹ˆuser.ageé¡ºåºå¦‚ä¸‹: (1) å¦‚æœ&quot;ageâ€æ˜¯å‡ºç°åœ¨useræˆ–å…¶åŸºç±»çš„__dict__ä¸­ï¼Œä¸”ageæ˜¯data descriptorï¼Œé‚£ä¹ˆè°ƒç”¨å…¶__get__æ–¹æ³• ,å¦åˆ™ (2) å¦‚æœ&quot;age&quot;å‡ºç°åœ¨objçš„__dict__ä¸­ï¼Œé‚£ä¹ˆç›´æ¥è¿”å› obj.dict[ â€˜ageâ€™]ï¼Œå¦åˆ™ (3) å¦‚æœ&quot;age&quot;å‡ºç°åœ¨Useræˆ–å…¶åŸºç±»çš„__dict__ä¸­ (3.1) å¦‚æœageæ˜¯non-data descriptorï¼Œé‚£ä¹ˆè°ƒç”¨å…¶__get__æ–¹æ³•ï¼Œå¦åˆ™ (3.2) è¿”å›__dict__[ â€˜ageâ€™] (4) å¦‚æœUseræœ‰__getattr__æ–¹æ³•ï¼Œè°ƒç”¨__getattr__æ–¹æ³•ï¼Œå¦åˆ™ (5) æŠ›å‡ºAttributeError 4.__new__å’Œ__init__åŒºåˆ« newä¼ çš„ç±»æœ¬èº« initä¼ çš„å¯¹è±¡å®ä¾‹ å…ˆè¿›newåè¿›init newä¸è¿”å›å¯¹è±¡,ä¸ä¼šè¿›init 5.typeåŠ¨æ€åˆ›å»ºç±» type(â€œç±»åâ€,(çˆ¶ç±»),{å±æ€§,å‡½æ•°}) æ§åˆ¶ç±»çš„åˆ›å»ºè¿‡ç¨‹ class user(metaclass=è‡ªå®šä¹‰å…ƒç±») å…ƒç±»ç¼–ç¨‹-&gt;å°è£… 6.å¯è¿­ä»£,è¿­ä»£å™¨,ç”Ÿæˆå™¨ è¿­ä»£å™¨å’Œè¿­ä»£åºåˆ—åˆ†ç¦» iter å¯è¿­ä»£ next è¿­ä»£å™¨ 1234567891011121314151617class company(object): def _init_(self, employee_list): self.employee = employee_list def _iter_( self): return MyIterator( self.employee)class MyIterator(Iterator ) : def _init_(self, employee_list): self.iter_list = employee_listself.index = 0 def inext_(self): #çœŸæ­£è¿”å›è¿­ä»£å€¼çš„é€»è¾‘ try: word = self.iter_list[ self.index] except IndexError: raise stopIteration self.index +=1 return word ç”Ÿæˆå™¨ 1234567891011121314def gen_fib(index): n,a,b = 0,0,1 while n&lt;index: yie1d b a,b = b,a+b n += 1for data in gen_fib(10): print (data)IPyGenObjectgi_framegi_codeä¼šä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œçš„ä½ç½®å’Œä»£ç  å¤§æ–‡ä»¶è¯»å– 12345678910111213141516def myreadlines(f, newline) :buf = &quot;&quot;while True: while newline in buf: pos = buf.index( newline) yield buf[:pos] buf = buf[pos + len(newline) : ] chunk = f.read(4096*10) if not chunk : # æ–‡ä»¶ç»“å°¾ yield buf break buf += chunkwith open(&quot;input.txt&quot; ) as f: for line in myreadlines(fï¼Œ&quot;&#123;&quot;): print (line) 7.socketç¼–ç¨‹ è§ç½‘ç»œç¼–ç¨‹ 8.å¤šçº¿ç¨‹ 1.GIL å…¨å±€è§£é‡Šå™¨é” pythonä¸­ä¸€ä¸ªçº¿ç¨‹å¯¹åº”cè¯­è¨€çš„ä¸€ä¸ªçº¿ç¨‹ gilä½¿å¾—åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿è¡Œåœ¨ä¸€ä¸ªcpuä¸Šè¿è¡Œå­—èŠ‚ç  ä¸èƒ½æŠŠå¤šä¸ªçº¿ç¨‹æ˜ å°„åˆ°å¤šä¸ªcpuä¸Š gilä¼šæ ¹æ®æ‰§è¡Œçš„å­—èŠ‚ç è¡Œæ•°åŠæ—¶é—´ç‰‡é‡Šæ”¾gil é‡è§ioæ“ä½œä¹Ÿä¼šä¸»åŠ¨é‡Šæ”¾(é€‚åˆioé¢‘ç¹) 2.çº¿ç¨‹åŒæ­¥,é€šä¿¡ å¤šçº¿ç¨‹å®ç° ä½¿ç”¨çº¿ç¨‹ä¼ é€’å‡½æ•° ç»§æ‰¿å¤šçº¿ç¨‹ç±»,å®ç°run çº¿ç¨‹é€šä¿¡ å…±äº«å˜é‡:ä¸å¥½ Queue:è¿˜æœ‰å…¶ä»–çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„ çº¿ç¨‹åŒæ­¥ Lock,RLock Lock:è·å–ä¸¤æ¬¡å°±ä¼šæ­»é” RLock:å…è®¸å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¤šæ¬¡acquire,ä½†æ˜¯releaseè¦ä¸€æ ·çš„æ•°é‡ condition:wait()å’Œnotify() ç­‰å¾…å’Œå”¤é†’ å…ˆç­‰å¾…æ‰èƒ½å”¤é†’ æŠŠwaiterçš„é”æ”¾å…¥ä¸€ä¸ªåŒç«¯é˜Ÿåˆ— notifyæŠŠé˜Ÿåˆ—å¼¹ä¸€ä¸ªå‡ºæ¥é‡Šæ”¾ with condition å°±æ˜¯è·å–é”é‡Šæ”¾é”(é»˜è®¤RLock) withä¹‹åæ‰èƒ½waitå’Œnotify,waitæŠŠconditionçš„é”é‡Šæ”¾æ‰ conâ€™t wait on a un-acquire lock Semaphore:ç”¨äºæ§åˆ¶è¿›å…¥æ•°é‡çš„é” threading.Semaphore(3) 3.çº¿ç¨‹æ± &amp;è¿›ç¨‹æ±  from concurrent import futures 12345678910111213141516171819202122232425262728executor = ThreadPoo1Executor(max_workers=1)#é€šè¿‡submitå‡½æ•°æäº¤æ‰§è¡Œçš„å‡½æ•°åˆ°çº¿ç¨‹æ± ä¸­,submitæ˜¯ç«‹å³è¿”å›task1 = executor. submit(get_htm1,(3))task2 = executor. submit(get_htm1,(2))# doneç”¨äºåˆ¤æ–­æ˜¯å¦å®Œæˆtask1.done()# resultè·å–å‡½æ•°è¿”å›ç»“æœtask1.result()#è¦è·å–å·²ç»æˆåŠŸçš„taskçš„è¿”å›urls = [3,2,4]all_task = [executor. submit(get_html,(url)) for url in urls]# yieldå·²ç»å®Œæˆçš„çº¿ç¨‹for future in as_completed(all_task): data = future.result() print( &quot;get ipage success&quot;.format(data))#é€šè¿‡executorè·å–å·²ç»å®Œæˆçš„taskè¿”å›å€¼,è¿”å›é¡ºåºä¸€è‡´for data in executor.map(get_html, urls): print( &quot;get &#123;fpage&quot;.format(data))# é˜»å¡ä¸»çº¿ç¨‹,ç­‰å…¨éƒ¨è¿˜æ˜¯ç­‰ä¸€ä¸ªwait() è¿›ç¨‹é€‚åˆè®¡ç®—å¯†é›† çº¿ç¨‹é€‚åˆioå¯†é›† çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹å„æœ‰æ•°æ® å­è¿›ç¨‹ä¼šæŠŠåˆ›å»ºè¿›ç¨‹ä¸‹é¢çš„ä»£ç å•ç‹¬è¿è¡Œä¸€é ProcessPoolExecutorç”¨çš„multiprocessing ä¸èƒ½ç”¨queue.Queue ä¸èƒ½ç”¨å…±äº«å˜é‡ from queue import Queue from multiprocessing import Queue from multiprocessing.Manager import Queue #Manager æœ‰å¾ˆå¤šæ•°æ®ç»“æ„ pipeåªèƒ½ç”¨äºä¸¤ä¸ªè¿›ç¨‹ æ€§èƒ½é«˜äºQueue 9.IOå¤ç”¨ å¹¶å‘ å¹¶å‘æ˜¯æŒ‡ä¸€ä¸ªæ—¶é—´æ®µå†…æœ‰å‡ ä¸ªç¨‹åºåœ¨åŒä¸€ä¸ªcpuè¿è¡Œï¼Œä½†æ˜¯ä»»æ„æ—¶åˆ»åªæœ‰ä¸€ä¸ªç¨‹åºåœ¨cpuä¸Šè¿è¡Œ å¹¶è¡Œ å¹¶è¡Œæ˜¯æŒ‡ä»»æ„æ—¶åˆ»ç‚¹ä¸Šï¼Œæœ‰å¤šä¸ªç¨‹åºåŒæ—¶è¿è¡Œåœ¨å¤šä¸ªcpu åŒæ­¥ åŒæ­¥æ˜¯æŒ‡ä»£ç è°ƒç”¨IOæ“ä½œæ—¶å¿…é¡»ç­‰å¾…IOæ“ä½œå®Œæˆæ‰è¿” å›çš„è°ƒç”¨æ–¹å¼ã€‚ å¼‚æ­¥ å¼‚æ­¥æ˜¯æŒ‡ä»£ç è°ƒç”¨IOæ“ä½œæ—¶ï¼Œä¸å¿…ç­‰IOæ“ä½œå®Œæˆå°±è¿”å›çš„è°ƒç”¨æ–¹å¼ã€‚ é˜»å¡ é˜»å¡æ˜¯æŒ‡è°ƒç”¨å‡½æ•°æ—¶å€™å½“å‰çº¿ç¨‹è¢«æŒ‚èµ·ã€‚ éé˜»å¡ éé˜»å¡æ˜¯æŒ‡è°ƒç”¨å‡½æ•°æ—¶å€™å½“å‰çº¿ç¨‹ä¸ä¼šè¢«æŒ‚èµ·ï¼Œè€Œæ˜¯ç«‹å³è¿”å›ã€‚ 10.å›è°ƒåç¨‹ 11.asynch await 12.äº‹ä»¶å¾ªç¯","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Pythonå­¦ä¹ ç¬”è®°","slug":"Pythonå­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/tags/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"LeetCode75","slug":"ç®—æ³•-LeetCode75","date":"2023-02-25T02:15:22.077Z","updated":"2023-11-26T05:21:12.210Z","comments":true,"path":"2023/02/25/ç®—æ³•-LeetCode75/","link":"","permalink":"https://gladdduck.github.io/2023/02/25/%E7%AE%97%E6%B3%95-LeetCode75/","excerpt":"","text":"LeetCode75å­¦ä¹ è®¡åˆ’ ç¬¬ä¸€å¤© 1480.ä¸€ç»´æ•°ç»„çš„åŠ¨æ€å’Œ æ€è·¯:å‰ç¼€å’Œ 12345678# pythonçš„å†…ç½®æ•°æ®æ–¹æ³•# https://docs.python.org/3/library/itertools.html# accumulate([1,2,3,4,5]) --&gt; 1 3 6 10 15class Solution: def runningSum(self, nums: List[int]) -&gt; List[int]: return list(accumulate(nums)) 724.å¯»æ‰¾æ•°ç»„çš„ä¸­å¿ƒä¸‹æ ‡ æ€è·¯: å…ˆæ±‚å‰ç¼€å’Œ,ç„¶åéå†ä¸‹æ ‡,åˆ©ç”¨å‰ç¼€å’Œè®¡ç®—ä¸‹æ ‡ä¸¤è¾¹çš„å’Œ,å·¦å³ä¸¤ç«¯çš„ä½ç½®éœ€è¦åˆ¤æ–­ä¸€ä¸‹ 1234567891011121314class Solution: def pivotIndex(self, nums: List[int]) -&gt; int: pre_sum=list(accumulate(nums)) length=len(nums) if pre_sum[length-1]-pre_sum[0]==0: return 0 for index in range(1,length-1): if pre_sum[index-1]==pre_sum[length-1]-pre_sum[index]: return index # è¿”å›æœ€å·¦è¾¹ä¸‹æ ‡,é˜²æ­¢æœ‰x,x,x,x,..0,0,0,0çš„æƒ…å†µ if pre_sum[length-2]==0: return length-1 return -1 ç¬¬äºŒå¤© 205. åŒæ„å­—ç¬¦ä¸² æ€è·¯:æ¯ä¸ªå­—ç¬¦ä¸²å¯¹åº”ä½ç½®çš„å­—æ¯æ˜¯ä¸€ä¸€å¯¹åº”çš„,ç”¨å­—å…¸. ä¸¤ä¸ªæ–¹å‘,ä¸€ä¸ªæ˜¯så¯¹tçš„å­—æ¯æ˜¯ä¸€ä¸€å¯¹åº”,ä¸€ä¸ªæ˜¯tå¯¹sçš„å­—æ¯æ˜¯ä¸€ä¸€å¯¹åº” 1234567891011121314151617181920212223242526272829class Solution: def isIsomorphic1(self, s: str, t: str) -&gt; bool: dic=defaultdict(str) for index,item in enumerate(s): # æ£€æŸ¥så¯¹t if item not in dic: # æ£€æ“¦tå¯¹s if t[index] not in dic.values(): dic[item]=t[index] else: return False else: if dic[item]!=t[index]: return False return True def isIsomorphic(self, s: str, t: str) -&gt; bool: def check(s,t): dic=defaultdict(str) for index,item in enumerate(s): if item not in dic: dic[item]=t[index] else: if dic[item]!=t[index]: return False return True return check(s,t) and check(t,s) 392. åˆ¤æ–­å­åºåˆ— æ€è·¯:åˆ¤æ–­å­åºåˆ—,ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸åŒä½ç½®çš„æ¯”è¾ƒ,åŒæŒ‡é’ˆ,abæŒ‡é’ˆ,å¦‚æœå¯¹åº”å­—ç¬¦ä¸€æ ·,éƒ½å‰è¿›,å¦‚æœä¸ä¸€æ ·,æŒ‡å‘æ¯å­—ç¬¦ä¸²çš„å‰è¿› 1234567891011class Solution: def isSubsequence(self, s: str, t: str) -&gt; bool: length=len(s) if length==0:return True index=0 for item in t: if item==s[index]: index+=1 if index==length: return True return False 332å‘¨èµ› 6355. ç»Ÿè®¡å…¬å¹³æ•°å¯¹çš„æ•°ç›® æ€è·¯:å¯¹æ•°ç»„æ’åº,å¯¹æ¯ä¸€ä¸ªæ•°,ç”¨äºŒåˆ†æ‰¾åˆ°å¤§å°åœ¨lowerå’Œupperä¹‹é—´çš„ä¸‹æ ‡,å¦‚æœè¿™ä¸ªæ•°ä¹Ÿåœ¨ä¸‹æ ‡ä¸­å°±-1,æœ€åç»“æœé™¤2,(i,j)(j,i)éƒ½ç®—äº† bilibili:ä¸¤ä¸ªæ•°çš„å’Œ,æšä¸¾ä¸€ä¸ªæ•°,ç”¨å…¶ä»–æ–¹æ³•å¤„ç†å¦ä¸€ä¸ªæ•° 6356. å­å­—ç¬¦ä¸²å¼‚æˆ–æŸ¥è¯¢ æ€è·¯:å¯¹æ¯ä¸€ä¸ªæŸ¥è¯¢,a^b=c =&gt; a=c^b,ç„¶åæŠŠaè½¬æ¢æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²,å‰©ä¸‹çš„å°±æ˜¯åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾å­å­—ç¬¦ä¸²åœ¨èµ·å§‹ä½ç½® bilibili:é¢„å¤„ç†sä¸­çš„äºŒè¿›åˆ¶,æŠŠå­å­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—å­˜è¿›dict,ç›´æ¥æ‰¾a 6357. æœ€å°‘å¾—åˆ†å­åºåˆ— æ²¡åšå‡ºæ¥æ€è·¯:è®¡ç®—æœ€é•¿å…¬å…±å­åºåˆ—,ç»Ÿè®¡ä¸åœ¨æœ€é•¿å…¬å…±å­åºåˆ—ä¸­çš„ä¸‹æ ‡,å°±æ˜¯è¦åˆ é™¤çš„ä¸‹æ ‡(å¯èƒ½é”™åœ¨éœ€è¦æ‰¾åˆ°æœ€å·¦è¾¹çš„æœ€é•¿å­åºåˆ—) bilibili: 1.åˆ é™¤[left,right]ä¸­é—´çš„å‡ ä¸ªå’Œåˆ é™¤å…¨éƒ¨æ˜¯ä¸€æ ·çš„ 2.æšä¸¾s,æŠŠsä»ä¸­é—´åˆ’åˆ†,å‰é¢åŒ¹é…tçš„å‰éƒ¨åˆ†,åé¢åŒ¹é…tçš„åéƒ¨åˆ† 3.ä¸­é—´å°±æ˜¯å¯ä»¥åˆ æ‰çš„éƒ¨åˆ†,æ‰¾åˆ°æœ€å°çš„ 4.å®ç°çš„æ—¶å€™,å…ˆä»åå¾€å‰åŒ¹é…så’Œt(å…¨éƒ¨åŒ¹é…),ç„¶åä»å‰å¾€å,æ‰¾åˆ°ç›¸åº”çš„ç­”æ¡ˆ ç¬¬ä¸‰å¤© 21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ æ€è·¯:åŒæŒ‡é’ˆæ¯”è¾ƒäº¤æ›¿,é—®é¢˜å°±æ˜¯å¼€å¤´çš„ç»†èŠ‚,ä¸€ç§æ˜¯ç”¨ä¸€ä¸ªç©ºé“¾è¡¨å¤´,ä¸€ç§å°±æ˜¯å…ˆæ¯”è¾ƒabçš„å¤§å°ç›´æ¥èµ‹å€¼abçš„å¤´ 12345678910111213141516171819202122# Definition for singly-linked list.# class ListNode:# def __init__(self, val=0, next=None):# self.val = val# self.next = nextclass Solution: def mergeTwoLists(self, a: Optional[ListNode], b: Optional[ListNode]) -&gt; Optional[ListNode]: if not a:return b if not b:return a # ç©ºè¡¨å¤´ prehead=ListNode(0) pre=prehead while a and b: if a.val&gt;b.val: pre.next=b b=b.next else: pre.next=a a=a.next pre=pre.next pre.next=a if a else b return prehead.next 206. åè½¬é“¾è¡¨ æ€è·¯:åè½¬é“¾è¡¨éœ€è¦æ ‡è®°è¿ç»­çš„ä¸‰ä¸ªèŠ‚ç‚¹,a,b,c æŠŠbæŒ‡å‘a,ç„¶åa,b,cä¾æ¬¡å‘åç§»åŠ¨ä¸€ä¸ª,æ³¨æ„è¾¹ç•Œæƒ…å†µ 123456789101112131415161718192021# Definition for singly-linked list.# class ListNode:# def __init__(self, val=0, next=None):# self.val = val# self.next = nextclass Solution: def reverseList(self, a: Optional[ListNode]) -&gt; Optional[ListNode]: if not a:return a if not a.next:return a b=a.next c=a.next.next # è¿™ä¸ªåœ°æ–¹ä¸æ–­æ‰ä¼šæ­»å¾ªç¯ a.next=None while b: b.next=a if not c:break a=b b=c c=c.next return b ç¬¬å››å¤© 876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ æ€è·¯:æŠŠé“¾è¡¨å­˜æˆæ•°ç»„,æ‰¾æ•°ç»„é•¿åº¦ä¸€åŠçš„èŠ‚ç‚¹ 12345678class Solution: def middleNode(self, head: Optional[ListNode]) -&gt; Optional[ListNode]: nums=[] while head: nums.append(head) head=head.next length=len(nums) return nums[length//2] å…¶ä»–è§£æ³•:1.ç¬¬ä¸€æ¬¡è®¡ç®—é•¿åº¦,ç¬¬äºŒæ¬¡æ‰¾èŠ‚ç‚¹ 2.å¿«æ…¢æŒ‡é’ˆ 142. ç¯å½¢é“¾è¡¨ II è‡ªå·±é”™è¯¯æ€è·¯:å¿«æ…¢æŒ‡é’ˆ,åªèƒ½æ£€æŸ¥æ˜¯å¦æœ‰ç¯,æ‰¾ä¸åˆ°å…¥å£ æ€è·¯:1.å­—å…¸å­˜å·²ç»èµ°è¿‡çš„ 2.å¿«æ…¢æŒ‡é’ˆç»è¿‡æ•°å­¦æ¨å¯¼è®¡ç®— 12345678910class Solution: def detectCycle(self, head: Optional[ListNode]) -&gt; Optional[ListNode]: nums=dict() while head: if head in nums.keys(): return head else: nums[head]=1 head=head.next return head ç¬¬äº”å¤© 121. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº æ€è·¯:å¦‚æœä»Šå¤©å‡å»æ˜¨å¤©çš„åˆ©æ¶¦,åŠ ä¸Šä¹‹å‰çš„åˆ©æ¶¦å°äº0,è¯´æ˜ä»Šå¤©æ˜¯å·¨äºçš„,ä¸å¦‚ä¹‹å‰çš„ä¸ä¹°,ä¹°ä»Šå¤©çš„,å¦‚æœä»Šå¤©å‡å»æ˜¨å¤©çš„åˆ©æ¶¦,åŠ ä¸Šä¹‹å‰çš„åˆ©æ¶¦ä»ç„¶å¤§äº0,è®°å½•ä¸€ä¸‹,ç»§ç»­å¾€ååŠ ,è¯´ä¸å®šä¼šæ¶¨ 1234567891011class Solution: def maxProfit(self, prices: List[int]) -&gt; int: ans=0 profit=0 for index in range(1,len(prices)): if prices[index]-prices[index-1]+profit&lt;0: profit=0 else: profit+=prices[index]-prices[index-1] ans=max(ans,profit) return ans 409. æœ€é•¿å›æ–‡ä¸² æ€è·¯:ç»Ÿè®¡å­—ç¬¦çš„æ•°é‡,æ³¨æ„åŠ ä¸Šä¸€ä¸ªå¥‡æ•°å°±è¡Œ 12345678910111213class Solution: def longestPalindrome(self, s: str) -&gt; int: m=defaultdict(int) for item in s: m[item]+=1 ans=0 flag=0 for k,v in m.items(): if v&amp;1: flag=1 v-=1 ans+=v return ans+flag ç¬¬å…­å¤© 589. N å‰æ ‘çš„å‰åºéå† æ€è·¯:äºŒå‰æ ‘çš„æ·±æœ,å˜æˆäº†å¤šå‰æ ‘çš„æ·±æœ 1234567891011class Solution: def preorder(self, a: &#x27;Node&#x27;) -&gt; List[int]: ans=[] def dfs(root): if not root:return ans ans.append(root.val) for chi in root.children: dfs(chi) dfs(a) return ans 102. äºŒå‰æ ‘çš„å±‚åºéå† æ€è·¯:å¹¿æœ,ç”¨ä¸€ä¸ªé¢å¤–çš„å±‚æ•°å˜é‡æ ‡è®°å½“å‰èŠ‚ç‚¹åœ¨ç¬¬å‡ å±‚ å…¶ä»–æ€è·¯:è®°å½•å½“å‰æ ˆå†…æœ‰å‡ ä¸ªèŠ‚ç‚¹,ç„¶åéå†å®Œè¿™äº›èŠ‚ç‚¹,è¿™äº›èŠ‚ç‚¹ä¹‹åçš„å°±æ˜¯ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹ 123456789101112131415161718192021class Solution: def levelOrder(self, root: Optional[TreeNode]) -&gt; List[List[int]]: ans=[] deq=[] if not root:return [] deq.insert(0,(root,0)) last=0 curlayer=[] while len(deq): (temp,layer)=deq.pop() if layer!=last: ans.append(curlayer) last=layer curlayer=[] curlayer.append(temp.val) if temp.left: deq.insert(0,(temp.left,layer+1)) if temp.right: deq.insert(0,(temp.right,layer+1)) ans.append(curlayer) return ans ç¬¬ä¸ƒå¤© 704. äºŒåˆ†æŸ¥æ‰¾ æ€è·¯:æ­£å¸¸äºŒåˆ†,rightè¦åˆ°èƒ½éå†åˆ°çš„è¾¹ç•Œ äºŒåˆ†çš„ç»†èŠ‚&amp;è¾¹ç•Œ 12345678910111213class Solution: def search(self, nums: List[int], target: int) -&gt; int: left,right=0,len(nums)-1 while left&lt;=right: mid=(left+right)&gt;&gt;1 if nums[mid]&lt;target: left=mid+1 elif nums[mid]&gt;target: right=mid-1 else: return mid return -1 if nums[mid]!=target else mid 278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ æ€è·¯:äºŒåˆ†æŸ¥æ‰¾çš„å˜æ¢ç‰ˆ,åŒºåˆ«åœ¨äºè¦è®°å½•midé‡,çº¯äºŒåˆ†æ˜¯æ‰¾åˆ°midç›´æ¥è¿”å›,è¿™ä¸ªæ‰¾åˆ°çš„å¯èƒ½ä¸æ˜¯éœ€è¦çš„ 123456789101112class Solution: def firstBadVersion(self, n: int) -&gt; int: left,right=1,n ans=1 while left&lt;=right: mid=(left+right)&gt;&gt;1 if isBadVersion(mid): right=mid-1 ans=mid else: left=mid+1 return ans ç¬¬å…«å¤© 98. éªŒè¯äºŒå‰æœç´¢æ ‘ é”™è¯¯æ€è·¯:ä¸èƒ½åˆ¤æ–­å½“å‰èŠ‚ç‚¹ä¹‹å,ç„¶åå†å»åˆ†åˆ«åˆ¤æ–­å·¦å³å­æ ‘ æ­£ç¡®Ã—æ€è·¯: æ¯æ£µå·¦å³å­æ ‘èŠ‚ç‚¹çš„å¤§å°èŒƒå›´åº”è¯¥éƒ½æ˜¯low-up,åˆå§‹low=-inf,up=inf,å·¦å­æ ‘çš„èŒƒå›´æ˜¯(low,root.val) å³å­æ ‘æ˜¯(root.val,up) å®˜æ–¹é¢˜è§£ä¹Ÿæ˜¯é”™çš„ å…¶ä»–:äºŒå‰æœç´ æ ‘ä¸­åºéå†ä¸€å®šæ˜¯å‡åºçš„ æ ‘çš„å‡ ç§éå† 123456789101112class Solution: def firstBadVersion(self, n: int) -&gt; int: left,right=1,n ans=1 while left&lt;=right: mid=(left+right)&gt;&gt;1 if isBadVersion(mid): right=mid-1 ans=mid else: left=mid+1 return ans 235. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ æ€è·¯:1.å¯»æ‰¾ç¥–å…ˆè·¯å¾„,æ‰¾åˆ°ç¬¬ä¸€ä¸ªä¸åŒçš„ä½ç½® 2.ä¸€æ¬¡éå†,å¦‚æœéƒ½å°å°±éƒ½æ‰¾å·¦è¾¹,å¦‚æœéƒ½å¤§å°±éƒ½æ‰¾å³è¾¹,å¦‚æœæœ‰å°æœ‰å¤§å°±æ‰¾åˆ°äº†åˆ†ç•Œç‚¹ 123456789class Solution: def lowestCommonAncestor(self, r: &#x27;TreeNode&#x27;, p: &#x27;TreeNode&#x27;, q: &#x27;TreeNode&#x27;) -&gt; &#x27;TreeNode&#x27;: while True: if r.val&gt;p.val and r.val&gt;q.val: r=r.left elif r.val&lt;p.val and r.val &lt; q.val: r=r.right else: return r ç¬¬ä¹å¤© 733. å›¾åƒæ¸²æŸ“ æ€è·¯:å¹¿æœ/æ·±æœæ‰¾åŒé¢œè‰²çš„,ä¸Šä¸‹å·¦å³åˆ¤æ–­è¾¹ç•Œ,è®¿é—®æ•°ç»„ 1234567891011121314151617181920class Solution: def floodFill(self, image: List[List[int]], sr: int, sc: int, color: int) -&gt; List[List[int]]: n=len(image) m=len(image[0]) visited=[[0]*m for _ in range(n)] dq=deque() dq.append((sr,sc)) oldcolor=image[sr][sc] while dq: x,y=dq.popleft() image[x][y]=color visited[x][y]=1 for x_,y_ in [(0,1),(0,-1),(-1,0),(1,0)]: if x_+x&gt;=0 and x_+x&lt;n and y_+y&gt;=0 and y_+y&lt;m: if visited[x_+x][y_+y]: continue if image[x_+x][y_+y]==oldcolor: dq.append((x_+x,y_+y)) return image 200. å²›å±¿æ•°é‡ æ€è·¯:æ·±æœ/å¹¿æœ,ä»æŸç‚¹å¼€å§‹æŠŠè¿åœ¨ä¸€èµ·çš„éƒ½è®¿é—®ä¸€æ¬¡,è®°å½•ä¸€å…±ä»å‡ ä¸ªç‚¹å¼€å§‹,è¿™äº›ç‚¹éƒ½æ˜¯ä¸åŒçš„å²›å±¿ 12345678910111213141516171819202122class Solution: def numIslands(self, grid: List[List[str]]) -&gt; int: n=len(grid) m=len(grid[0]) visited=[[0 if grid[i][j]==&#x27;1&#x27; else 1 for j in range(m)] for i in range(n)] ans=0 for i in range(n): for j in range(m): if not visited[i][j]: ans+=1 dq=deque() dq.append((i,j)) while dq: x,y=dq.popleft() visited[x][y]=1 for x_,y_ in [(0,1),(0,-1),(-1,0),(1,0)]: if x_+x&gt;=0 and x_+x&lt;n and y_+y&gt;=0 and y_+y&lt;m: if not visited[x_+x][y_+y]: visited[x_+x][y_+y]=1 dq.append((x_+x,y_+y)) return ans 333å‘¨èµ› 6365. å°†æ•´æ•°å‡å°‘åˆ°é›¶éœ€è¦çš„æœ€å°‘æ“ä½œæ•° æ€è·¯1:åˆšå¼€å§‹ä»¥ä¸ºè¦è½¬æˆäºŒè¿›åˆ¶çš„01ä¼ ,çœ‹0å¤šè¿˜æ˜¯1å¤š,å¦‚æœ0å¤šç›´æ¥è¿”å›1çš„æ•°é‡,ä½†æ˜¯668é”™äº† æ€è·¯2:æ‰“è¡¨100000ä¹‹å†…2çš„æ¬¡æ–¹,ç„¶åäºŒåˆ†æŸ¥æ‰¾nåœ¨é‚£ä¸¤ä¸ªæ•°ä¸­é—´,æ‰¾è·ç¦»è¿‘çš„è¿™ä¸ªæ•°çš„æ’å€¼,ç„¶å+1é€’å½’ä¸‹å»,54-&gt;64-54=10-&gt;10-8=2-&gt;0 bilibili:æ‰¾åˆ°æœ€ä½ä¸ºçš„1,è€ƒè™‘è¿™ä¸ª1 æ˜¯ç›´æ¥å‡æ‰è¿˜æ˜¯åŠ ä¸ŠåŒä½ç½®çš„1 ,æšä¸¾è¿™ä¸¤ç§å¯èƒ½. åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯2çš„å¹‚:(x &amp; ( x-1 ))==0 æ‰¾åˆ°æœ€ä½ä½çš„1:lowbit: x &amp; -x â˜†6364. æ— å¹³æ–¹å­é›†è®¡æ•° æ²¡æ€è·¯:é¢˜å‹é‡ç¾åŒº,åº”è¯¥æ˜¯ç”¨dpåš,ä½†æ˜¯æ¯«æ— æ€è·¯ bilibili:å¯¹ä¸èµ·,ç­‰æˆ‘å­¦æœ‰æ‰€æˆå†æ¥çœ‹,ä»€ä¹ˆjbç©æ„é‚£ä¹ˆéš¾ 6363. æ‰¾å‡ºå¯¹åº” LCP çŸ©é˜µçš„å­—ç¬¦ä¸² æ²¡æ€è·¯ ç¬¬åå¤© 509. æ–æ³¢é‚£å¥‘æ•° æ€è·¯:. 1234# 1.è‡ªé¡¶å‘ä¸‹,è®°å¿†åŒ–æœç´¢# 2.è‡ªåº•å‘ä¸Š,dpæ•°ç»„# 3.ç”¨a,bä¸¤ä¸ªå˜é‡,ç©ºé—´å¤æ‚åº¦é™åˆ°O(1)# 4.çŸ©é˜µå¿«é€Ÿå¹‚,æ—¶é—´å¤æ‚åº¦é™åˆ°O(logn) 70. çˆ¬æ¥¼æ¢¯ æ€è·¯:. 1# æ–æ³¢é‚£å¥‘æ•°åˆ—æ¨¡æ¿é¢˜ ç¬¬åä¸€å¤© 746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ æ€è·¯:çˆ¬åˆ°ä»Šå¤©çš„è´¹ç”¨åªèƒ½æœ‰ä¸¤ä¸ªæ¥æº,å‰ä¸€ä¸ªå’Œå‰ä¸¤ä¸ª,ä½†æ˜¯é¡¶æ¥¼æ•°ç»„é‡Œæ²¡æœ‰,æ‰€ä»¥è¿½åŠ ä¸€ä¸ª0,ç¬¬ä¸€å±‚ç¬¬äºŒå±‚çš„è´¹ç”¨å°±æ˜¯æœ¬èº«,ç¬¬äºŒå±‚ä¸ºä»€ä¹ˆä¸æ˜¯min(ç¬¬ä¸€å±‚,ç¬¬äºŒå±‚)å‘¢,å› ä¸ºå¦‚æœæ˜¯ä»ç¬¬ä¸€å±‚ä¸Šåˆ°çš„ç¬¬äºŒå±‚,ç¬¬äºŒå±‚è¿˜è¦ç»§ç»­å‘ä¸Šä¸Š,é‚£ä¹ˆè¿˜å¾—åŠ ä¸Šç¬¬äºŒå±‚çš„è´¹ç”¨,å°±å˜æˆäº†(ç¬¬ä¸€å±‚+ç¬¬äºŒå±‚)çš„è´¹ç”¨äº† 1234567891011121314class Solution: def minCostClimbingStairs(self, cost: List[int]) -&gt; int: cost.append(0) n=len(cost) # dp=[99999]*(n) a=cost[0] b=cost[1] c=b for i in range(2,n): c=min(a,b)+cost[i] a,b=b,c # dp[i]=min(dp[i-1],dp[i-2])+cost[i] return c 62. ä¸åŒè·¯å¾„ æ€è·¯:æ·±æœå’Œå¹¿æœçš„å¤æ‚åº¦åº”è¯¥æ˜¯O(2n)O(2^n)O(2n),ä¼šè¶…æ—¶,è¿˜æ˜¯dp,å½“å‰ä½ç½®åªèƒ½ä»å·¦è¾¹æˆ–è€…ä¸Šè¾¹æ¥åˆ°,å°±æŠŠå·¦è¾¹å’Œä¸Šè¾¹çš„æ–¹æ¡ˆæ•°åŠ èµ·æ¥å°±è¡Œ,ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—çš„æ–¹æ¡ˆæ•°éƒ½æ˜¯1 1234567891011121314151617181920212223242526272829class Solution: def uniquePaths(self, m: int, n: int) -&gt; int: a=[1 for j in range(n) ] b=[1 for j in range(n) ] for i in range(1,m): for j in range(1,n): b[j]=a[j]+b[j-1] a=b[:] return b[-1] # dp=[[0 for j in range(n) ] for i in range(m)] # for i in range(m): # for j in range(n): # if i==0 or j==0: # dp[i][j]=1 # else: # dp[i][j]=dp[i][j-1]+dp[i-1][j] # return dp[m-1][n-1] # dq=deque([(0,0)]) # ans=0 # while dq: # x,y=dq.pop() # if x==m-1 and y==n-1: # ans+=1 # for x_,y_ in [(x+1,y),(x,y+1)]: # if x_&gt;=0 and x_&lt;m and y_&gt;=0 and y_&lt;n: # dq.append((x_,y_)) # return ans ç¬¬åäºŒå¤© 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ æ€è·¯:åŒæŒ‡é’ˆç»´æŠ¤é•¿åº¦ä¸ºç¬¬äºŒä¸ªå­—ç¬¦ä¸²çš„åŒºé—´,å¯¹åŒºé—´å†…çš„æ•°å­—ç»Ÿè®¡æ•°é‡,æ•°é‡ä¸€è‡´ç­”æ¡ˆåŠ 1,å³ç§»çš„æ—¶å€™,å³ä¾§å­—ç¬¦åŠ 1,å·¦ä¾§å­—ç¬¦å‡1 12345678910111213141516171819202122232425class Solution: def findAnagrams(self, s: str, p: str) -&gt; List[int]: def val(a,b): for i,j in zip(a,b): if i!=j: return False return True pnums=[0]*26 snums=[0]*26 constant=ord(&#x27;a&#x27;) for item in p: pnums[ord(item)-constant]+=1 left=right=0 lengths=len(s) lengthp=len(p) ans=[] while right&lt;lengths: snums[ord(s[right])-constant]+=1 if val(snums,pnums): ans.append(left) right+=1 if right&gt;=lengthp: snums[ord(s[left])-constant]-=1 left+=1 return ans 424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦ æ€è·¯:æ²¡æœ‰æ€è·¯,è€ƒè™‘åˆ°äº†åº”è¯¥æ˜¯ç”¨åŒæŒ‡é’ˆ é¢˜è§£:åŒæŒ‡é’ˆåŠ ä¸€ä¸ªmaxhistoryè®°å½•æœ€å¤šçš„ç›¸åŒå­—ç¬¦ä¸ªæ•°,å¦‚æœå½“å‰åŒºé—´é•¿åº¦å¤§äºäº†k+maxhistory,è¯´æ˜ä¸å¯èƒ½å˜æˆä¸€æ ·çš„,å·¦è¾¹å³ç§»1,å¦åˆ™è¯´æ˜å½“å‰åŒºé—´ä¸æ˜¯æœ€å¤§é•¿åº¦,è¿˜å¯å¢åŠ æ–°å…ƒç´  123456789101112131415161718192021222324class Solution: def characterReplacement(self, s: str, k: int) -&gt; int: constant=ord(&#x27;A&#x27;) length=len(s) # å·¦å³æŒ‡é’ˆ left=right=0 # ç”¨äºè®°å½•left-rightåŒºé—´æ¯ä¸ªå­—æ¯çš„ä¸ªæ•° nums=[0]*26 # ç”¨äºè®°å½•åŒºé—´å†…å‡ºç°çš„ æœ€å¤šçš„ç›¸åŒå­—ç¬¦çš„ä¸ªæ•° historymax=0 while right&lt;length: # æ–°åŠ çš„å­—ç¬¦ä¸ªæ•°åŠ 1 nums[ord(s[right])-constant]+=1 # æ›´æ–°ä¸€ä¸‹åŒºé—´å†…æœ€é•¿çš„å­—ç¬¦ä¸ªæ•° historymax=max(historymax,nums[ord(s[right])-constant]) # historymax+k æ˜¯ç›®å‰å¯ä»¥è¾¾åˆ°çš„æœ€é•¿é•¿åº¦,å·²ç»åŒ…å«äº†å³èŠ‚ç‚¹äº† # å°äºè¯´æ˜ç°åœ¨è¿™ä¸ªåŒºé—´é•¿åº¦è¿˜å°äºæœ€å¤§é•¿åº¦ # å¤§äºè¯´æ˜æŠŠå…¶å®ƒä¸æ˜¯æœ€å¤šå‡ºç°çš„å­—ç¬¦æ›¿æ¢ä»¥åï¼Œéƒ½ä¸èƒ½å¡«æ»¡è¿™ä¸ªæ»‘åŠ¨çš„çª—å£ï¼Œè¯´æ˜æ­¤æ—¶ k ä¸å¤Ÿç”¨ # è¿™ä¸ªæ—¶å€™é¡»è¦è€ƒè™‘å·¦è¾¹ç•Œå‘å³ç§»åŠ¨ if right-left+1&gt;historymax+k: nums[ord(s[left])-constant]-=1 left+=1 right+=1 return right-left ç¬¬åä¸‰å¤© 1. ä¸¤æ•°ä¹‹å’Œ æ€è·¯:æ•°ç»„æ’åº,ç„¶åå¯¹æ¯ä¸ªæ•°å­—,äºŒåˆ†æŸ¥æ‰¾targetå‡å»å¥¹çš„å€¼ é¢˜è§£:ç”¨å­—å…¸å­˜å‚¨æ¯ä¸ªtarget-numçš„å€¼,å¦‚æœå½“å‰æ•°å­—åœ¨å­—å…¸ä¸­å­˜åœ¨,æ‰¾åˆ°ç­”æ¡ˆ,å¦åˆ™æŠŠtargetå‡ä»–å­˜è¿›å» 123456789101112131415161718class Solution: def twoSum(self, nums: List[int], target: int) -&gt; List[int]: # nums=[(i,n) for i,n in enumerate(nums)] # nums=sorted(nums,key=lambda x:x[1]) # length=len(nums) # for i in range(length): # ttt=target-nums[i][1] # index=bisect_left(nums,ttt,key=lambda x:x[1]) # if index==i:continue # if index&lt;0 or index&gt;=length:continue # if nums[index][1]==ttt: # return [nums[i][0],nums[index][0]] hashtable = dict() for i, num in enumerate(nums): if target - num in hashtable: return [hashtable[target - num], i] hashtable[nums[i]] = i return [] 299. çŒœæ•°å­—æ¸¸æˆ æ€è·¯:Aæ•°å­—å¥½ç»Ÿè®¡,å¯¹äºBæ•°å­—,åˆ†åˆ«å­˜A,Bä¸­æ•°å­—å‡ºç°çš„ä¸ªæ•°,åŠ å…¥å¯¹ä»–ä»¬é‡æ–°æ’åº,ä¸€å®šæ˜¯åªèƒ½åŒ¹é…ä¸ªæ•°å°‘çš„,æ‰€ä»¥ç›´æ¥å–æ¯ä¸ªæ•°å­—äºŒè€…ä¸­çš„æœ€å°å€¼,æ±‚å’Œå°±æ˜¯B. 123456789101112131415class Solution: def getHint(self, secret: str, guess: str) -&gt; str: hasA=[0]*10 hasB=[0]*10 A=0 for i,j in zip(secret,guess): if i==j: A+=1 else: hasA[int(j)]+=1 hasB[int(i)]+=1 ans=sum([min(a,b) for a,b in zip(hasA,hasB)]) return f&#x27;&#123;A&#125;A&#123;ans&#125;B&#x27; ç¬¬åå››å¤© 844. æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸² æ€è·¯:å¿˜è®°ç”¨æ ˆäº†ï¼Œä»åå¾€å‰éå†æ•°ç»„ï¼Œcntè®°å½•å½“å‰#çš„æ•°é‡ï¼Œç„¶åè·³è¿‡cntä¸ªå­—æ¯ã€‚ é¢˜è§£:ç”¨æ ˆï¼Œé‡è§#é€€ä¸€ä¸ªå­—ç¬¦ 12345678910111213141516class Solution: def backspaceCompare(self, s: str, t: str) -&gt; bool: def check(a): length=len(a) ans=[] cnt=0 for i in range(length-1,-1,-1): if a[i]==&#x27;#&#x27;: cnt+=1 else: if cnt==0: ans.append(a[i]) else: cnt-=1 return ans return check(s)==check(t) 394. å­—ç¬¦ä¸²è§£ç  æ€è·¯:æ ˆæ“ä½œï¼Œä¸€ä¸ªæ•°ç»„å­˜æ•°å­—ï¼Œä¸€ä¸ªæ ˆç”¨æ¥å¼¹å­—ç¬¦ï¼Œé‡è§]ä¸€ç›´å¼¹ï¼Œç›´åˆ°å¼¹å‡º[ã€‚ç„¶åå¤åˆ¶æ•°å­—æ•°ç»„çš„æœ€åä¸€ä¸ªæ•°å­—ä¾¿ï¼Œåœ¨åŠ å…¥æ ˆä¸­ï¼Œæ•°å­—çš„å¤„ç†æœ‰ä¸€ç‚¹ç‚¹éº»çƒ¦ 12345678910111213141516171819202122232425262728class Solution: def decodeString(self, s: str) -&gt; str: stack=[] nums=[] length=len(s) i=0 while i&lt;length: if s[i]==&#x27;]&#x27;: temp=[] while stack[-1]!=&#x27;[&#x27;: temp.append(stack.pop()) stack.pop() temp=&quot;&quot;.join(temp[::-1]) stack.append(temp*nums[-1]) nums.pop() i+=1 elif s[i].isnumeric(): n=0 while i&lt;length and s[i].isnumeric(): n*=10 n+=int(s[i]) i+=1 nums.append(n) else: stack.append(s[i]) i+=1 return &quot;&quot;.join(stack) ç¬¬åäº”å¤© 1046. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ æ€è·¯:å¤§é¡¹å †ï¼Œä½†æ˜¯pythonçš„heapqåªèƒ½å®ç°å°é¡¹å †ï¼Œå¤§é¡¹å †çš„å®ç°è¦åŠ è´Ÿå· 123456789101112131415class Solution: def lastStoneWeight(self, x: List[int]) -&gt; int: x=list(map(lambda x:-x,x)) # è¿™ä¸€æ­¥çš„ä½œç”¨ä¸æ˜¯å¾ˆæ˜ç¡® # æ³¨æ„heapify(åŒ…æ‹¬heapqå°è£…çš„å…¶ä»–æ“ä½œ)éƒ½ä¸ä¼šæ›´æ”¹æ•°æ®ç»“æ„(ä»ä¸ºlist)ï¼Œåªä¼šä»¥å †çš„æ“ä½œè§„èŒƒå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚ # è™½ç„¶ç±»å‹ä»ä¸ºlistï¼Œä½†å…ƒç´ çš„é¡ºåºå·²ç»æ»¡è¶³äº†å †çš„è§„èŒƒï¼Œæ‰€ä»¥ä»çº¿æ€§çš„è§’åº¦çœ‹ç»“æœåˆ—è¡¨å¹¶éæ˜¯æœ‰åºçš„(æ˜¯[1, 3, 7, 9, 5]è€Œé[1, 3, 5, 7, 9]) heapq.heapify(x) while len(x)&gt;1: a=heapq.heappop(x) b=heapq.heappop(x) if a!=b: newstore=abs(max(a,b)-min(a,b)) heapq.heappush(x,-newstore) return -x[0] if len(x) else 0 692. å‰Kä¸ªé«˜é¢‘å•è¯ æ€è·¯:Counterç»Ÿè®¡å•è¯æ•°é‡ï¼Œç„¶åæŒ‰ç…§æ•°é‡é™åºï¼Œå­—å…¸åºå‡åºæ’åˆ—ï¼Œè¿”å›kä¸ª é¢˜è§£ï¼šä¼˜å…ˆé˜Ÿåˆ—ï¼Œå…ƒç»„ï¼ˆå•è¯ï¼Œè¯é¢‘ï¼‰ çŸ¥è¯†ç‚¹ï¼š1.Counterçš„most_common()åœ¨è®¡æ•°ç›¸åŒçš„æƒ…å†µä¸‹æ˜¯æŒ‰å‡ºç°é¡ºåºè¿”å› 2.pythonå¤šå…³é”®å­—æ’åºï¼š 1234arr=[(1,4,3),(1,3,3),(2,1,4),(3,5,1)]arr.sort(key=lambda s:(s[0],-s[1])) #ä¸¤ä¸ªå…³é”®å­—æ’åº,åœ¨éœ€è¦å€’åºæ’åˆ—çš„å…³é”®å­—å‰åŠ `-`å· 123456class Solution: def topKFrequent(self, words: List[str], k: int) -&gt; List[str]: c = Counter(words).items() c = sorted(c,key=lambda x:(-x[1],x[0])) return list(map(lambda x:x[0],c[:k])) # return sorted((cnt := Counter(words)).keys(), key=lambda key: (-cnt[key], key))[:k] æ€»ç»“","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"}]},{"title":"python100å¤©16-30","slug":"ç¬”è®°-python100å¤©16-30","date":"2023-02-18T08:22:29.557Z","updated":"2023-02-21T10:23:48.298Z","comments":true,"path":"2023/02/18/ç¬”è®°-python100å¤©16-30/","link":"","permalink":"https://gladdduck.github.io/2023/02/18/%E7%AC%94%E8%AE%B0-python100%E5%A4%A916-30/","excerpt":"","text":"12345678910111213141516171819202122# 01-15pythonåŸºç¡€# 16-20pythonè¿›é˜¶# 21-30å‰ç«¯æ¦‚è¿°# 31-35Linux# 36-40MySQL# 41-55Django# 56-60FaskAPI# 61-65çˆ¬è™«ä¸å¹¶å‘ç¼–ç¨‹# 66-80numpy&amp;pandas# 81-90æœºå™¨å­¦ä¹ &amp;pytorch# 91-100é¡¹ç›® Python100å¤©å­¦ä¹ 16-20 Pythonè¯­è¨€è¿›é˜¶ èµ„æ–™è¿æ¥ é‡è¦çŸ¥è¯†ç‚¹ 1.ç”Ÿæˆå¼,æ¨å¯¼å¼ 2.åµŒå¥—åˆ—è¡¨ 3.heapqæ¨¡å—(å †æ’åº) 1234567891011121314151617181920&quot;&quot;&quot;ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæœ€å¤§çš„æˆ–æœ€å°çš„Nä¸ªå…ƒç´ å †ç»“æ„(å¤§æ ¹å †/å°æ ¹å †)&quot;&quot;&quot;import heapqlist1 = [34, 25, 12, 99, 87, 63, 58, 78, 88, 92]list2 = [ &#123;&#x27;name&#x27;: &#x27;IBM&#x27;, &#x27;shares&#x27;: 100, &#x27;price&#x27;: 91.1&#125;, &#123;&#x27;name&#x27;: &#x27;AAPL&#x27;, &#x27;shares&#x27;: 50, &#x27;price&#x27;: 543.22&#125;, &#123;&#x27;name&#x27;: &#x27;FB&#x27;, &#x27;shares&#x27;: 200, &#x27;price&#x27;: 21.09&#125;, &#123;&#x27;name&#x27;: &#x27;HPQ&#x27;, &#x27;shares&#x27;: 35, &#x27;price&#x27;: 31.75&#125;, &#123;&#x27;name&#x27;: &#x27;YHOO&#x27;, &#x27;shares&#x27;: 45, &#x27;price&#x27;: 16.35&#125;, &#123;&#x27;name&#x27;: &#x27;ACME&#x27;, &#x27;shares&#x27;: 75, &#x27;price&#x27;: 115.65&#125;]print(heapq.nlargest(3, list1))print(heapq.nsmallest(3, list1))print(heapq.nlargest(2, list2, key=lambda x: x[&#x27;price&#x27;]))print(heapq.nlargest(2, list2, key=lambda x: x[&#x27;shares&#x27;])) 4.itertoolsæ¨¡å— 1234567891011121314&quot;&quot;&quot;è¿­ä»£å·¥å…·æ¨¡å—&quot;&quot;&quot;import itertools# äº§ç”ŸABCDçš„å…¨æ’åˆ—itertools.permutations(&#x27;ABCD&#x27;)# äº§ç”ŸABCDEçš„äº”é€‰ä¸‰ç»„åˆitertools.combinations(&#x27;ABCDE&#x27;, 3)# äº§ç”ŸABCDå’Œ123çš„ç¬›å¡å°”ç§¯itertools.product(&#x27;ABCD&#x27;, &#x27;123&#x27;)# äº§ç”ŸABCçš„æ— é™å¾ªç¯åºåˆ—itertools.cycle((&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;)) 5.collectionsæ¨¡å— namedtupleï¼šå‘½ä»¤å…ƒç»„ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»å·¥å‚ï¼Œæ¥å—ç±»å‹çš„åç§°å’Œå±æ€§åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªç±»ã€‚ dequeï¼šåŒç«¯é˜Ÿåˆ—ï¼Œæ˜¯åˆ—è¡¨çš„æ›¿ä»£å®ç°ã€‚Pythonä¸­çš„åˆ—è¡¨åº•å±‚æ˜¯åŸºäºæ•°ç»„æ¥å®ç°çš„ï¼Œè€Œdequeåº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œå› æ­¤å½“ä½ éœ€è¦åœ¨å¤´å°¾æ·»åŠ å’Œåˆ é™¤å…ƒç´ æ—¶ï¼Œdequeä¼šè¡¨ç°å‡ºæ›´å¥½çš„æ€§èƒ½ï¼Œæ¸è¿‘æ—¶é—´å¤æ‚åº¦ä¸ºO(1)O(1)O(1)ã€‚ Counterï¼šdictçš„å­ç±»ï¼Œé”®æ˜¯å…ƒç´ ï¼Œå€¼æ˜¯å…ƒç´ çš„è®¡æ•°ï¼Œå®ƒçš„most_common()æ–¹æ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬è·å–å‡ºç°é¢‘ç‡æœ€é«˜çš„å…ƒç´ ã€‚ OrderedDictï¼šdictçš„å­ç±»ï¼Œå®ƒè®°å½•äº†é”®å€¼å¯¹æ’å…¥çš„é¡ºåºï¼Œçœ‹èµ·æ¥æ—¢æœ‰å­—å…¸çš„è¡Œä¸ºï¼Œä¹Ÿæœ‰é“¾è¡¨çš„è¡Œä¸ºã€‚ defaultdictï¼šç±»ä¼¼äºå­—å…¸ç±»å‹ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡é»˜è®¤çš„å·¥å‚å‡½æ•°æ¥è·å¾—é”®å¯¹åº”çš„é»˜è®¤å€¼ï¼Œç›¸æ¯”å­—å…¸ä¸­çš„setdefault()æ–¹æ³•ï¼Œè¿™ç§åšæ³•æ›´åŠ é«˜æ•ˆã€‚ æ•°æ®ç»“æ„å’Œç®—æ³• é€‰æ‹©æ’åº 12345678910def select_sort(items, comp=lambda x, y: x &lt; y): &quot;&quot;&quot;ç®€å•é€‰æ‹©æ’åº&quot;&quot;&quot; items = items[:] for i in range(len(items) - 1): min_index = i for j in range(i + 1, len(items)): if comp(items[j], items[min_index]): min_index = j items[i], items[min_index] = items[min_index], items[i] return items å†’æ³¡æ’åº 123456789101112def bubble_sort(items, comp=lambda x, y: x &gt; y): &quot;&quot;&quot;å†’æ³¡æ’åº&quot;&quot;&quot; items = items[:] for i in range(len(items) - 1): swapped = False for j in range(len(items) - 1 - i): if comp(items[j], items[j + 1]): items[j], items[j + 1] = items[j + 1], items[j] swapped = True if not swapped: break return items å½’å¹¶æ’åº 12345678910111213141516171819202122232425262728def merge(items1, items2, comp=lambda x, y: x &lt; y): &quot;&quot;&quot;åˆå¹¶(å°†ä¸¤ä¸ªæœ‰åºçš„åˆ—è¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨)&quot;&quot;&quot; items = [] index1, index2 = 0, 0 while index1 &lt; len(items1) and index2 &lt; len(items2): if comp(items1[index1], items2[index2]): items.append(items1[index1]) index1 += 1 else: items.append(items2[index2]) index2 += 1 items += items1[index1:] items += items2[index2:] return itemsdef merge_sort(items, comp=lambda x, y: x &lt; y): return _merge_sort(list(items), comp)def _merge_sort(items, comp): &quot;&quot;&quot;å½’å¹¶æ’åº&quot;&quot;&quot; if len(items) &lt; 2: return items mid = len(items) // 2 left = _merge_sort(items[:mid], comp) right = _merge_sort(items[mid:], comp) return merge(left, right, comp) å¿«é€Ÿæ’åº 12345678910111213141516171819202122232425&quot;&quot;&quot;å¿«é€Ÿæ’åº - é€‰æ‹©æ¢è½´å¯¹å…ƒç´ è¿›è¡Œåˆ’åˆ†ï¼Œå·¦è¾¹éƒ½æ¯”æ¢è½´å°å³è¾¹éƒ½æ¯”æ¢è½´å¤§&quot;&quot;&quot;def quick_sort(items, comp=lambda x, y: x &lt;= y): items = list(items)[:] _quick_sort(items, 0, len(items) - 1, comp) return itemsdef _quick_sort(items, start, end, comp): if start &lt; end: pos = _partition(items, start, end, comp) _quick_sort(items, start, pos - 1, comp) _quick_sort(items, pos + 1, end, comp)def _partition(items, start, end, comp): pivot = items[end] i = start - 1 for j in range(start, end): if comp(items[j], pivot): i += 1 items[i], items[j] = items[j], items[i] items[i + 1], items[end] = items[end], items[i + 1] return i + 1 é€‰æ‹©æ’åº 1234567891011def select_sort(items, comp=lambda x, y: x &lt; y): &quot;&quot;&quot;ç®€å•é€‰æ‹©æ’åº&quot;&quot;&quot; items = items[:] for i in range(len(items) - 1): min_index = i for j in range(i + 1, len(items)): if comp(items[j], items[min_index]): min_index = j items[i], items[min_index] = items[min_index], items[i] return items äºŒåˆ†æŸ¥æ‰¾ 123456789101112def bin_search(items, key): &quot;&quot;&quot;æŠ˜åŠæŸ¥æ‰¾&quot;&quot;&quot; start, end = 0, len(items) - 1 while start &lt;= end: mid = (start + end) // 2 if key &gt; items[mid]: start = mid + 1 elif key &lt; items[mid]: end = mid - 1 else: return mid return -1 ç©·ä¸¾ è´ªå¿ƒ åŠ¨æ€è§„åˆ’ åˆ†æ²» å›æº¯ å‡½æ•°çš„ä½¿ç”¨æ–¹å¼ map``filter 123items1 = list(map(lambda x: x ** 2, filter(lambda x: x % 2, range(1, 10))))items2 = [x ** 2 for x in range(1, 10) if x % 2] ä½ç½®å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•° Local &gt;&gt;&gt; Embedded &gt;&gt;&gt; Global &gt;&gt;&gt; Built-in è£…é¥°å™¨ é¢å‘å¯¹è±¡ç›¸å…³çŸ¥è¯† å¯¼è‡´å¼•ç”¨è®¡æ•°+1çš„æƒ…å†µï¼š å¯¹è±¡è¢«åˆ›å»ºï¼Œä¾‹å¦‚a = 23 å¯¹è±¡è¢«å¼•ç”¨ï¼Œä¾‹å¦‚b = a å¯¹è±¡è¢«ä½œä¸ºå‚æ•°ï¼Œä¼ å…¥åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä¾‹å¦‚f(a) å¯¹è±¡ä½œä¸ºä¸€ä¸ªå…ƒç´ ï¼Œå­˜å‚¨åœ¨å®¹å™¨ä¸­ï¼Œä¾‹å¦‚list1 = [a, a] å¯¼è‡´å¼•ç”¨è®¡æ•°-1çš„æƒ…å†µï¼š å¯¹è±¡çš„åˆ«åè¢«æ˜¾å¼é”€æ¯ï¼Œä¾‹å¦‚del a å¯¹è±¡çš„åˆ«åè¢«èµ‹äºˆæ–°çš„å¯¹è±¡ï¼Œä¾‹å¦‚a = 24 ä¸€ä¸ªå¯¹è±¡ç¦»å¼€å®ƒçš„ä½œç”¨åŸŸï¼Œä¾‹å¦‚få‡½æ•°æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œfå‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼ˆå…¨å±€å˜é‡ä¸ä¼šï¼‰ å¯¹è±¡æ‰€åœ¨çš„å®¹å™¨è¢«é”€æ¯ï¼Œæˆ–ä»å®¹å™¨ä¸­åˆ é™¤å¯¹è±¡ å¼•ç”¨è®¡æ•°å¯èƒ½ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œè€Œå¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´å†…å­˜æ³„éœ²ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPythonä¸­å¼•å…¥äº†â€œæ ‡è®°-æ¸…é™¤â€å’Œâ€œåˆ†ä»£æ”¶é›†â€ã€‚åœ¨åˆ›å»ºä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¯¹è±¡è¢«æ”¾åœ¨ç¬¬ä¸€ä»£ä¸­ï¼Œå¦‚æœåœ¨ç¬¬ä¸€ä»£çš„åƒåœ¾æ£€æŸ¥ä¸­å¯¹è±¡å­˜æ´»äº†ä¸‹æ¥ï¼Œè¯¥å¯¹è±¡å°±ä¼šè¢«æ”¾åˆ°ç¬¬äºŒä»£ä¸­ï¼ŒåŒç†åœ¨ç¬¬äºŒä»£çš„åƒåœ¾æ£€æŸ¥ä¸­å¯¹è±¡å­˜æ´»ä¸‹æ¥ï¼Œè¯¥å¯¹è±¡å°±ä¼šè¢«æ”¾åˆ°ç¬¬ä¸‰ä»£ä¸­ã€‚ 1234567# å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´å†…å­˜æ³„éœ² - Pythoné™¤äº†å¼•ç”¨æŠ€æœ¯è¿˜å¼•å…¥äº†æ ‡è®°æ¸…ç†å’Œåˆ†ä»£å›æ”¶# åœ¨Python 3.6ä»¥å‰å¦‚æœé‡å†™__del__é­”æœ¯æ–¹æ³•ä¼šå¯¼è‡´å¾ªç¯å¼•ç”¨å¤„ç†å¤±æ•ˆ# å¦‚æœä¸æƒ³é€ æˆå¾ªç¯å¼•ç”¨å¯ä»¥ä½¿ç”¨å¼±å¼•ç”¨list1 = []list2 = [] list1.append(list2)list2.append(list1) ä»¥ä¸‹æƒ…å†µä¼šå¯¼è‡´åƒåœ¾å›æ”¶ï¼š è°ƒç”¨gc.collect() gcæ¨¡å—çš„è®¡æ•°å™¨è¾¾åˆ°é˜€å€¼ ç¨‹åºé€€å‡º é¢å‘å¯¹è±¡çš„è®¾è®¡åŸåˆ™ å‡ ç§è®¾è®¡æ¨¡å¼ è¿­ä»£å™¨å’Œç”Ÿæˆå™¨ å¹¶å‘ç¼–ç¨‹ Pythonä¸­æœ‰GILæ¥é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œæœ¬åœ°å­—èŠ‚ç ï¼Œè¿™ä¸ªé”å¯¹äºCPythonæ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºCPythonçš„å†…å­˜ç®¡ç†å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºGILçš„å­˜åœ¨å¤šçº¿ç¨‹å¹¶ä¸èƒ½å‘æŒ¥CPUçš„å¤šæ ¸ç‰¹æ€§ã€‚ Python100å¤©å­¦ä¹ 21-30 Webå‰ç«¯æ¦‚è¿° èµ„æ–™è¿æ¥ ç¬¬äºŒåä¸€å¤©-ç¬¬ä¸‰åå¤© HTML5 æ ‡ç­¾ CSS3è¯­æ³• JavaScriptè¯­æ³• JQueryæ¦‚è¿° Ajax Vueã€vue-cliï¼šæ¸è¿›å¼æ¡†æ¶ Elementï¼šUIæ¡†æ¶ Echartsï¼šæŠ¥è¡¨æ¡†æ¶ Bulma:åŸºäºå¼¹æ€§ç›’å­çš„CSSæ¡†æ¶ Bootstrap:å“åº”å¼å¸ƒå±€æ¡†æ¶","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Pythonå­¦ä¹ ç¬”è®°","slug":"Pythonå­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/tags/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}]},{"title":"çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ç»¼è¿°","slug":"å­¦æœ¯-çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ç»¼è¿°,","date":"2022-12-02T02:19:08.766Z","updated":"2023-11-26T05:18:44.453Z","comments":true,"path":"2022/12/02/å­¦æœ¯-çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ç»¼è¿°,/","link":"","permalink":"https://gladdduck.github.io/2022/12/02/%E5%AD%A6%E6%9C%AF-%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E8%A1%A8%E7%A4%BA%E5%AD%A6%E4%B9%A0%E7%BB%BC%E8%BF%B0,/","excerpt":"","text":"copy from æœ¬æ–‡åˆ†äº«ä¸€ç¯‡çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ æ±‡æŠ¥pptï¼Œå°†çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ æ–¹æ³•ç²—ç•¥åˆ†ä¸ºå››å¤§ç±»ï¼Œæ¶‰åŠå°†è¿‘30ç¯‡ä¼˜ç§€è®ºæ–‡ï¼Œåªç®€å•ä»‹ç»å…¶æ ¸å¿ƒæ€æƒ³ï¼Œå®Œæ•´æ±‡æŠ¥pptè·å–è¯·å…³æ³¨å…¬ä¼—å·(AIæœºå™¨å­¦ä¹ ä¸çŸ¥è¯†å›¾è°±)å›å¤å…³é”®å­—ï¼šçŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹  ç¿»è¯‘è·ç¦»æ¨¡å‹ï¼šåŒ…æ‹¬TransHã€TransRã€TransDã€TranSparseã€TransMã€MianfoldEã€TransFã€TransAã€KG2Eã€TransGã€UMã€SEæ¨¡å‹ç­‰ï¼› è¯­ä¹‰åŒ¹é…æ¨¡å‹ï¼šåŒ…æ‹¬RESCALã€DistMultã€HoLEã€ComplExã€ANALOGYã€SNEã€NTNã€MLPã€NAMæ¨¡å‹ç­‰ï¼› éšæœºæ¸¸èµ°æ¨¡å‹ï¼šåŒ…æ‹¬DeepWalkã€LINEã€node2vecæ¨¡å‹ç­‰ï¼› å­å›¾æ±‡èšæ¨¡å‹ï¼šåŒ…æ‹¬GCNã€GATã€GraphSageæ¨¡å‹ç­‰ã€‚ ä¸€ã€Motivation çŸ¥è¯†å›¾è°±æ˜¯ç”±å®ä½“ï¼ˆèŠ‚ç‚¹ï¼‰å’Œå…³ç³»ï¼ˆä¸åŒç±»å‹çš„è¾¹ï¼‰ç»„æˆçš„å¤šå…³ç³»å›¾ï¼Œæ¯æ¡è¾¹è¿æ¥å¤´å°¾ä¸¤ä¸ªå®ä½“ï¼Œé€šå¸¸ç”¨SPOä¸‰å…ƒç»„è¿›è¡Œè¡¨ç¤ºï¼ˆsubject,predicate, objectï¼‰ï¼Œè¢«ç§°ä¸ºä¸€ä¸ªäº‹å®ã€‚è™½ç„¶çŸ¥è¯†å›¾è°±åœ¨è¡¨ç¤ºç»“æ„åŒ–æ•°æ®æ–¹é¢å¾ˆæœ‰æ•ˆï¼Œä½†è¿™ç±»ä¸‰å…ƒç»„çš„æ½œåœ¨ç¬¦å·ç‰¹æ€§é€šå¸¸ä½¿å¾—KGså¾ˆéš¾æ“ä½œã€‚ å› æ­¤çŸ¥è¯†å›¾è°±è¡¨ç¤ºå­¦ä¹ ä¾¿æˆä¸ºäº†ä¸€ä¸ªçƒ­é—¨çš„ç ”ç©¶æ–¹å‘ï¼ŒçŸ¥è¯†å›¾è°±åµŒå…¥çš„å…³é”®æ€æƒ³æ˜¯å°†å›¾è°±ä¸­çš„å®ä½“entityå’Œå…³ç³»relationè½¬åŒ–ä¸ºè¿ç»­çš„å‘é‡ï¼Œåœ¨ä¿ç•™KGåŸæœ‰ç»“æ„çš„åŒæ—¶ä½¿å¾—æ“ä½œæ–¹ä¾¿ã€‚äºæ˜¯ä¾¿å¯å°†entityembeddingå’Œrelationembeddingç”¨åˆ°ä¸‹æ¸¸å„ç§ä»»åŠ¡ä¸­ï¼Œä¾‹å¦‚å›¾è°±è¡¥å…¨ï¼Œå…³ç³»æŠ½å–ï¼Œå®ä½“åˆ†ç±»ï¼Œå®ä½“é“¾æ¥åŠå®ä½“èåˆç­‰ çŸ¥è¯†å›¾è°±åµŒå…¥æŠ€æœ¯ç»å…¸ä¸‰ä¸ªæ­¥éª¤ï¼š çŸ¥è¯†å›¾è°±åµŒå…¥æŠ€æœ¯ç»å…¸ä¸‰ä¸ªæ­¥éª¤ï¼š 1ã€representing entities and relations 2ã€defininga scoring function 3ã€learning entity and relation representationsï¼ˆæœ€å¤§åŒ–æ‰€æœ‰è§‚æµ‹äº‹å®çš„ç½®ä¿¡åº¦plausibilityï¼‰ æ ¹æ®scoring functionåŒºåˆ«åˆ†ä¸ºdistance-based scoring functionså’Œsimilarity-based scoring functions äºŒã€ç¿»è¯‘è·ç¦»æ¨¡å‹ åŸºç¡€ä¸‰å¤§æ¨¡å‹ï¼šTransEï¼ŒTransHï¼ŒTransR ä¸‰å¤§æ¨¡å‹å›¾ åç»­æ”¹è¿›æ¨¡å‹ ååç»­æ”¹è¿›æ¨¡å‹ é«˜æ–¯åµŒå…¥ å°ç»“ï¼š ä¸‰ã€è¯­ä¹‰åŒ¹é…æ¨¡å‹ è¯­ä¹‰åŒ¹é…åŸºæœ¬æ¨¡å‹ï¼š æ¨¡å‹å›¾ çœ‹ä¸æ‡‚çš„æ¨¡å‹ åŸºäºç¥ç»ç½‘ç»œçš„åŒ¹é… æ¨¡å‹å›¾ å°ç»“ å››ã€åŸºäºéšæœºæ¸¸èµ°çš„æ¨¡å‹ DeepWalkï¼š Lineï¼š node2vecï¼š äº”ã€å­å›¾æ±‡èšæ¨¡å‹ GCNå›¾å·ç§¯ï¼š GATå›¾æ³¨æ„åŠ›ï¼š GraphSageï¼š","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"çŸ¥è¯†å›¾è°±è¡¨ç¤º","slug":"çŸ¥è¯†å›¾è°±è¡¨ç¤º","permalink":"https://gladdduck.github.io/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E8%A1%A8%E7%A4%BA/"}]},{"title":"å¿«é€Ÿå‚…é‡Œå¶å˜æ¢(FFT)æ±‚å¤šé¡¹å¼ä¹˜æ³•","slug":"ç¬”è®°-å¿«é€Ÿå‚…é‡Œå¶å˜æ¢(FFT)æ±‚å¤šé¡¹å¼ä¹˜æ³•","date":"2022-11-18T03:11:17.939Z","updated":"2023-11-26T04:43:40.721Z","comments":true,"path":"2022/11/18/ç¬”è®°-å¿«é€Ÿå‚…é‡Œå¶å˜æ¢(FFT)æ±‚å¤šé¡¹å¼ä¹˜æ³•/","link":"","permalink":"https://gladdduck.github.io/2022/11/18/%E7%AC%94%E8%AE%B0-%E5%BF%AB%E9%80%9F%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2(FFT)%E6%B1%82%E5%A4%9A%E9%A1%B9%E5%BC%8F%E4%B9%98%E6%B3%95/","excerpt":"","text":"[toc] æ¨èä¸€ç¯‡å†™çš„å¾ˆå¥½çš„è¯¾ä»¶ å¤šé¡¹å¼çš„è¡¨ç¤ºä¸ä¹˜æ³• ç³»æ•°è¡¨ç¤ºæ³• å¤šé¡¹å¼A(x)=âˆ‘i=0naixiA(x)=\\sum_{i=0}^{n} a_ix^iA(x)=âˆ‘i=0nâ€‹aiâ€‹xiçš„ç³»æ•°è¡¨ç¤ºå°±æ˜¯ a=(a0,a1,...,an)Ta=(a_0,a_1,...,a_n)^Ta=(a0â€‹,a1â€‹,...,anâ€‹)T å¦‚æœç”¨ç³»æ•°è¡¨ç¤º,å¤šé¡¹å¼ä¹˜æ³•çš„å¤æ‚åº¦æ˜¯O(n2)O(n^2)O(n2),å°±æ˜¯å’Œå¹³æ—¶æ‰‹ç®—è¿‡ç¨‹ä¸€æ · ç‚¹å€¼è¡¨ç¤ºæ³• n+1ä¸ªä¸åŒçš„ç‚¹èƒ½å”¯ä¸€ç¡®å®šnæ¬¡å¤šé¡¹å¼ç³»æ•° å¯¹äºå¤šé¡¹å¼A(x),B(x)A(x),B(x)A(x),B(x) A(x):{(x0,y0),(x1,y1),(x2,y2),â€¦,(xn,yn)},A(x):\\left\\{\\left(x_{0}, y_{0}\\right),\\left(x_{1}, y_{1}\\right),\\left(x_{2}, y_{2}\\right), \\ldots,\\left(x_{n}, y_{n}\\right)\\right\\},A(x):{(x0â€‹,y0â€‹),(x1â€‹,y1â€‹),(x2â€‹,y2â€‹),â€¦,(xnâ€‹,ynâ€‹)}, B(x):{(x0,y0â€²),(x1,y1â€²),(x2,y2â€²),â€¦,(xn,ynâ€²)}B(x):\\left\\{\\left(x_{0}, y_{0}^{\\prime}\\right),\\left(x_{1}, y_{1}^{\\prime}\\right),\\left(x_{2}, y_{2}^{\\prime}\\right), \\ldots,\\left(x_{n}, y_{n}^{\\prime}\\right)\\right\\}B(x):{(x0â€‹,y0â€²â€‹),(x1â€‹,y1â€²â€‹),(x2â€‹,y2â€²â€‹),â€¦,(xnâ€‹,ynâ€²â€‹)} è®¾ C(x)=A(x)B(x)C(x) = A(x) B(x)C(x)=A(x)B(x),å› ä¸ºC(x)C(x)C(x)çš„ç³»æ•°æ˜¯2n,æ‰€ä»¥è¦åœ¨A(x)å’ŒB(x)A(x)å’ŒB(x)A(x)å’ŒB(x)ä¸Šå–2nä¸ªä¸åŒçš„ç‚¹æ‰è¡Œ,C(x)C(x)C(x)çš„ç‚¹å€¼è¡¨ç¤ºä¸º {(x0,y0y0â€²),(x1,y1y1â€²),(x2,y2y2â€²),â€¦,(x2n,y2ny2nâ€²)}\\left\\{\\left(x_{0}, y_{0} y_{0}^{\\prime}\\right),\\left(x_{1}, y_{1} y_{1}^{\\prime}\\right),\\left(x_{2}, y_{2} y_{2}^{\\prime}\\right), \\ldots,\\left(x_{2 n}, y_{2 n} y_{2 n}^{\\prime}\\right)\\right\\}{(x0â€‹,y0â€‹y0â€²â€‹),(x1â€‹,y1â€‹y1â€²â€‹),(x2â€‹,y2â€‹y2â€²â€‹),â€¦,(x2nâ€‹,y2nâ€‹y2nâ€²â€‹)} ç‚¹å€¼è¡¨ç¤ºçš„å¤šé¡¹å¼ä¹˜æ³•å¤æ‚åº¦ä¸ºO(n)O(n)O(n) ç³»æ•°è¡¨ç¤ºæ³•ä¸ç‚¹å€¼è¡¨ç¤ºæ³•çš„è½¬æ¢ ç³»æ•°åˆ°ç‚¹(ä¹Ÿå«æ±‚å€¼):Xa=yXa=yXa=y å› ä¸ºç³»æ•°çŸ©é˜µè¡Œåˆ—å¼ä¸ä¸º0,æ‰€ä»¥å¯é€†. ç‚¹åˆ°ç³»æ•°(ä¹Ÿå«æ’å€¼):a=Xâˆ’1ya=X^{-1}ya=Xâˆ’1y å•ä½å¤æ•°æ ¹ næ¬¡å•ä½å¤æ•°æ ¹æ»¡è¶³wn=1w^n=1wn=1,næ¬¡å•ä½å¤æ•°æ ¹æ•²å¥½æœ‰nä¸ª å¤æ‚è¯æ˜ç•¥è¿‡,næ¬¡å•ä½æ ¹çš„æ‰€æœ‰æ ¹,ä½œä¸ºè®¡ç®—ç‚¹å€¼çš„xxx ç¦»æ•£å‚…é‡Œå¶å˜æ¢ å¯¹äº n æ¬¡å¤šé¡¹å¼ A(x)=âˆ‘i=0naixiA(x)=\\sum_{i=0}^{n} a_{i} x^{i}A(x)=âˆ‘i=0nâ€‹aiâ€‹xi , å…¶ç³»æ•°å½¢å¼ä¸º a=(a0,a1,â€¦,an)Ta=\\left(a_{0}, a_{1}, \\ldots, a_{n}\\right)^{T}a=(a0â€‹,a1â€‹,â€¦,anâ€‹)T . è®¾ $ y_{k}=A\\left(\\omega_{n}{k}\\right)=\\sum_{i=0}{n} a_{i} \\omega_{n+1}^{k i}, 0 \\leq k \\leq n, k \\in N $, åˆ™å‘é‡ $ y=\\left(y_{0}, y_{1}, \\ldots, y_{n}\\right)^{T} $ å°±æ˜¯ç³»æ•°å‘é‡ $ a=\\left(a_{0}, a_{1}, \\ldots, a_{n}\\right)^{T} $ çš„ç¦»æ•£å‚…é‡Œå¶å˜æ¢. ä½†æ˜¯ç¦»æ•£å‚…é‡Œå¶å˜æ¢çš„å¤æ‚åº¦ä»æ˜¯O(n2)O(n^2)O(n2) å¿«é€Ÿå‚…é‡Œå¶å˜æ¢(FFT) FFT å°†A(x)A(x)A(x)æ‹†åˆ†ä¸ºå¥‡æ•°ä¸‹æ ‡ä¸å¶æ•°ä¸‹æ ‡çš„ç³»æ•° A[0](x)=a0+a2x+a4x2+â‹¯+anâˆ’1xnâˆ’12,A^{[0]}(x)=a_{0}+a_{2} x+a_{4} x^{2}+\\cdots+a_{n-1} x^{\\frac{n-1}{2}},A[0](x)=a0â€‹+a2â€‹x+a4â€‹x2+â‹¯+anâˆ’1â€‹x2nâˆ’1â€‹, A[1](x)=a1+a3x+a5x2+â‹¯+anxnâˆ’12.A^{[1]}(x)=a_{1}+a_{3} x+a_{5} x^{2}+\\cdots+a_{n} x^{\\frac{n-1}{2}} .A[1](x)=a1â€‹+a3â€‹x+a5â€‹x2+â‹¯+anâ€‹x2nâˆ’1â€‹. A[0](x)A^{[0]}(x)A[0](x) åŒ…å« A æ‰€æœ‰å¶æ•°ä¸‹æ ‡çš„ç³»æ•°, $ A^{[1]}(x)$ æ•°ä¸‹æ ‡çš„ç³»æ•°, äºæ˜¯æœ‰: A(x)=A[0](x2)+xA[1](x2).A(x)=A^{[0]}\\left(x^{2}\\right)+x A^{[1]}\\left(x^{2}\\right) .A(x)=A[0](x2)+xA[1](x2). æ‰€ä»¥, æ±‚ $ A(x)$ åœ¨ Ï‰n+10,Ï‰n+11,â€¦,Ï‰n+1n\\omega_{n+1}^{0}, \\omega_{n+1}^{1}, \\ldots, \\omega_{n+1}^{n}Ï‰n+10â€‹,Ï‰n+11â€‹,â€¦,Ï‰n+1nâ€‹ å¤„çš„å€¼çš„é—®é¢˜è½¬åŒ–ä¸º: a. æ±‚æ¬¡æ•°ä¸º $ \\frac{n}{2}$ çš„å¤šé¡¹å¼ $ A^{[0]}(x), A^{[1]}(x) $ åœ¨ç‚¹ (Ï‰n+10)2,(Ï‰n+11)2,â€¦,(Ï‰n+1n)2\\left(\\omega_{n+1}^{0}\\right)^{2},\\left(\\omega_{n+1}^{1}\\right)^{2}, \\ldots,\\left(\\omega_{n+1}^{n}\\right)^{2}(Ï‰n+10â€‹)2,(Ï‰n+11â€‹)2,â€¦,(Ï‰n+1nâ€‹)2 å¤„çš„å–å€¼. é€’å½’å³å¯å¾—åˆ°ç»“æœ. å¤æ‚åº¦ T(n)=2T(n2)+Î˜(n)T(n)=2 T\\left(\\frac{n}{2}\\right)+\\Theta(n)T(n)=2T(2nâ€‹)+Î˜(n) ç„¶åè¿›è¡Œç‚¹å€¼ä¹˜æ³•,å¾—åˆ°ç‚¹å€¼çš„ç»“æœ,å†åˆ©ç”¨é€†å˜æ¢ä¸ºç³»æ•°è¡¨è¾¾. å…·ä½“æµç¨‹ åŠ å€å¤šé¡¹å¼æ¬¡æ•° é€šè¿‡åŠ å…¥ nnn ä¸ªç³»æ•°ä¸º 0 çš„é«˜é˜¶é¡¹, æŠŠå¤šé¡¹å¼ $ A(x) å’Œ B(x)$ å˜ä¸ºæ¬¡æ•°ä¸º 2n2 n2n çš„ å¤šé¡¹å¼, å¹¶æ„é€ å…¶ç³»æ•°è¡¨è¾¾. æ±‚å€¼ é€šè¿‡åº”ç”¨ $ 2(n+1) $ é˜¶çš„ $FFT $è®¡ç®—å‡º $A(x) å’Œ B(x) $ é•¿åº¦ä¸º $ 2(n+1) $ çš„ç‚¹å€¼è¡¨è¾¾. è¿™äº›ç‚¹å€¼è¡¨è¾¾ä¸­åŒ…å«äº†ä¸¤ä¸ªå¤šé¡¹å¼åœ¨ $ 2(n+1) $ æ¬¡å•ä½æ ¹å¤„çš„å–å€¼. é€ç‚¹ç›¸ä¹˜ æŠŠ $A(x) çš„å€¼ä¸ B(x) $çš„å€¼é€ç‚¹ç›¸ä¹˜, å¯ä»¥è®¡ç®—å‡º $C(x)=A(x) B(x) $ çš„ç‚¹å€¼è¡¨ è¾¾, è¿™ä¸ªè¡¨ç¤ºä¸­åŒ…å«äº† $ C(x) åœ¨æ¯ä¸ª 2(n+1) $ æ¬¡å•ä½æ ¹å¤„çš„å€¼. æ·å€¼ é€šè¿‡å¯¹ $2(n+1) $ ä¸ªç‚¹å€¼åº”ç”¨ FFT, è®¡ç®—å…¶é€† DFT, å°±å¯ä»¥æ„é€ å‡ºå¤šé¡¹å¼C(x)C(x)C(x)çš„ç³»æ•°è¡¨è¾¾ ç”±äº $ 1 ã€ 3 $ çš„æ—¶é—´å¤æ‚åº¦ä¸º $ \\Theta(n)$, $2 ã€ 4 $ çš„æ—¶é—´å¤æ‚åº¦ä¸º Î˜(nlogâ¡2n)\\Theta\\left(n \\log _{2} n\\right)Î˜(nlog2â€‹n) , å› æ­¤æ•´ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º $ \\Theta\\left(n \\log _{2} n\\right)$ . python ä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132import math# å®šä¹‰Î PI = 3.1415926# å®šä¹‰å¤æ•°class complex: def __init__(self,real=0,virtual=0) -&gt; None: self.real=real self.virtual=virtual def __str__(self) -&gt; str: return f&#x27;real:&#123;self.real&#125; virtual:&#123;self.virtual&#125;\\n&#x27; # å¤æ•°çš„ä¹˜æ³•åŠ æ³•å‡æ³•def complex_mut(a,b): ret=complex() ret.real = a.real * b.real - a.virtual * b.virtual ret.virtual = a.real * b.virtual + a.virtual * b.real return ret def complex_add(a,b): ret=complex() ret.real = a.real + b.real ret.virtual = a.virtual + b.virtual return retdef complex_sub(a,b): ret=complex() ret.real = a.real - b.real ret.virtual = a.virtual - b.virtual return ret # è·å–iæ¬¡nå¤æ ¹def get_w(n,k,inverse): w=complex() # æ ¹æ®æ¬§æ‹‰å‡½æ•°è·å¾—w accy=round(PI*2*k/n,6) # é€†å‚…é‡Œå¶å˜æ¢sinå‰é¢è¦æœ‰- if inverse: w.real=round(math.cos(accy),6) w.virtual=round(-math.sin(accy),6) else: w.real=round(math.cos(accy),6) w.virtual=round(math.sin(accy),6) return w# å¿«é€Ÿå‚…é‡Œå¶å˜æ¢def FFT(coefficient,n,inverse): # å¦‚æœn==1äº†ç›´æ¥è¿”å›ç³»æ•° if n==1: return coefficient # ç”¨äºå­˜æ”¾å¥‡å¶æ¬¡é¡¹ odd,even=[],[] for index in range(n): if index&amp;1: odd.append(coefficient[index]) else: even.append(coefficient[index]) # å¯¹å¥‡å¶æ¬¡é¡¹åˆ†åˆ«è®¡ç®—å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ e_k=FFT(even,n//2,inverse) d_k=FFT(odd,n//2,inverse) # è®¡ç®—ç¬¬kä¸ªç‚¹å’Œç¬¬k+n//2ä¸ªç‚¹çš„yåæ ‡ y_k,y_k_2=[],[] for i in range(n//2): w=get_w(n,i,inverse) y_k.append(complex_add(e_k[i],complex_mut(w,d_k[i]))) y_k_2.append(complex_sub(e_k[i],complex_mut(w,d_k[i]))) # è¿”å›nä¸ªç‚¹çš„yåæ ‡ return y_k+y_k_2 def polynomial_mul(coefficient_a,coefficient_b): # æœ¬æ¥æ˜¯åæ ‡ä»£è¡¨é«˜ä½ # ç°åœ¨åè¿‡æ¥,å·¦è¾¹ä»£è¡¨åœ°ä½,ç´¢å¼•å°±æ˜¯xçš„é¡¹æ•° coefficient_a=coefficient_a[::-1] coefficient_b=coefficient_b[::-1] # è®¡ç®—ä¹˜ç§¯çš„æœ€é«˜æ¬¡é¡¹æ˜¯å¤šå°‘ length=len(coefficient_a)-1+len(coefficient_b)-1 # å–ä¹˜ç§¯çš„æ­¤é¡¹å¤§çš„ 2çš„næ¬¡æ–¹ æ–¹ä¾¿åé¢FFTè®¡ç®— digitnum = 1 while length&gt;0: length&gt;&gt;=1 digitnum+=1 length = 1 while digitnum&gt;0: length&lt;&lt;=1 digitnum-=1 # æŠŠç³»æ•°å˜ä¸ºå¤æ•°,æ–¹ä¾¿åé¢å’Œnå¤æ ¹è®¡ç®— a,b=[complex() for _ in range(length+1)],[complex() for _ in range(length+1)] for index,item in enumerate(coefficient_a): a[index].real=item for index,item in enumerate(coefficient_b): b[index].real=item # å¯¹ç³»æ•°a,bè¿›è¡Œå¿«é€Ÿå‚…é‡Œå¶å˜æ¢ FFT_a=FFT(a,length,inverse=False) FFT_b=FFT(b,length,inverse=False) c=[] # å¯¹å˜æ¢å¾—åˆ°çš„yåæ ‡è¿›è¡Œç‚¹å€¼ä¹˜æ³• for index in range(length): c.append(complex_mut(FFT_a[index],FFT_b[index])) # å¯¹cè¿›è¡Œé€†å‚…é‡Œå¶å˜æ¢ FFT_c=FFT(c,length,inverse=True) # å–cçš„å®éƒ¨æ‰æ˜¯ç»“æœ ans=[] for item in FFT_c: # æ§åˆ¶ç²¾åº¦,å› ä¸ºfloatè®¡ç®—ä¼šæœ‰è¯¯å·® if item.real/length&gt;0.05 or item.real/length&lt;-0.05: # å°æ•°ç‚¹åä¿ç•™2ä½ # å¾—åˆ°çš„ç»“æœè¿˜éœ€è¦é™¤ä»¥n ans.append(round(item.real/length,2)) else: ans.append(0) return ans# (x2+x+1)^2# x4+x3+x2+x3+x2+x+x2+x+1# x4+2*x3+3*x2+2*x+1# 0 0 0 1 2 3 2 1if __name__==&#x27;__main__&#x27;: # å·¦è¾¹ä»£è¡¨é«˜æ¬¡é¡¹,å³è¾¹ä»£è¡¨ä½æ¬¡é¡¹ a=[0,3,2] b=[2,1,1] # O(nlogn)çš„å¤šé¡¹å¼ä¹˜æ³• c=polynomial_mul(a,b) # æ‰“å° astr=&#x27; + &#x27;.join([f&#x27;&#123;item&#125;*x^&#123;index&#125; &#x27; for index,item in enumerate(a[::-1])][::-1]) bstr=&#x27; + &#x27;.join([f&#x27;&#123;item&#125;*x^&#123;index&#125; &#x27; for index,item in enumerate(b[::-1])][::-1]) print(f&quot; &#123;astr&#125;&quot;) print(f&quot;* &#123;bstr&#125;&quot;) cstr=&#x27; + &#x27;.join([f&#x27;&#123;item&#125;*x^&#123;index&#125; &#x27; for index,item in enumerate(c) if item !=0 ][::-1] ) print(f&quot;= &#123;cstr&#125;&quot;) C++ä»£ç  æ¥è‡ªçŸ¥ä¹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146#include&lt;iostream&gt;#include&lt;vector&gt;#include&lt;iomanip&gt;#include&lt;math.h&gt;using namespace std;const double PI = 3.1415926;struct _complex&#123; double x; double y;&#125;;//æ‰‹åŠ¨å°è£…çš„å¤æ•°ç»“æ„ä½“ï¼Œxä¸ºå®éƒ¨ï¼Œyä¸ºè™šéƒ¨_complex a[4096], b[4096];//ç”¨äºå­˜å‚¨ä¸¤ä¸ªå¤šé¡¹å¼çš„ç³»æ•°bool is_output[4096];//åé¢ä¼šç”¨åˆ°çš„ç”¨äºåˆ¤æ–­æ˜¯å¦è¾“å‡ºçš„ä¸€ä¸²å˜é‡_complex omega(const int&amp; n, const int&amp; k,bool inverse)&#123; _complex r; if (!inverse) &#123; r.x = cos(PI * 2 * k / n); r.y = sin(PI * 2 * k / n); &#125; else &#123; r.x = cos(PI * 2 * k / n); r.y = -sin(PI * 2 * k / n); &#125; return r;&#125;//ç”¨äºæ’å¤æ ¹inline _complex operator*(_complex a, _complex b)&#123; _complex r; r.x = a.x * b.x - a.y * b.y; r.y = a.x * b.y + a.y * b.x; return r;&#125;inline _complex operator+(_complex a, _complex b)&#123; _complex r; r.x = a.x + b.x; r.y = a.y + b.y; return r;&#125;inline _complex operator-(_complex a, _complex b)&#123; _complex r; r.x = a.x - b.x; r.y = a.y - b.y; return r;&#125;//å› ä¸ºæ²¡æœ‰ç”¨åˆ°é™¤æ³•ï¼Œè¿™é‡Œæˆ‘å°±æ²¡æœ‰é‡è½½é™¤çš„å‡½æ•°void Real_DFT(_complex* a, bool inverse, int anum)//è¿™ä¸ªinverseè¡¨ç¤ºæ˜¯å¦ä¸ºåå˜æ¢ï¼Œfalseä¸ºå¦ï¼Œtrueè¡¨ç¤ºæ˜¯&#123; if (anum == 1) return; vector&lt;_complex&gt; buf1, buf2;//buf1å’Œbuf2ä¸ºä¸¤ä¸ªç¼“å†²æ•°ç»„ï¼Œç”¨äºæš‚å­˜å˜æ¢ä¸­å„é¡¹ç³»æ•° for (int i = 0; i &lt; anum ; i++) &#123; if (i &amp; 1) &#123; buf2.push_back(a[i]);//å¥‡æ•°é¡¹ &#125; else &#123; buf1.push_back(a[i]);//å¶æ•°é¡¹ &#125; &#125; for (int i = 0; i &lt; anum / 2; i++) &#123; a[i] = buf1[i]; a[i + anum / 2] = buf2[i]; &#125;//æ‹†åˆ†æ’åºåé‡æ–°èµ‹å€¼å›aï¼Œä¸ºä¸‹ä¸€æ­¥æ’åºå‡†å¤‡ Real_DFT(a, inverse, anum / 2); Real_DFT(a + anum / 2, inverse, anum / 2);//å¥‡å¶æ•°é¡¹æ‹†å¼€åè¿­ä»£ç»§ç»­æ‹†åˆ† int armlength = anum / 2; for (int i = 0; i &lt; armlength; i++) &#123; _complex t = omega(anum, i, inverse); buf1[i] = a[i] + t * a[i + anum / 2];//ä½æ¬¡å¤æ ¹èµ°è¿™è¾¹æ’ buf2[i] = a[i] - t * a[i + anum / 2];//é«˜æ¬¡å¤æ ¹èµ°è¿™è¾¹æ’ &#125;//è¿™é‡Œç»§ç»­ç”¨åˆ°äº†bufæ•°ç»„åªæ˜¯ä¸ºäº†æš‚å­˜ï¼Œæ²¡æœ‰åˆ«çš„æ„æ€ for (int i = 0; i &lt; anum / 2; i++) &#123; a[i] = buf1[i]; a[i + anum / 2] = buf2[i]; &#125;//é‡æ–°èµ‹å€¼å›å» return;&#125;int main()&#123;//inport data int numa = 0, numb = 0;//numaæ˜¯aå¤šé¡¹å¼çš„é¡¹æ•°ï¼ŒnumbåŒç† cin &gt;&gt; numa; int ptr0 = 0, maxa = 0, sum = 0, ptr1 = 0,maxb=0;//maxaå­˜å‚¨aå¤šé¡¹å¼ä¸­çš„æœ€é«˜æ¬¡å¹‚ï¼ŒmaxbåŒç† for (int i = 0; i&lt;numa; i++) &#123; int id = 0; cin &gt;&gt; id; maxa = maxa &gt; id ? maxa : id; cin &gt;&gt; a[id].x; &#125; cin &gt;&gt; numb; for (int i = 0; i &lt; numb; i++) &#123; int id = 0; cin &gt;&gt; id; maxb = maxb &gt; id ? maxb : id; cin &gt;&gt; b[id].x; &#125; sum = maxa + maxb;//decide complete num int digitnum = 1; for (; sum &gt; 0; sum &gt;&gt;= 1, digitnum++); sum = 1; for (; digitnum &gt; 0; sum &lt;&lt;= 1, digitnum--);//ç”±äºå‚…é‡Œå¶å˜æ¢è¦æ±‚æ’å€¼æ•°ä¸º2çš„æ•´æ•°æ¬¡å¹‚//è¿™é‡Œé¦–å…ˆç¡®å®šå¤šé¡¹å¼ç›¸ä¹˜åæœ€å¤šçš„é¡¹æ•°ä¹Ÿå°±æ˜¯sumç„¶åæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ¯”sumå¤§çš„2çš„æ•´æ•°æ¬¡å¹‚çš„æ•°ï¼Œå°†sumé‡ç½®ä¸ºè¿™ä¸ª2çš„æ•´æ•°æ¬¡å¹‚//Fast Fourier Transform Real_DFT(a, false, sum); Real_DFT(b, false, sum); for (int i = 0; i &lt; sum; i++) a[i] = a[i] * b[i];//è¿™ä¸€æ­¥å°±æ˜¯ä¸Šæ–‡æ²¡æœ‰ç»†è®²çš„ç‚¹å€¼è¡¨è¾¾å¼ç›¸ä¹˜ï¼Œè¿˜æ˜¯æŒºå¥½æçš„ Real_DFT(a, true, sum);//export data int num=0; for (int i = 0; i &lt;= sum; i++) &#123; if (a[i].x / sum &gt; 0.05||a[i].x/sum&lt;-0.05)//éå†å¾—åˆ°çš„ç»“æœï¼Œå¦‚æœè¿™ä¸ªæ•°çš„ç»å¯¹å€¼å¤§äº0.05ï¼ˆé¢˜ç›®è¦æ±‚çš„0.1ç²¾åº¦ï¼Œæ ¹æ®å››èˆäº”å…¥åŸåˆ™åˆ¤æ–­ï¼‰ï¼Œåˆ™å‡†å¤‡è¾“å‡º &#123; num++; is_output[i] = 1; &#125; &#125; cout &lt;&lt; num; for (int i = sum; i &gt;=0; i--) &#123; if(is_output[i]==1) cout &lt;&lt; &quot; &quot; &lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt; std::fixed &lt;&lt; setprecision(1) &lt;&lt; (a[i].x / sum); &#125; return 0;&#125;è¾“å…¥2 1 2.4 0 3.22 2 1.5 1 0.5è¾“å‡º3 3 3.6 2 6.0 1 1.6","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"å¿«é€Ÿå‚…é‡Œå¶å˜æ¢","slug":"å¿«é€Ÿå‚…é‡Œå¶å˜æ¢","permalink":"https://gladdduck.github.io/tags/%E5%BF%AB%E9%80%9F%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2/"}]},{"title":"Linuxçš„ä¸€äº›å¸¸ç”¨å‘½ä»¤è®°å½•","slug":"å®ä¹ -Linuxå¸¸ç”¨å‘½ä»¤","date":"2022-11-17T09:35:08.623Z","updated":"2024-03-13T13:14:19.223Z","comments":true,"path":"2022/11/17/å®ä¹ -Linuxå¸¸ç”¨å‘½ä»¤/","link":"","permalink":"https://gladdduck.github.io/2022/11/17/%E5%AE%9E%E4%B9%A0-Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334# æŸ¥çœ‹cpuå‹å·cat /proc/cpuinfo | grep &#x27;model name&#x27;# æŸ¥çœ‹ç³»ç»Ÿuname -a# æŸ¥çœ‹æ˜¾å¡lshw -C display# å¦‚æœæ˜¾å¡æ˜¯Nvidianvidia-smi# åå°è¿è¡Œç¨‹åºnohup ***** &amp; # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹ps -aux# æ ¹æ®è¿›ç¨‹å·æ€æ­»è¿›ç¨‹kill -9 è¿›ç¨‹å·# è¿œç¨‹å¤åˆ¶æ–‡ä»¶scp -r è·¯å¾„ ç”¨æˆ·å@ip:è·¯å¾„# è¿œç¨‹åŒæ­¥æ–‡ä»¶rsync -avz è·¯å¾„ ç”¨æˆ·å@ip:è·¯å¾„# ä¿®æ”¹æ–‡ä»¶æƒé™# ç¬¬ä¸€ä¸ªæ•°å­—ï¼ˆ7ï¼‰è¡¨ç¤ºæ‰€æœ‰è€…ï¼ˆOwnerï¼‰çš„æƒé™ï¼Œå³æ–‡ä»¶çš„æ‰€æœ‰è€…å¯ä»¥è¯»ï¼ˆ4ï¼‰ã€å†™ï¼ˆ2ï¼‰ã€æ‰§è¡Œï¼ˆ1ï¼‰ã€‚# ç¬¬äºŒä¸ªæ•°å­—ï¼ˆ7ï¼‰è¡¨ç¤ºä¸æ–‡ä»¶æ‰€æœ‰è€…åŒç»„çš„ç”¨æˆ·çš„æƒé™ï¼ŒåŒç»„ç”¨æˆ·ä¹Ÿå¯ä»¥è¯»ï¼ˆ4ï¼‰ã€å†™ï¼ˆ2ï¼‰ã€æ‰§è¡Œï¼ˆ1ï¼‰ã€‚# ç¬¬ä¸‰ä¸ªæ•°å­—ï¼ˆ7ï¼‰è¡¨ç¤ºå…¶ä»–ç”¨æˆ·çš„æƒé™ï¼Œå³é™¤äº†æ–‡ä»¶æ‰€æœ‰è€…å’ŒåŒç»„ç”¨æˆ·ä¹‹å¤–çš„æ‰€æœ‰ç”¨æˆ·çš„æƒé™ï¼Œä¹Ÿå¯ä»¥è¯»ï¼ˆ4ï¼‰ã€å†™ï¼ˆ2ï¼‰ã€æ‰§è¡Œï¼ˆ1ï¼‰ã€‚# å› æ­¤ï¼Œchmod 777å…è®¸æ‰€æœ‰ç”¨æˆ·éƒ½æ‹¥æœ‰å¯¹è¯¥æ–‡ä»¶çš„è¯»ã€å†™å’Œæ‰§è¡Œæƒé™ã€‚chmod 777 æ–‡ä»¶å","categories":[{"name":"å¿«æ·å‘½ä»¤","slug":"å¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/categories/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}],"tags":[{"name":"Linuxå¿«æ·å‘½ä»¤","slug":"Linuxå¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/tags/Linux%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}]},{"title":"å¤šä¸ªæ’åºç®—æ³•å¤æ‚åº¦","slug":"ç®—æ³•-æ’åºå¤æ‚åº¦","date":"2022-11-12T13:53:00.287Z","updated":"2023-11-26T04:45:12.730Z","comments":true,"path":"2022/11/12/ç®—æ³•-æ’åºå¤æ‚åº¦/","link":"","permalink":"https://gladdduck.github.io/2022/11/12/%E7%AE%97%E6%B3%95-%E6%8E%92%E5%BA%8F%E5%A4%8D%E6%9D%82%E5%BA%A6/","excerpt":"","text":"ç®—æ³• ç¨³å®šæ€§ ç©ºé—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ åˆ†ç±» æ’å…¥æ’åº â˜…ç¨³å®š O(1)O(1)O(1) $O(n^2) $ æ’å…¥ç±» å¸Œå°”æ’åº ä¸ç¨³å®š O(1)O(1)O(1) $O(n{1.3}-n2) $ æ’å…¥ç±» å†’æ³¡æ’åº â˜…ç¨³å®š O(1)O(1)O(1) O(n2)O(n^2)O(n2) äº¤æ¢ç±» å¿«é€Ÿæ’åº ä¸ç¨³å®š O(log2(n))O(log_2(n))O(log2â€‹(n)) O(nlog2(n)âˆ’n2)O(nlog_2(n)-n^2)O(nlog2â€‹(n)âˆ’n2) äº¤æ¢ç±» é€‰æ‹©æ’åº ä¸ç¨³å®š O(1)O(1)O(1) O(n2)O(n^2)O(n2) é€‰æ‹©ç±» å †æ’åº ä¸ç¨³å®š O(1)O(1)O(1) O(nlog2(n))O(nlog_2(n))O(nlog2â€‹(n)) é€‰æ‹©ç±» å †æ’åº å»ºå † O(n)O(n)O(n) è°ƒæ•´ O(log2(n))O(log_2(n))O(log2â€‹(n)) å½’å¹¶æ’åº â˜…ç¨³å®š O(n)O(n)O(n) O(nlog2(n))O(nlog_2(n))O(nlog2â€‹(n)) åŸºæ•°æ’åº â˜…ç¨³å®š O(r)O(r)O(r) O(d(n+r))O(d(n+r))O(d(n+r)) 12åé¢æ…¢æ…¢è¡¥å……æ¯ä¸ªç®—æ³•çš„ä»£ç ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"æ’åºç®—æ³•","slug":"æ’åºç®—æ³•","permalink":"https://gladdduck.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"}]},{"title":"git Time out errorè§£å†³","slug":"é…ç½®-githuberrorå¤„ç†","date":"2022-11-09T11:06:17.746Z","updated":"2023-11-26T05:21:03.870Z","comments":true,"path":"2022/11/09/é…ç½®-githuberrorå¤„ç†/","link":"","permalink":"https://gladdduck.github.io/2022/11/09/%E9%85%8D%E7%BD%AE-githuberror%E5%A4%84%E7%90%86/","excerpt":"","text":"é”™è¯¯ä¿¡æ¯: 1234567891011fatal: unable to access &#x27;https://github.com/gladdduck/gladdduck.github.io.git/&#x27;:Failed to connect to github.com port 443 after 21048 ms: Timed outFATAL &#123; err: Error: Spawn failed at ChildProcess.&lt;anonymous&gt; (D:\\BaiduSyncdisk\\Blog\\node_modules\\hexo-util\\lib\\spawn.js:51:21) at ChildProcess.emit (node:events:513:28) at ChildProcess.cp.emit (D:\\BaiduSyncdisk\\Blog\\node_modules\\cross-spawn\\lib\\enoent.js:34:29) at Process.ChildProcess._handle.onexit (node:internal/child_process:293:12) &#123; code: 128 &#125;&#125; Something&#x27;s wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html è§£å†³: gitä¸­è¾“å…¥ 123git config --global --unset http.proxy git config --global --unset https.proxy cmd ä¸­è¾“å…¥ 1ipconfig /flushdns åˆ·æ–° dnsç¼“å­˜ ç„¶åå†æ‰§è¡Œç›¸åº”å‘½ä»¤. æˆåŠŸ","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"git Time out","slug":"git-Time-out","permalink":"https://gladdduck.github.io/tags/git-Time-out/"}]},{"title":"è¯¦è§£PyTorchä¸­åŠ è½½æ•°æ®çš„æ–¹æ³•--Datasetã€Dataloaderã€Samplerã€collate-fn","slug":"ç¬”è®°-Pytorchæ•°æ®é›†åŠ è½½","date":"2022-11-09T10:38:42.428Z","updated":"2022-11-09T11:28:39.538Z","comments":true,"path":"2022/11/09/ç¬”è®°-Pytorchæ•°æ®é›†åŠ è½½/","link":"","permalink":"https://gladdduck.github.io/2022/11/09/%E7%AC%94%E8%AE%B0-Pytorch%E6%95%B0%E6%8D%AE%E9%9B%86%E5%8A%A0%E8%BD%BD/","excerpt":"","text":"è½¬è½½ ä½œè€…pytorchå…¶ä»–ç¬”è®° æ•°æ®è¯»å–æ˜¯æ‰€æœ‰è®­ç»ƒæ¨¡å‹ä»»åŠ¡ä¸­æœ€åŸºç¡€æœ€é‡è¦çš„ä¸€æ­¥ï¼ŒPyTorchä¸ºæ•°æ®é›†çš„è¯»å–ã€åŠ è½½å’Œä½¿ç”¨æä¾›äº†å¾ˆå¥½çš„æœºåˆ¶ï¼Œä½¿å¾—æ•°æ®åŠ è½½çš„å·¥ä½œå˜å¾—å¼‚å¸¸ç®€å•è€Œä¸”å…·æœ‰éå¸¸é«˜çš„å®šåˆ¶æ€§ã€‚ Datasetã€Dataloaderã€Samplerçš„å…³ç³» PyTorchä¸­å¯¹äºæ•°æ®é›†çš„å¤„ç†æœ‰ä¸‰ä¸ªéå¸¸é‡è¦çš„ç±»ï¼šDatasetã€Dataloaderã€Samplerï¼Œå®ƒä»¬å‡æ˜¯ torch.utils.data åŒ…ä¸‹çš„æ¨¡å—ï¼ˆç±»ï¼‰ã€‚å®ƒä»¬çš„å…³ç³»å¯ä»¥è¿™æ ·ç†è§£ï¼š Datasetæ˜¯æ•°æ®é›†çš„ç±»ï¼Œä¸»è¦ç”¨äºå®šä¹‰æ•°æ®é›† Sampleræ˜¯é‡‡æ ·å™¨çš„ç±»ï¼Œç”¨äºå®šä¹‰ä»æ•°æ®é›†ä¸­é€‰å‡ºæ•°æ®çš„è§„åˆ™ï¼Œæ¯”å¦‚æ˜¯éšæœºå–æ•°æ®è¿˜æ˜¯æŒ‰ç…§é¡ºåºå–ç­‰ç­‰ Dataloaderæ˜¯æ•°æ®çš„åŠ è½½ç±»ï¼Œå®ƒæ˜¯å¯¹äº Datasetå’Œ Samplerçš„è¿›ä¸€æ­¥åŒ…è£…ï¼Œå³å…¶å® Datasetå’Œ Samplerä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™ Dataloaderï¼Œç”¨äºå®é™…è¯»å–æ•°æ®ï¼Œå¯ä»¥ç†è§£ä¸ºå®ƒæ˜¯è¿™ä¸ªå·¥ä½œçš„çœŸæ­£å®è·µè€…ï¼Œè€Œ Datasetå’Œ Sampleråˆ™è´Ÿè´£å®šä¹‰ã€‚æˆ‘ä»¬è®­ç»ƒã€æµ‹è¯•æ‰€è·å¾—çš„æ•°æ®ä¹Ÿæ˜¯ Dataloaderç›´æ¥ç»™æˆ‘ä»¬çš„ã€‚ æ€»çš„æ¥è¯´ï¼ŒDatasetå®šä¹‰äº†æ•´ä¸ªæ•°æ®é›†ï¼ŒSampleræä¾›äº†å–æ•°æ®çš„æœºåˆ¶ï¼Œæœ€åç”± Dataloaderå–å®Œæˆå–æ•°æ®çš„ä»»åŠ¡ã€‚ æœ¬ç¯‡ä»¥ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ä¸ºä¾‹ï¼Œæ¯”å¦‚æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆdata-folderï¼‰ä¸­å­˜å‚¨è®­ç»ƒçš„æ•°æ®ï¼ˆä¸€å…±30å¼ å›¾ç‰‡ï¼š0.png åˆ° 29.pngï¼‰ï¼Œä»–ä»¬å¯¹åº”çš„æ ‡ç­¾è¢«å†™åœ¨äº†ä¸€ä¸ª labels.txtæ–‡ä»¶ä¸­ï¼Œç¬¬nè¡Œå¯¹åº”n-1.pngçš„æ ‡ç­¾ï¼Œæ˜¯ä¸€ä¸ªä¸‰åˆ†ç±»é—®é¢˜ï¼Œå³0ã€1å’Œ2ä¸‰ç§æ ‡ç­¾ï¼ˆè™šæ„çš„æ•°æ®é›†ï¼Œä¸å…·æœ‰ä»»ä½•æ„ä¹‰ï¼‰ã€‚ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 12345678|--- Project |--- main.py |--- labels.txt |--- data-folder |--- 0.png |--- 1.png |--- â€¦â€¦ |--- 29.png Dataset Dataset ä½äº torch.utils.data ä¸‹ï¼Œæˆ‘ä»¬é€šè¿‡å®šä¹‰ç»§æ‰¿è‡ªè¿™ä¸ªç±»çš„å­ç±»æ¥è‡ªå®šä¹‰æ•°æ®é›†ã€‚å®ƒæœ‰ä¸¤ä¸ªæœ€é‡è¦çš„æ–¹æ³•éœ€è¦é‡å†™ï¼Œå®é™…ä¸Šå®ƒä»¬éƒ½æ˜¯ç±»çš„ç‰¹æ®Šæ–¹æ³•ï¼š __getitem__(self, index)ï¼šä¼ å…¥å‚æ•° indexä¸ºä¸‹æ ‡ï¼Œè¿”å›æ•°æ®é›†ä¸­å¯¹åº”ä¸‹æ ‡çš„æ•°æ®ç»„ï¼ˆæ•°æ®å’Œæ ‡ç­¾ï¼‰ __len__(self)ï¼šè¿”å›æ•°æ®é›†çš„å¤§å° ç®€å•è¯´ï¼Œé‡å†™äº†è¿™ä¸¤ä¸ªæ–¹æ³•çš„ç»§æ‰¿è‡ª Dataset çš„ç±»éƒ½å¯ä»¥ä½œä¸ºæ•°æ®é›†çš„å®šä¹‰ç±»ä½¿ç”¨ï¼Œå³ä¸€ä¸ª Datasetç±»çš„å¿…è¦ç»“æ„ï¼š 123456789class Dataset(torch.utils.data.Dataset): def __init__(self, filepath=None,dataLen=None): pass def __getitem__(self, index): pass def __len__(self): pass å¦‚ä¸‹å°±æ˜¯æˆ‘ä»¬çš„ä¾‹å­çš„åŠ è½½å®ä¾‹ï¼Œå…¶ä¸­çš„ image2tensor ä½¿ç”¨äº† torchvision.transforms å®Œæˆäº†ä¸€ä¸ªç®€å•çš„ä» PIL.Image æ ¼å¼çš„å›¾ç‰‡åˆ° tensor çš„è½¬æ¢ï¼Œå¯ä»¥å…ˆä¸å¿…åœ¨æ„ï¼Œåé¢ä¼šè¯¦ç»†åœ°è®²åˆ° transforms è¿™ä¸ªè¶…çº§é‡è¦çš„å·¥å…·ï¼š 12345678910111213141516171819202122232425262728293031323334353637from torch.utils.data import Datasetfrom PIL import Imageimport osfrom torchvision import transformsclass MyDataset(Dataset): def __init__(self, images_folder_path, labels_file_path): self.images_folder_path = images_folder_path with open(labels_file_path, &#x27;r&#x27;) as file: self.labels = list(map(int, file.read().splitlines())) def __getitem__(self, item): image = Image.open(os.path.join(self.images_folder_path, &quot;&#123;&#125;.png&quot;.format(item))) image = self.image2tensor(image) label = self.labels[item] return (image, label) def __len__(self): return len(self.labels) def image2tensor(self, image): &quot;&quot;&quot; transform PIL.Image to tensor :param image: image in PIL.Image format :return: image in tensor format &quot;&quot;&quot; transform = transforms.Compose([ transforms.ToTensor() ]) image = image.convert(&#x27;RGB&#x27;) return transform(image)myDataset = MyDataset(&quot;./data-folder/&quot;, &quot;./labels.txt&quot;) Dataloader Dataloaderå¯¹ Datasetï¼ˆå’Œ Samplerç­‰ï¼‰æ‰“åŒ…ï¼Œå®Œæˆæœ€åå¯¹æ•°æ®çš„è¯»å–çš„æ‰§è¡Œå·¥ä½œï¼Œä¸€èˆ¬ä¸éœ€è¦è‡ªå·±å®šä¹‰æˆ–è€…é‡å†™ä¸€ä¸ª Dataloaderçš„ç±»ï¼ˆæˆ–å­ç±»ï¼‰ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼Œé€šè¿‡ä¼ å…¥å‚æ•°å®šåˆ¶ Dataloaderï¼Œå®šåˆ¶åŒ–çš„åŠŸèƒ½åº”è¯¥åœ¨ Datasetï¼ˆå’Œ Samplerç­‰ï¼‰ä¸­å®Œæˆäº†ã€‚ Dataloaderçš„å®Œæ•´ç­¾åï¼š https://pytorch.org/docs/stable/data.html#torch.utils.data.DataLoader Dataloaderçš„ä¸€äº›å¸¸ç”¨å‚æ•° Dataloaderçš„ä¸€äº›é‡è¦çš„å‚æ•°å¦‚ä¸‹ï¼Œé™¤äº†ç¬¬ä¸€ä¸ª datasetå‚æ•°å¤–ï¼Œå…¶ä»–å‡ä¸ºå¯é€‰å‚æ•°ï¼š datasetï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¿…é¡»çš„å‚æ•°ï¼‰ï¼šä¸€ä¸ª Datasetçš„å®ä¾‹ï¼Œå³ä¼ å…¥çš„æ•°æ®é›†ï¼ˆæˆ–è€…å…¶ä»–å¯è¿­ä»£å¯¹è±¡ï¼‰ batch_sizeï¼šæ•´æ•°å€¼ï¼Œæ¯ä¸ª batchçš„æ ·æœ¬æ•°é‡ï¼Œå³ batchå¤§å°ï¼Œé»˜è®¤ä¸º1 shuffleï¼šboolå€¼ï¼Œå¦‚æœè®¾ç½®ä¸º Trueï¼Œåˆ™åœ¨æ¯ä¸ª epochå¼€å§‹çš„æ—¶å€™ï¼Œä¼šå¯¹æ•°æ®é›†çš„æ•°æ®è¿›è¡Œé‡æ–°æ’åºï¼Œé»˜è®¤ False samplerï¼šä¼ å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„ Samplerå®ä¾‹ï¼Œå®šä¹‰ä»æ•°æ®é›†ä¸­å–æ ·æœ¬çš„ç­–ç•¥ï¼ŒSampleræ¯æ¬¡è¿”å›ä¸€ä¸ªç´¢å¼•ï¼Œé»˜è®¤ä¸º None batch_samplerï¼šä¹Ÿæ˜¯ä¼ å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„ Samplerå®ä¾‹ï¼Œä½†æ˜¯ä¸ samplerå‚æ•°ä¸åŒçš„æ˜¯ï¼Œå®ƒæ¥æ”¶çš„ Sampleræ˜¯ä¸€æ¬¡è¿”å›ä¸€ä¸ª batchçš„ç´¢å¼•ï¼Œé»˜è®¤ä¸º None num_workersï¼šæ•´æ•°å€¼ï¼Œå®šä¹‰æœ‰å‡ ä¸ªè¿›ç¨‹æ¥å¤„ç†æ•°æ®ã€‚0æ„å‘³ç€æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šè¢«åŠ è½½è¿›ä¸»è¿›ç¨‹ï¼Œé»˜è®¤0 collate_fnï¼šä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†ä¸€ä¸ª batchçš„æ ·æœ¬æ‰“åŒ…æˆä¸€ä¸ªå¤§çš„ tensorï¼Œtensorçš„ç¬¬ä¸€ç»´å°±æ˜¯è¿™äº›æ ·æœ¬ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚å¯ä»¥ä¿æŒé»˜è®¤å³å¯ï¼ˆåè¾¹ä¼šè¯¦ç»†ä»‹ç»ï¼‰ pin_memoryï¼šboolå€¼ï¼Œå¦‚æœä¸º Trueï¼Œé‚£ä¹ˆå°†åŠ è½½çš„æ•°æ®æ‹·è´åˆ° CUDAä¸­çš„å›ºå®šå†…å­˜ä¸­ã€‚ drop_lastï¼šboolå€¼ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™å¯¹æœ€åçš„ä¸€ä¸ª batchæ¥è¯´ï¼Œå¦‚æœä¸è¶³ batch_sizeä¸ªæ ·æœ¬äº†å°±èˆå¼ƒï¼Œå¦‚æœä¸º Falseï¼Œä¹Ÿä¼šç»§ç»­æ­£å¸¸æ‰§è¡Œï¼Œåªæ˜¯æœ€åçš„ä¸€ä¸ª batchå¯èƒ½ä¼šå°ä¸€ç‚¹ï¼ˆå‰©å¤šå°‘ç®—å¤šå°‘ï¼‰ï¼Œé»˜è®¤ False timeoutï¼šå¦‚æœæ˜¯æ­£æ•°ï¼Œè¡¨æ˜ç­‰å¾…ä»åŠ è½½ä¸€ä¸ª batchç­‰å¾…çš„æ—¶é—´ï¼Œè‹¥è¶…å‡ºè®¾å®šçš„æ—¶é—´è¿˜æ²¡æœ‰åŠ è½½å®Œï¼Œå°±æ”¾å¼ƒè¿™ä¸ª batchï¼Œå¦‚æœæ˜¯0ï¼Œè¡¨ç¤ºä¸è®¾ç½®é™åˆ¶æ—¶é—´ã€‚é»˜è®¤ä¸º0 Dataloaderå‚æ•°ä¹‹é—´çš„äº’æ–¥ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒDataloaderçš„å‚æ•°ä¹‹é—´å­˜åœ¨äº’æ–¥çš„æƒ…å†µï¼Œä¸»è¦é’ˆå¯¹è‡ªå·±å®šä¹‰çš„é‡‡æ ·å™¨ï¼š samplerï¼šå¦‚æœè‡ªè¡ŒæŒ‡å®šäº† samplerå‚æ•°ï¼Œåˆ™ shuffleå¿…é¡»ä¿æŒé»˜è®¤å€¼ï¼Œå³ False batch_samplerï¼šå¦‚æœè‡ªè¡ŒæŒ‡å®šäº† batch_samplerå‚æ•°ï¼Œåˆ™ batch_sizeã€shuffleã€samplerã€drop_last éƒ½å¿…é¡»ä¿æŒé»˜è®¤å€¼ å¦‚æœæ²¡æœ‰æŒ‡å®šè‡ªå·±æ˜¯é‡‡æ ·å™¨ï¼Œé‚£ä¹ˆé»˜è®¤çš„æƒ…å†µä¸‹ï¼ˆå³ samplerå’Œ batch_samplerå‡ä¸º Noneçš„æƒ…å†µä¸‹ï¼‰ï¼ŒDataloaderçš„é‡‡æ ·ç­–ç•¥æ˜¯å¦‚ä½•çš„å‘¢ï¼š samplerï¼š shuffle = Trueï¼šsampleré‡‡ç”¨ RandomSamplerï¼Œå³éšæœºé‡‡æ · shuffle = Flaseï¼šsampleré‡‡ç”¨ SequentialSamplerï¼Œå³æŒ‰ç…§é¡ºåºé‡‡æ · batch_samplerï¼šé‡‡ç”¨ BatchSamplerï¼Œå³æ ¹æ® batch_size è¿›è¡Œ batché‡‡æ · ä¸Šé¢æåˆ°çš„ RandomSamplerã€SequentialSamplerå’Œ BatchSampleréƒ½æ˜¯ PyTorchè‡ªå·±å®ç°çš„ï¼Œä¸”å®ƒä»¬éƒ½æ˜¯ Samplerçš„å­ç±»ï¼Œåè¾¹ä¼šè¯¦è¿°ã€‚ Dataloaderçš„å®ä¾‹ ä¸‹é¢æˆ‘ä»¬ç»§ç»­æˆ‘ä»¬çš„ä¾‹å­ï¼Œå®šä¹‰ Dataloaderçš„å®ä¾‹ï¼Œä»æˆ‘ä»¬å®šä¹‰çš„ myDataset æ•°æ®é›†ä¸­åŠ è½½æ•°æ®ï¼Œæ¯ä¸€ä¸ª batchå¤§å°ä¸º8ã€‚å¹¶ä¸”æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå¾ªç¯æ¥éªŒè¯å…¶å·¥ä½œçš„æƒ…å†µï¼š 12345678910from torch.utils.data import DataLoadermyDataloader = DataLoader(myDataset, batch_size=8)for epoch in range(2): for data in myDataloader: images, labels = data[0], data[1] print(len(images)) print(labels) # train your module 123456789101112131415168tensor([0, 1, 1, 1, 2, 0, 1, 2])8tensor([0, 2, 1, 1, 1, 1, 2, 0])8tensor([1, 0, 0, 0, 0, 1, 1, 0])6tensor([2, 0, 1, 1, 1, 2])8tensor([0, 1, 1, 1, 2, 0, 1, 2])8tensor([0, 2, 1, 1, 1, 1, 2, 0])8tensor([1, 0, 0, 0, 0, 1, 1, 0])6tensor([2, 0, 1, 1, 1, 2]) Sampler Samplerç±»æ˜¯ä¸€ä¸ªå¾ˆæŠ½è±¡çš„çˆ¶ç±»ï¼Œå…¶ä¸»è¦ç”¨äºè®¾ç½®ä»ä¸€ä¸ªåºåˆ—ä¸­è¿”å›æ ·æœ¬çš„è§„åˆ™ï¼Œå³é‡‡æ ·çš„è§„åˆ™ã€‚Sampleræ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä½¿ç”¨ stepæ–¹æ³•å¯ä»¥è¿”å›ä¸‹ä¸€ä¸ªè¿­ä»£åçš„ç»“æœï¼Œå› æ­¤å…¶ä¸»è¦çš„ç±»æ–¹æ³•å°±æ˜¯ __iter__ æ–¹æ³•ï¼Œå®šä¹‰äº†è¿­ä»£åè¿”å›çš„å†…å®¹ã€‚å…¶çˆ¶ç±»çš„ä»£ç å¦‚ä¸‹ï¼ˆPyTorch 1.7ï¼‰ï¼š 1234567class Sampler(Generic[T_co]): def __init__(self, data_source: Optional[Sized]) -&gt; None: pass def __iter__(self) -&gt; Iterator[T_co]: raise NotImplementedError ä»ä¸Šè¿°ä»£ç å¯è§ï¼Œå…¶å® Samplerçˆ¶ç±»å¹¶æ²¡æœ‰ç»™å‡º __iter__ çš„å…·ä½“å®šä¹‰ï¼Œå› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬è¦å®šä¹‰è‡ªå·±çš„é‡‡æ ·å™¨ï¼Œå°±è¦ç¼–å†™ç»§æ‰¿è‡ª Samplerçš„å­ç±»ï¼Œå¹¶ä¸”é‡å†™ __iter__ æ–¹æ³•ç»™å‡ºè¿­ä»£è¿”å›æ ·æœ¬çš„é€»è¾‘ã€‚ ä½†æ˜¯ï¼Œæ­£å¦‚ä¸Šæ–‡æåˆ°çš„ï¼ŒDataloaderä¸­çš„ samplerå’Œ batch_samplerå‚æ•°é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„é‚£äº›é‡‡æ ·å™¨ï¼ˆRandomSamplerã€SequentialSamplerå’Œ BatchSamplerï¼‰ä¸€æ ·ï¼ŒPyTorchè‡ªå·±å®ç°äº†å¾ˆå¤š Samplerçš„å­ç±»ï¼Œè¿™äº›é‡‡æ ·å™¨å…¶å®å¯ä»¥å®Œæˆå¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œæ‰€ä»¥æœ¬èŠ‚ä¸»è¦å…³æ³¨ä¸€äº› Samplerçš„å­ç±»ä»¥åŠä»–ä»¬çš„ç”¨æ³•ï¼Œè€Œä¸è¿‡å¤šåœ°è®¨è®ºå¦‚ä½•è‡ªå·±å®ç°ä¸€ä¸ª Samplerã€‚ SequentialSampler SequentialSamplerå°±æ˜¯ä¸€ä¸ªæŒ‰ç…§é¡ºåºè¿›è¡Œé‡‡æ ·çš„é‡‡æ ·å™¨ï¼Œæ¥æ”¶ä¸€ä¸ªæ•°æ®é›†åšå‚æ•°ï¼ˆå®é™…ä¸Šä»»ä½•å¯è¿­ä»£å¯¹è±¡éƒ½å¯ï¼‰ï¼ŒæŒ‰ç…§é¡ºåºå¯¹å…¶è¿›è¡Œé‡‡æ ·ï¼š 1234567from torch.utils.data import SequentialSamplerpseudo_dataset = list(range(10))for data in SequentialSampler(pseudo_dataset): print(data, end=&quot; &quot;)0 1 2 3 4 5 6 7 8 9 RandmSampler RandomSampler å³ä¸€ä¸ªéšæœºé‡‡æ ·å™¨ï¼Œè¿”å›éšæœºé‡‡æ ·çš„å€¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¾ç„¶æ˜¯ä¸€ä¸ªæ•°æ®é›†ï¼ˆæˆ–å¯è¿­ä»£å¯¹è±¡ï¼‰ã€‚è¿˜æœ‰ä¸€ç»„å‚æ•°å¦‚ä¸‹ï¼š replacementï¼šboolå€¼ï¼Œé»˜è®¤æ˜¯ Falseï¼Œè®¾ç½®ä¸º Trueæ—¶è¡¨ç¤ºå¯ä»¥é‡‡å‡ºé‡å¤çš„æ ·æœ¬ num_samplesï¼šåªæœ‰åœ¨ replacementè®¾ç½®ä¸º Trueçš„æ—¶å€™æ‰èƒ½è®¾ç½®æ­¤å‚æ•°ï¼Œè¡¨ç¤ºè¦é‡‡å‡ºæ ·æœ¬çš„ä¸ªæ•°ï¼Œé»˜è®¤ä¸ºæ•°æ®é›†çš„æ€»é•¿åº¦ã€‚æœ‰æ—¶å€™ç”±äº replacementç½® Trueçš„åŸå› å¯¼è‡´é‡å¤æ•°æ®è¢«é‡‡æ ·ï¼Œå¯¼è‡´æœ‰äº›æ•°æ®è¢«é‡‡ä¸åˆ°ï¼Œæ‰€ä»¥å¾€å¾€ä¼šè®¾ç½®ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å€¼ 1234567891011121314151617181920from torch.utils.data import RandomSamplerpseudo_dataset = list(range(10))randomSampler1 = RandomSampler(pseudo_dataset)randomSampler2 = RandomSampler(pseudo_dataset, replacement=True, num_samples=20)print(&quot;for random sampler #1: &quot;)for data in randomSampler1: print(data, end=&quot; &quot;)print(&quot;\\n\\nfor random sampler #2: &quot;)for data in randomSampler2: print(data, end=&quot; &quot;)for random sampler #1: 4 5 2 9 3 0 6 8 7 1 for random sampler #2: 4 9 0 6 9 3 1 6 1 8 5 0 2 7 2 8 6 4 0 6 SubsetRandomSampler SubsetRandomSampler å¯ä»¥è®¾ç½®å­é›†çš„éšæœºé‡‡æ ·ï¼Œå¤šç”¨äºå°†æ•°æ®é›†åˆ†æˆå¤šä¸ªé›†åˆï¼Œæ¯”å¦‚è®­ç»ƒé›†å’ŒéªŒè¯é›†çš„æ—¶å€™ä½¿ç”¨ï¼š 12345678910111213141516171819from torch.utils.data import SubsetRandomSamplerpseudo_dataset = list(range(10))subRandomSampler1 = SubsetRandomSampler(pseudo_dataset[:7])subRandomSampler2 = SubsetRandomSampler(pseudo_dataset[7:])print(&quot;for subset random sampler #1: &quot;)for data in subRandomSampler1: print(data, end=&quot; &quot;)print(&quot;\\n\\nfor subset random sampler #2: &quot;)for data in subRandomSampler2: print(data, end=&quot; &quot;)for subset random sampler #1: 0 4 6 5 3 2 1 for subset random sampler #2: 7 8 9 WeightedRandomSampler WeightedRandomSamplerå’Œ RandomSamplerçš„å‚æ•°ä¸€è‡´ï¼Œä½†æ˜¯ä¸åœ¨ä¼ å…¥ä¸€ä¸ª datasetï¼Œç¬¬ä¸€ä¸ªå‚æ•°å˜æˆäº† weightsï¼Œåªæ¥æ”¶ä¸€ä¸ªä¸€å®šé•¿åº¦çš„ listä½œä¸º weights å‚æ•°ï¼Œè¡¨ç¤ºé‡‡æ ·çš„æƒé‡ï¼Œé‡‡æ ·æ—¶ä¼šæ ¹æ®æƒé‡éšæœºä» list(range(len(weights))) ä¸­é‡‡æ ·ï¼Œå³ WeightedRandomSamplerå¹¶ä¸éœ€è¦ä¼ å…¥æ ·æœ¬é›†ï¼Œè€Œæ˜¯åªåœ¨ä¸€ä¸ªæ ¹æ® weightsé•¿åº¦åˆ›å»ºçš„æ•°ç»„ä¸­é‡‡æ ·ï¼Œæ‰€ä»¥é‡‡æ ·çš„ç»“æœå¯èƒ½éœ€è¦è¿›ä¸€æ­¥å¤„ç†æ‰èƒ½ä½¿ç”¨ã€‚weightsçš„æ‰€æœ‰å…ƒç´ ä¹‹å’Œä¸éœ€è¦ä¸º1ã€‚ 12345678910from torch.utils.data import WeightedRandomSamplerpseudo_dataset = list(range(10))weights = [1,1,1,1,1,10,10,10,10,10]weightedRandomSampler = WeightedRandomSampler(weights, replacement=True, num_samples=20)for data in weightedRandomSampler: print(data, end=&quot; &quot;)7 8 7 7 9 7 8 9 8 7 5 5 9 9 6 5 8 9 6 5 BatchSampler ä»¥ä¸Šçš„å››ä¸ª Sampleråœ¨æ¯æ¬¡è¿­ä»£éƒ½åªè¿”å›ä¸€ä¸ªç´¢å¼•ï¼Œè€Œ BatchSamplerçš„ä½œç”¨æ˜¯å¯¹ä¸Šè¿°è¿™ç±»è¿”å›ä¸€ä¸ªç´¢å¼•çš„é‡‡æ ·å™¨è¿›è¡ŒåŒ…è£…ï¼ŒæŒ‰ç…§è®¾å®šçš„ batch_sizeè¿”å›ä¸€ç»„ç´¢å¼•ï¼Œå› å…¶ä»–çš„å‚æ•°å’Œä¸Šè¿°çš„æœ‰äº›ä¸åŒï¼š samplerï¼šä¸€ä¸ª Samplerå¯¹è±¡ï¼ˆæˆ–è€…ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼‰ batch_sizeï¼šbatchçš„å¤§å° drop_lastï¼šæ˜¯å¦ä¸¢å¼ƒæœ€åä¸€ä¸ªå¯èƒ½ä¸è¶³ batch_sizeå¤§å°çš„æ•°æ® 123456789101112131415161718from torch.utils.data import BatchSamplerpseudo_dataset = list(range(10))batchSampler1 = BatchSampler(pseudo_dataset, batch_size=3, drop_last=False)batchSampler2 = BatchSampler(pseudo_dataset, batch_size=3, drop_last=True)print(&quot;for batch sampler #1: &quot;)for data in batchSampler1: print(data, end=&quot; &quot;)print(&quot;\\n\\nfor batch sampler #2: &quot;)for data in batchSampler2: print(data, end=&quot; &quot;)for batch sampler #1: [0, 1, 2] [3, 4, 5] [6, 7, 8] [9] for batch sampler #2: [0, 1, 2] [3, 4, 5] [6, 7, 8] collate_fn Dataloaderå…¶å®è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„å‚æ•°æ˜¯ collate_fnï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª callableå¯¹è±¡ï¼Œæ¯”å¦‚ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„ä½œç”¨æ˜¯å°†æ¯æ¬¡è¿­ä»£å‡ºæ¥çš„æ•°æ®æ‰“åŒ…æˆ batchã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ Dataloaderä¸­è®¾ç½®äº† batch_sizeä¸º8ï¼Œå®é™…ä¸Šï¼Œä» Dataloaderæ‰€è¯»å–çš„æ•°æ®é›†Datasetä¸­å–å‡ºæ•°æ®æ—¶å¾—åˆ°çš„æ˜¯å•ç‹¬çš„æ•°æ®ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæ¯æ¬¡é‡‡æ ·å¾—åˆ°ä¸€ä¸ª tupleï¼š(image, label)ï¼Œå› æ­¤ collate_fn çš„ä½œç”¨å°±æœ‰äº†ï¼Œå®ƒè´Ÿè´£åŒ…è£… batchï¼Œå³æ¯ä»æ•°æ®é›†ä¸­æŠ½å‡º8ä¸ªè¿™æ ·çš„ tupleï¼Œå®ƒè´Ÿè´£æŠŠ8ä¸ª (image, label)åŒ…è£…æˆä¸€ä¸ª list: [images, labels]ï¼Œè¿™ä¸ª listæœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œæ¯ä¸€ä¸ªæ˜¯ä¸€ä¸ª tensorï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ª 8Ã—size(image) çš„tensorï¼Œå³ç»™åŸæ¥çš„æ•°æ®å¢åŠ äº†ä¸€ç»´ï¼Œä¹Ÿå°±æ˜¯æœ€å‰è¾¹çš„ batchçš„ç»´åº¦ï¼Œlabelsä¹ŸåŒç†ã€‚ æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šéœ€è¦å®ç°è‡ªå·±çš„åŒ…è£…é€»è¾‘ï¼Œæ‰€ä»¥éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥å®Œæˆå®šåˆ¶åŒ–çš„å¦‚ä¸Šçš„å†…å®¹ï¼Œåªè¦å°†è¯¥å‡½æ•°åä¼ é€’ç»™ collate_fnå‚æ•°å³å¯ã€‚ PyTorché›†æˆçš„æ•°æ®é›† å®é™…ä¸Šï¼ŒPyTorchæä¾›äº†å¾ˆå¤šå¸¸ç”¨æ•°æ®é›†çš„æ¥å£ï¼Œå¦‚æœä½¿ç”¨è¿™äº›æ•°æ®é›†çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹åº”çš„åŒ…åŠ è½½ï¼Œä¼šæ–¹ä¾¿å¾ˆå¤šï¼Œæ¯”å¦‚ï¼š torchvision.datasets å°±æä¾›äº†å¾ˆå¤šè§†è§‰æ–¹å‘çš„æ•°æ®é›†ï¼šhttps://pytorch.org/docs/stable/torchvision/datasets.html?highlight=torchvision datasets torchtext åˆ™æä¾›äº†å¾ˆå¤šæ–‡æœ¬å¤„ç†æ–¹å‘çš„æ•°æ®é›† torchaudio æä¾›äº†å¾ˆå¤šéŸ³é¢‘å¤„ç†æ–¹å‘çš„æ•°æ®é›† å½“ç„¶ PyTorchä¹Ÿå¯ä»¥é…åˆå…¶ä»–åŒ…æ¥è·å¾—æ•°æ®ä»¥åŠå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚ï¼š å¯¹äºè§†è§‰æ–¹é¢ï¼Œé…åˆ Pillowã€OpenCVç­‰ å¯¹äºéŸ³é¢‘å¤„ç†æ–¹é¢ï¼Œé…åˆ scipyã€librosaç­‰ å¯¹äºæ–‡æœ¬å¤„ç†æ–¹é¢ï¼Œé…åˆ Cythonã€NLTKã€SpaCyç­‰","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Dataset","slug":"Dataset","permalink":"https://gladdduck.github.io/tags/Dataset/"},{"name":"Dataloader","slug":"Dataloader","permalink":"https://gladdduck.github.io/tags/Dataloader/"},{"name":"Sampler","slug":"Sampler","permalink":"https://gladdduck.github.io/tags/Sampler/"},{"name":"collate_fn","slug":"collate-fn","permalink":"https://gladdduck.github.io/tags/collate-fn/"}]},{"title":"Cypherè¯­è¨€å­¦ä¹ ç¬”è®°","slug":"ç¬”è®°-cyptherå­¦ä¹ ç¬”è®°","date":"2022-11-05T09:16:38.119Z","updated":"2023-11-26T05:20:22.661Z","comments":true,"path":"2022/11/05/ç¬”è®°-cyptherå­¦ä¹ ç¬”è®°/","link":"","permalink":"https://gladdduck.github.io/2022/11/05/%E7%AC%94%E8%AE%B0-cypther%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"","text":"1# CQL:C-ypher Q-uery L-nguage 123# ä¸­æ–‡:http://neo4j.com.cn/public/cypher/default.html# â˜…è‹±æ–‡:https://neo4j.com/docs/cypher-manual/current/introduction/# ä¸­æ–‡:https://www.w3cschool.cn/neo4j/ è¡¨è¾¾å¼ 123456789%%cypherMATCH (n:Person)RETURNCASE WHEN n.born&gt;1980 THEN 1 WHEN n.born&lt;1980 THEN 2 ELSE 3END AS resultlimit 5 [&#123;'result': 2&#125;, &#123;'result': 2&#125;, &#123;'result': 2&#125;, &#123;'result': 2&#125;, &#123;'result': 2&#125;] list 123%%cypherRETURN range(0, 10)[0..-5]//[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]å·¦é—­å³å¼€ [&#123;'range(0, 10)': [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]&#125;] 12%%cypherRETURN [x IN range(0,10) WHERE x % 2 = 0 ] AS result 12%%cypherRETURN [x IN range(0,10) | x^3 ] AS result 123%%cypherMATCH (a:Person &#123;name: &#x27;Keanu Reeves&#x27;&#125;)RETURN [(a)--&gt;(b:Movie) WHERE b.title CONTAINS &#x27;Matrix&#x27; | b.released] AS years [&#123;'years': [1999, 2003, 2003]&#125;] 123456%%cypherMATCH (a:Person &#123;name: &#x27;Keanu Reeves&#x27;&#125;)WITH [(a)--&gt;(b:Movie) | b.released] AS yearsUNWIND years AS yearWITH year ORDER BY yearRETURN COLLECT(year) AS sorted_years [&#123;'sorted_years': [1995, 1997, 1999, 2000, 2003, 2003, 2003]&#125;] map 12345%%cypherMATCH (actor:Person)-[:ACTED_IN]-&gt;(movie:Movie)WITH actor, count(movie) AS nbrOfMoviesRETURN actor&#123;.name, nbrOfMovies&#125;limit 5 [&#123;'actor': &#123;'nbrOfMovies': 1, 'name': 'Emil Eifrem'&#125;&#125;, &#123;'actor': &#123;'nbrOfMovies': 7, 'name': 'Keanu Reeves'&#125;&#125;, &#123;'actor': &#123;'nbrOfMovies': 3, 'name': 'Laurence Fishburne'&#125;&#125;, &#123;'actor': &#123;'nbrOfMovies': 5, 'name': 'Hugo Weaving'&#125;&#125;, &#123;'actor': &#123;'nbrOfMovies': 3, 'name': 'Carrie-Anne Moss'&#125;&#125;] null åŸºç¡€è¯­æ³• å®˜ç½‘ å‘½ä»¤ ä½œç”¨ CREATE åˆ›å»ºèŠ‚ç‚¹\\å…³ç³»\\å±æ€§ MATCH æ£€ç´¢èŠ‚ç‚¹\\å…³ç³»\\å±æ€§ RETURN è¿”å›æŸ¥è¯¢ç»“æœ WHERE æä¾›è¿‡æ»¤æ¡ä»¶ DELETE åˆ é™¤èŠ‚ç‚¹\\å…³ç³» REMOVE åˆ é™¤èŠ‚ç‚¹\\å…³ç³»çš„å±æ€§\\æ ‡ç­¾ ORDER BY æ’åºæ£€ç´¢æ•°æ® SET æ·»åŠ æˆ–æ›´æ–°æ ‡ç­¾ 12%load_ext icypher%cypher http://neo4j:111222@localhost:7474/db/data CREATE åˆ›å»ºæ²¡æœ‰å±æ€§çš„èŠ‚ç‚¹ ä½¿ç”¨å±æ€§åˆ›å»ºèŠ‚ç‚¹ åœ¨æ²¡æœ‰å±æ€§çš„èŠ‚ç‚¹ä¹‹é—´åˆ›å»ºå…³ç³» ä½¿ç”¨å±æ€§åˆ›å»ºèŠ‚ç‚¹ä¹‹é—´çš„å…³ç³» ä¸ºèŠ‚ç‚¹æˆ–å…³ç³»åˆ›å»ºå•ä¸ªæˆ–å¤šä¸ªæ ‡ç­¾ 123%%cypherCREATE (dept:Dept &#123; deptno:10,dname:&#x27;Accounting&#x27;,location:&#x27;è‹å·&#x27;,isperson:true &#125;)//ä¸€ä¸ªèŠ‚ç‚¹å¤šä¸ªå±æ€§ä¸€ä¸ªæ ‡ç­¾ [] 123%%cyphercreate (m:MOVIE:Cinema:Film:Picture&#123;labels:true&#125;)//ä¸€ä¸ªèŠ‚ç‚¹å¤šä¸ªæ ‡ç­¾ [] 1234%%cyphermatch (n:MOVIE:Cinema)return n//åŒºåˆ†å¤§å°å†™ [&#123;'n': Node('Cinema', 'Film', 'MOVIE', 'Picture')&#125;, &#123;'n': Node('Cinema', 'Film', 'MOVIE', 'Picture', labels=True)&#125;] 12345678910111213# é…åˆjsonä½¿ç”¨# &#123;# &#x27;props&#x27; : [ &#123;# &#x27;name&#x27; : &#x27;Andy&#x27;,# &#x27;position&#x27; : &#x27;Developer&#x27;# &#125;, &#123;# &#x27;name&#x27; : &#x27;Michael&#x27;,# &#x27;position&#x27; : &#x27;Developer&#x27;# &#125; ]# &#125;# UNWIND $props AS map# CREATE (n)# SET n = map MATCH ä»æ•°æ®åº“è·å–æœ‰å…³èŠ‚ç‚¹å’Œå±æ€§çš„æ•°æ® ä»æ•°æ®åº“è·å–æœ‰å…³èŠ‚ç‚¹ï¼Œå…³ç³»å’Œå±æ€§çš„æ•°æ® éœ€è¦å’Œåˆ«çš„è¯­å¥æ­é…ä½¿ç”¨ 123%%cypherMATCH (p:Dept &#123;location:&#x27;è‹å·&#x27;&#125;) RETURN p.location//è¿™æ˜¯æ³¨é‡Š ä¸èƒ½æ”¾ä¸Šé¢ [&#123;'p.location': 'è‹å·'&#125;] 12345%%cypherMATCH (p:Dept)WHERE p.location = &#x27;è‹å·&#x27;RETURN p//ç­‰ä»·ä¸Šé¢çš„ [&#123;'p': Node('Dept', deptno=10, dname='Accounting', isperson=True, location='è‹å·')&#125;] 12345%%cypherMATCH (director:Movie)--(movie)RETURN movielimit 5//--è¡¨ç¤ºå…³ç³» ä¸è€ƒè™‘æ–¹å‘(--&gt;)å’Œå±æ€§ [&#123;'movie': Node('Person', born=1978, name='Emil Eifrem')&#125;, &#123;'movie': Node('Person', born=1952, name='Joel Silver')&#125;, &#123;'movie': Node('Person', born=1965, name='Lana Wachowski')&#125;, &#123;'movie': Node('Person', born=1967, name='Lilly Wachowski')&#125;, &#123;'movie': Node('Person', born=1960, name='Hugo Weaving')&#125;] 12345678%%cypherMATCH (wallstreet &#123;title: &#x27;Joe Versus the Volcano&#x27;&#125;)&lt;-[:ACTED_IN|DIRECTED]-(person)RETURN person.namelimit 5//æŸ¥è¯¢å¤šä¸ªå…³ç³»//å¦‚æœå…³ç³»åå­—é‡Œé¢æœ‰ç©ºæ ¼ ç”¨åå¼•å·``//[:TYPE*minHops..maxHops] ä»£è¡¨å…³ç³»çš„é•¿åº¦//shortestPath((martin)-[*..15]-(oliver)) æœ€çŸ­è·¯å¾„,æœ€å¤§é•¿åº¦ä¸º15 [&#123;'person.name': 'Meg Ryan'&#125;, &#123;'person.name': 'Tom Hanks'&#125;, &#123;'person.name': 'John Patrick Stanley'&#125;, &#123;'person.name': 'Nathan Lane'&#125;, &#123;'person.name': 'Meg Ryan'&#125;] 1234%%cypherMATCH (charlie &#123;name: &#x27;Tom Hanks&#x27;&#125;)-[:ACTED_IN]-&gt;(movie)&lt;-[:DIRECTED]-(director)RETURN movie.title, director.namelimit 5 [&#123;'movie.title': &quot;You've Got Mail&quot;, 'director.name': 'Nora Ephron'&#125;, &#123;'movie.title': 'Sleepless in Seattle', 'director.name': 'Nora Ephron'&#125;, &#123;'movie.title': 'Joe Versus the Volcano', 'director.name': 'John Patrick Stanley'&#125;, &#123;'movie.title': 'That Thing You Do', 'director.name': 'Tom Hanks'&#125;, &#123;'movie.title': 'Cloud Atlas', 'director.name': 'Tom Tykwer'&#125;] 12# OPTIONAL MATCH # using nulls for missing parts RETURN æ£€ç´¢èŠ‚ç‚¹çš„æŸäº›å±æ€§ æ£€ç´¢èŠ‚ç‚¹çš„æ‰€æœ‰å±æ€§ æ£€ç´¢èŠ‚ç‚¹å’Œå…³è”å…³ç³»çš„æŸäº›å±æ€§ æ£€ç´¢èŠ‚ç‚¹å’Œå…³è”å…³ç³»çš„æ‰€æœ‰å±æ€§ éœ€è¦å’Œåˆ«çš„è¯­å¥æ­é…ä½¿ç”¨ 1# return * return æ‰€æœ‰å‡ºç°è¿‡çš„å˜é‡ 12345%%cypherMATCH (`This isn\\&#x27;t a common variable`)WHERE `This isn\\&#x27;t a common variable`.name = &#x27;Kiefer Sutherland&#x27;RETURN `This isn\\&#x27;t a common variable`.born as othername//DISTINCT è¿”å›ä¸é‡å¤çš„å€¼ [&#123;'othername': 1966&#125;, &#123;'othername': 1966&#125;] CREATE+MATCH+RETURN 12%%cypherCREATE (e:Customer&#123;id:&#x27;1001&#x27;,name:&#x27;Abc&#x27;,dob:&#x27;01/10/1982&#x27;&#125;) [] 12%%cypherCREATE (cc:CreditCard&#123;id:&#x27;5001&#x27;,number:&#x27;1234567890&#x27;,cvv:&#x27;888&#x27;,expiredate:&#x27;20/17&#x27;&#125;) [] 1# 1. ä½¿ç”¨ç°æœ‰èŠ‚ç‚¹åˆ›å»ºæ²¡æœ‰å±æ€§çš„å…³ç³» 1234567%%cyphermatch (e:Customer),(cc:CreditCard)create (e)-[r:DO_SHOPPING_WITH]-&gt;(cc)RETURN r//ä¸åŠ return ä¹Ÿå¯ä»¥//åªèƒ½åˆ›å»ºæœ‰å‘å…³ç³»,æŸ¥è¯¢çš„æ—¶å€™å¯ä»¥æŸ¥åŒå‘å…³ç³» [&#123;'r': DO_SHOPPING_WITH(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890'))&#125;] 123%%cypherMATCH (e:Customer)-[r ]-&gt;(cc) RETURN r [&#123;'r': second_relation(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890'))&#125;, &#123;'r': DO_SHOPPING_WITH(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890'))&#125;] 1234%%cypherMATCH whole=(e)-[r ]-&gt;(cc:Movie) RETURN wholelimit 5 [&#123;'whole': Path(Node('Person', born=1978, name='Emil Eifrem'), ACTED_IN(Node('Person', born=1978, name='Emil Eifrem'), Node('Movie', released=1999, tagline='Welcome to the Real World', title='The Matrix')))&#125;, &#123;'whole': Path(Node('Person', born=1952, name='Joel Silver'), PRODUCED(Node('Person', born=1952, name='Joel Silver'), Node('Movie', released=1999, tagline='Welcome to the Real World', title='The Matrix')))&#125;, &#123;'whole': Path(Node('Person', born=1965, name='Lana Wachowski'), DIRECTED(Node('Person', born=1965, name='Lana Wachowski'), Node('Movie', released=1999, tagline='Welcome to the Real World', title='The Matrix')))&#125;, &#123;'whole': Path(Node('Person', born=1967, name='Lilly Wachowski'), DIRECTED(Node('Person', born=1967, name='Lilly Wachowski'), Node('Movie', released=1999, tagline='Welcome to the Real World', title='The Matrix')))&#125;, &#123;'whole': Path(Node('Person', born=1960, name='Hugo Weaving'), ACTED_IN(Node('Person', born=1960, name='Hugo Weaving'), Node('Movie', released=1999, tagline='Welcome to the Real World', title='The Matrix')))&#125;] 1# 2. ä½¿ç”¨ç°æœ‰èŠ‚ç‚¹åˆ›å»ºæœ‰å±æ€§çš„å…³ç³» 1234%%cyphermatch (e:Customer),(cc:CreditCard)create (e)-[r:DO_SHOPPING_WITH&#123;shopdata:&#x27;12/12/2014&#x27;,price:5500&#125;]-&gt;(cc)RETURN r [&#123;'r': DO_SHOPPING_WITH(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890'), price=5500, shopdata='12/12/2014')&#125;] 12# 3.ä½¿ç”¨æ–°èŠ‚ç‚¹åˆ›å»ºæœ‰/æ— å±æ€§çš„å…³ç³»# å’Œ1.2.çš„åŒºåˆ«æ˜¯ 1.2.éœ€è¦å…ˆmatch 123%%cyphercreate (fb1:FaceBookProfile)-[like:LIKES]-&gt;(fb2:FaceBookProfile)//åˆ›å»ºäº†ä¸¤ä¸ªæ–°èŠ‚ç‚¹å–ä¸€ä¸ªæ–°å…³ç³» [] 1234%%cyphercreate (video1:YoutubeVideo&#123;title:&#x27;Action Movie1&#x27;,update_by:&#x27;Abc&#x27;,uploaded_data:&#x27;10/10/2010&#x27;&#125;)-[movie:ACTION_MOVIES&#123;rating:1&#125;]-&gt;(video2:YoutubeVideo&#123;title:&#x27;Action Movie2&#x27;,update_by:&#x27;Xyz&#x27;,uploaded_data:&#x27;12/12/2012&#x27;&#125;) [] 123%%cyphermatch (cust)-[r:DO_SHOPPING_WITH]-&gt;(cc)return cust,r,cc [&#123;'cust': Node('Customer', dob='01/10/1982', id='1001', name='Abc'), 'r': DO_SHOPPING_WITH(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890')), 'cc': Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890')&#125;, &#123;'cust': Node('Customer', dob='01/10/1982', id='1001', name='Abc'), 'r': DO_SHOPPING_WITH(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890')), 'cc': Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890')&#125;, &#123;'cust': Node('Customer', dob='01/10/1982', id='1001', name='Abc'), 'r': DO_SHOPPING_WITH(Node('Customer', dob='01/10/1982', id='1001', name='Abc'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890'), price=5500, shopdata='12/12/2014'), 'cc': Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890')&#125;] WHERE 1234WHERE &lt;condition&gt; &lt;boolean-operator&gt; &lt;condition&gt; &lt;condition&gt;: &lt;property-name&gt; &lt;comparison-operator&gt; &lt;value&gt; &lt;comparison-operator&gt;: =/&lt;&gt;/&lt;/&gt;/&lt;=/&gt;=/=~(æ­£åˆ™)&lt;boolean-operator&gt;: AND/OR/NOT/XOR 12345%%cypherMATCH (emp:YoutubeVideo) WHERE emp.aaaaa = &#x27;Xyz&#x27;RETURN id(emp)//æ²¡æœ‰çš„å±æ€§è®¤ä¸ºFalse [] 12345%%cypherMATCH (emp:YoutubeVideo) WHERE emp.update_by = &#x27;Abc&#x27; OR emp.update_by = &#x27;Xyz&#x27;RETURN id(emp)//æŸ¥è¯¢ [&#123;'id(emp)': 231&#125;, &#123;'id(emp)': 232&#125;] 1234567%%cyphermatch (n:Dept),(c:CreditCard)where n.location=&#x27;è‹å·&#x27; and c.cvv=&#x27;888&#x27;create (n)-[r:no_relations&#123;prop:&#x27;éšæœºåˆ›å»ºçš„&#x27;&#125;]-&gt;(c)return r//åˆ›å»º æ•°å­—ä¹Ÿè¦ç”¨&#x27;&#x27;,ç›´æ¥888æŸ¥ä¸åˆ°,åˆ›å»ºçš„æ—¶å€™ç”¨&#x27;&#x27;äº† [&#123;'r': no_relations(Node('Dept', deptno=10, dname='Accounting', isperson=True, location='è‹å·'), Node('CreditCard', cvv='888', expiredate='20/17', id='5001', number='1234567890'), prop='éšæœºåˆ›å»ºçš„')&#125;] 12345678%%cypherMATCH (n:Person)WHERE n[&#x27;born&#x27;] &gt; 1980RETURN n.name, n.bornlimit 5//n.name CONTAINS &#x27;ete&#x27;//n.name ENDS WITH &#x27;ter&#x27;//WHERE n.name STARTS WITH &#x27;Pet&#x27; [&#123;'n.name': 'Jonathan Lipnicki', 'n.born': 1996&#125;, &#123;'n.name': 'Natalie Portman', 'n.born': 1981&#125;, &#123;'n.name': 'Emile Hirsch', 'n.born': 1985&#125;, &#123;'n.name': 'Rain', 'n.born': 1982&#125;, &#123;'n.name': 'Jonathan Lipnicki', 'n.born': 1996&#125;] 123456%%cypherMATCH (n:Person)-[r]-&gt;()WHERE n.name=&#x27;Angela Scope&#x27; AND type(r) =~ &#x27;F.*&#x27;RETURN type(r), rlimit 5//Aå¼€å¤´çš„å…³ç³» [&#123;'type(r)': 'FOLLOWS', 'r': FOLLOWS(Node('Person', name='Angela Scope'), Node('Person', name='Jessica Thompson'))&#125;, &#123;'type(r)': 'FOLLOWS', 'r': FOLLOWS(Node('Person', name='Angela Scope'), Node('Person', name='Jessica Thompson'))&#125;] 12345678%%cypherMATCH (person:Person),(f:Person)WHERE EXISTS &#123; MATCH (person)-[:FOLLOWS]-&gt;(f) WHERE person.name = &#x27;Paul Blythe&#x27; &#125;RETURN f.name AS name//åµŒå¥—æŸ¥è¯¢ å†…å±‚å¯ç”¨å¤–å±‚å˜é‡ [&#123;'name': 'Angela Scope'&#125;, &#123;'name': 'Angela Scope'&#125;] DELETE åˆ é™¤èŠ‚ç‚¹ åˆ é™¤å…³ç³» 12%%cypherMATCH (e:Film) delete e [] 123%%cyphermatch (n:Customer)-[r]-(c:CreditCard) delete n,c,r//åˆ é™¤èŠ‚ç‚¹æ—¶å¿…è¦ä¿è¯èŠ‚ç‚¹æ²¡æœ‰å…¶ä»–çš„å…³ç³»ç›¸è¿ [] 1234%%cypherMATCH (n:Movie)DETACH DELETE n//åˆ é™¤èŠ‚ç‚¹å’Œç›¸è¿çš„å…³ç³» [] 12%%cyphermatch (n)-[r]-(c:Dept) return r [] REMOVW åˆ é™¤èŠ‚ç‚¹æˆ–å…³ç³»çš„æ ‡ç­¾ åˆ é™¤èŠ‚ç‚¹æˆ–å…³ç³»çš„å±æ€§ keys(n) æŸ¥çœ‹nçš„æ‰€æœ‰å±æ€§ labels(n) æŸ¥çœ‹nçš„æ‰€æœ‰æ ‡ç­¾ 1234%%cyphercreate (book:Book &#123;id:122,title:&#x27;Neo4j TUtorial&#x27;,pages:333,price:250&#125;)return book [&#123;'book': Node('Book', id=122, pages=333, price=250, title='Neo4j TUtorial')&#125;] 12345%%cyphermatch (book:Book&#123;id:122&#125;)remove book.noattrreturn book//æ²¡æœ‰è¿™ä¸ªå±æ€§ä¹Ÿå¯ä»¥ [&#123;'book': Node('Book', id=122, pages=333, title='Neo4j TUtorial')&#125;] 1234%%cyphermatch (n:label1)remove n:label1return n [&#123;'n': Node('label2', 'label3', 'label4', labels=True)&#125;] SET å‘ç°æœ‰èŠ‚ç‚¹æˆ–å…³ç³»æ·»åŠ æ–°å±æ€§ æ·»åŠ æˆ–æ›´æ–°å±æ€§å€¼ 12345%%cyphermatch (n:Dept)set n.dname=&#x27;å¸…å“¥&#x27; ,n.type=&#x27;666&#x27;return n//æœ‰å°±ä¿®æ”¹ æ²¡æœ‰æ·»åŠ  [&#123;'n': Node('Dept', deptno=10, dname='å¸…å“¥', location='Hyderabad', type='666')&#125;, &#123;'n': Node('Dept', deptno=10, dname='å¸…å“¥', isperson=True, location='è‹å·', type='666')&#125;] 12345%%cypherMATCH (book:Book&#123;&#125;) SET book+=&#123;title:&#x27;neo4j tutorial&#x27;&#125;return book//book=&#123;offline:True&#125;ä¼šæŠŠåŸæœ‰æ˜¯å±æ€§å€¼å…¨éƒ¨åˆ æ‰ book+=&#123;offline:True&#125; ä¸ä¼šåˆ é™¤åŸæœ‰å±æ€§ æ–°å¢ä¸€ä¸ªå±æ€§ [&#123;'book': Node('Book', offline=True, title='neo4j tutorial')&#125;] 123%%cypherMATCH (book:Book&#123;&#125;) SET book:Knowledge RETURN book//æ–°å¢ä¸€ä¸ªæ ‡ç­¾ [&#123;'book': Node('Book', 'Knowledge', offline=True, title='neo4j tutorial')&#125;] 12345%%cypherMATCH (book:Book&#123;&#125;) SET book.addtitle=book.titleremove book.titlereturn book [&#123;'book': Node('Book', 'Knowledge', addtitle='neo4j tutorial', offline=True)&#125;, &#123;'book': Node('Book')&#125;, &#123;'book': Node('Book', addtitle='neo4j start', offline=True)&#125;, &#123;'book': Node('Book', addtitle='neo4j end', offline=False)&#125;] 12345%%cypherMATCH (n &#123;dname: &#x27;å¸…å“¥&#x27;&#125;)SET (CASE WHEN n.type = 666 THEN n END).worksIn = &#x27;Malmo&#x27;RETURN n//åªæœ‰n.type = 666 æ‰è®¾ç½® [&#123;'n': Node('Dept', deptno=10, dname='å¸…å“¥', location='Hyderabad', type='666')&#125;, &#123;'n': Node('Dept', deptno=10, dname='å¸…å“¥', isperson=True, location='è‹å·', type='666')&#125;] 123456789# &#123;# &#x27;props&#x27; : &#123;# &#x27;name&#x27; : &#x27;Andy&#x27;,# &#x27;position&#x27; : &#x27;Developer&#x27;# &#125;# &#125;# MATCH (n &#123;name: &#x27;Andy&#x27;&#125;)# SET n = $props# RETURN n.name, n.position, n.age, n.hungry ORDER BY é»˜è®¤æ˜¯å‡åºæ’åˆ— DESCæ”¹ä¸ºé™åº 123456%%cyphermatch (movie:Movie)return movie.released,movie.titleorder by movie.released DESC , movie.titlelimit 15//å¤šä¸ªå±æ€§æ’åˆ— [&#123;'movie.released': None, 'movie.title': 'The Matrix'&#125;, &#123;'movie.released': None, 'movie.title': 'The Matrix'&#125;, &#123;'movie.released': None, 'movie.title': 'The Matrix Reloaded'&#125;, &#123;'movie.released': None, 'movie.title': 'The Matrix Reloaded'&#125;, &#123;'movie.released': None, 'movie.title': 'The Matrix Revolutions'&#125;, &#123;'movie.released': None, 'movie.title': 'The Matrix Revolutions'&#125;] UNION [ALL] å°†ä¸¤ä¸ªä¸åŒçš„ç»“æœåˆå¹¶ 123456%%cyphercreate (n:CreditCard&#123;id:1,name:&#x27;ABX XYZ&#x27;,number:&#x27;1234567890&#x27;,cvv:1230,valid_from:&#x27;6/14&#x27;,valid_to:&#x27;6/24&#x27;&#125;),(n1:CreditCard&#123;id:2,name:&#x27;ABX1 XYZ1&#x27;,number:&#x27;1234567891&#x27;,cvv:1231,valid_from:&#x27;6/141&#x27;,valid_to:&#x27;6/241&#x27;&#125;),(n2:CreditCard&#123;id:3,name:&#x27;ABX2 XYZ2&#x27;,number:&#x27;1234567892&#x27;,cvv:1232,valid_from:&#x27;6/142&#x27;,valid_to:&#x27;6/242&#x27;&#125;),(n3:CreditCard&#123;id:4,name:&#x27;ABX3 XYZ3&#x27;,number:&#x27;1234567893&#x27;,cvv:1233,valid_from:&#x27;6/143&#x27;,valid_to:&#x27;6/243&#x27;&#125;),(n4:CreditCard&#123;id:5,name:&#x27;ABX XYZ&#x27;,number:&#x27;1234567890&#x27;,cvv:123,valid_from:&#x27;6/14&#x27;,valid_to:&#x27;6/24&#x27;&#125;) 123456%%cyphercreate (n:DebitCard&#123;id:1,name:&#x27;ABX XYZ&#x27;,number:&#x27;1234567890&#x27;,cvv:1230,valid_from:&#x27;6/14&#x27;,valid_to:&#x27;6/24&#x27;&#125;),(n1:CreditCard&#123;id:11,name:&#x27;ABX1 XYZ1&#x27;,number:&#x27;1234567891&#x27;,cvv:1231,valid_from:&#x27;6/141&#x27;,valid_to:&#x27;6/241&#x27;&#125;),(n2:CreditCard&#123;id:12,name:&#x27;ABX2 XYZ2&#x27;,number:&#x27;1234567892&#x27;,cvv:1232,valid_from:&#x27;6/142&#x27;,valid_to:&#x27;6/242&#x27;&#125;),(n3:CreditCard&#123;id:13,name:&#x27;ABX3 XYZ3&#x27;,number:&#x27;1234567893&#x27;,cvv:1233,valid_from:&#x27;6/143&#x27;,valid_to:&#x27;6/243&#x27;&#125;),(n4:CreditCard&#123;id:14,name:&#x27;ABX XYZ&#x27;,number:&#x27;1234567890&#x27;,cvv:123,valid_from:&#x27;6/14&#x27;,valid_to:&#x27;6/24&#x27;&#125;) 1234567%%cyphermatch (cc:CreditCard) return cc.id as id ,cc.number as numberUNION match (dc:DebitCard) return dc.id as id ,dc.number as number//è‡ªåŠ¨å»æ‰é‡å¤ä»è¡Œ ä¸ç”¨as//è¿™é‡Œæ—¢æœ‰ä¿¡ç”¨å¡å¼å’Œå€Ÿè®°å¡å…·æœ‰ç›¸åŒçš„å±æ€§åï¼šèº«ä»½è¯å’Œå·ç ï¼Œä½†ä»–ä»¬æœ‰ä¸åŒçš„èŠ‚ç‚¹åç§°å‰ç¼€ã€‚//è¿™å°±æ˜¯ä¸ºä»€ä¹ˆUNIONå‘½ä»¤æ˜¾ç¤ºæ­¤é”™è¯¯æ¶ˆæ¯ã€‚ä¸ºäº†é¿å…è¿™ç§é”™è¯¯ï¼ŒNeo4jçš„CQLæä¾›â€œASâ€å­å¥ã€‚ [&#123;'id': '5001', 'number': '1234567890'&#125;, &#123;'id': 1, 'number': '1234567890'&#125;, &#123;'id': 2, 'number': '1234567891'&#125;, &#123;'id': 3, 'number': '1234567892'&#125;, &#123;'id': 4, 'number': '1234567893'&#125;, &#123;'id': 5, 'number': '1234567890'&#125;, &#123;'id': 11, 'number': '1234567891'&#125;, &#123;'id': 12, 'number': '1234567892'&#125;, &#123;'id': 13, 'number': '1234567893'&#125;, &#123;'id': 14, 'number': '1234567890'&#125;] 12345%%cyphermatch (cc:CreditCard) return cc.id as id ,cc.number as numberUNION ALLmatch (dc:DebitCard) return dc.id as id ,dc.number as number//æ˜¾ç¤ºæ‰€æœ‰çš„è¡Œ [&#123;'id': '5001', 'number': '1234567890'&#125;, &#123;'id': 1, 'number': '1234567890'&#125;, &#123;'id': 2, 'number': '1234567891'&#125;, &#123;'id': 3, 'number': '1234567892'&#125;, &#123;'id': 4, 'number': '1234567893'&#125;, &#123;'id': 5, 'number': '1234567890'&#125;, &#123;'id': 11, 'number': '1234567891'&#125;, &#123;'id': 12, 'number': '1234567892'&#125;, &#123;'id': 13, 'number': '1234567893'&#125;, &#123;'id': 14, 'number': '1234567890'&#125;, &#123;'id': 1, 'number': '1234567890'&#125;] LIMIT &amp; SKIP limit n åªå–ç»“æœçš„å‰nè¡Œ skip n è·³è¿‡ç»“æœçš„å‰nè¡Œ å¯ä»¥æ”¾åœ¨ä¸€èµ·ç”¨ limit/skip 1 + toInteger(3 * rand()) MERGE MERGEå‘½ä»¤åœ¨å›¾ä¸­æœç´¢ç»™å®šæ¨¡å¼ å¦‚æœå­˜åœ¨ï¼Œåˆ™è¿”å›ç»“æœ å¦‚æœå®ƒä¸å­˜åœ¨äºå›¾ä¸­ï¼Œåˆ™å®ƒåˆ›å»ºæ–°çš„èŠ‚ç‚¹/å…³ç³»å¹¶è¿”å›ç»“æœã€‚ 123%%cyphermatch (gp:GoogleProfile&#123; Id: 201402,Name:&#x27;Nokia&#x27;&#125;)return id(gp) [] 123%%cypherMERGE (gp:GoogleProfile&#123; Id: 201402,Name:&#x27;Nokia&#x27;&#125;)return id(gp) [&#123;'id(gp)': 248&#125;] 123%%cyphermerge (gp:GoogleProfile&#123;Id:201402,Name:&#x27;Nokia&#x27;&#125;)return id(gp) [&#123;'id(gp)': 248&#125;] 123456%%cypherMERGE (keanu:Person &#123;name: &#x27;mergecreated&#x27;&#125;)ON CREATE SET keanu.created = timestamp()RETURN keanu.name, keanu.created//å¦‚æœæ²¡æœ‰å°±ä¼šåˆ›å»º å¹¶æ·»åŠ ä¸€ä¸ªtimestamp [&#123;'keanu.name': 'mergecreated', 'keanu.created': 1667637911668&#125;] 1234567%%cypherMERGE (person:Person&#123;name: &#x27;mergecreatedfound&#x27;&#125;)ON MATCH SET person.found = trueRETURN person.name, person.foundlimit 5//å¦‚æœæ‰¾åˆ°äº†å°±æ·»åŠ  æ²¡æ‰¾åˆ°å°±ä¸æ·»åŠ found [&#123;'person.name': 'mergecreatedfound', 'person.found': True&#125;] 12345678%%cypherMERGE (keanu:Person &#123;name: &#x27;Keanu Reeves&#x27;&#125;)ON CREATE SET keanu.created = timestamp()ON MATCH SET keanu.lastSeen = timestamp()RETURN keanu.name, keanu.created, keanu.lastSeen//æœ‰å°±æ˜¯lastSeen,æ²¡æœ‰å°±æ˜¯created [&#123;'keanu.name': 'Keanu Reeves', 'keanu.created': None, 'keanu.lastSeen': 1667638041825&#125;] 12345%%cypherMATCH (person:Person)MERGE (city:City &#123;name: person.bornIn&#125;)MERGE (person)-[r:BORN_IN]-&gt;(city)RETURN person.name, person.bornIn, city 1234567# CREATE CONSTRAINT ON (n:Person) ASSERT n.name IS UNIQUE;# CREATE CONSTRAINT ON (n:Person) ASSERT n.role IS UNIQUE;# For example, given two unique constraints on :Person(id) and :Person(ssn), # a query such as MERGE (n:Person &#123;id: 12, ssn: 437&#125;) will fail, # if there are two different nodes (one with id 12 and one with ssn 437) # or if there is only one node with only one of the properties. # In other words, there must be exactly one node that matches the pattern, or no matching nodes. NULLå€¼ 12%%cyphercreate (n:Book) [] 1234%%cypherMATCH (e:Book) RETURN e.offline,e.title,e.sal// None å°±æ˜¯NULL [&#123;'e.offline': True, 'e.title': 'neo4j tutorial', 'e.sal': None&#125;, &#123;'e.offline': None, 'e.title': None, 'e.sal': None&#125;] 12345%%cyphermatch (book:Book)where book.offline is not nullreturn book//where book.offline is null [&#123;'book': Node('Book', 'Knowledge', offline=True, title='neo4j tutorial')&#125;] IN åŒ python IN 1234%%cypherMATCH (e:Book) WHERE e.offline IN [true]RETURN e [&#123;'e': Node('Book', 'Knowledge', offline=True, title='neo4j tutorial')&#125;, &#123;'e': Node('Book', offline=True, title='neo4j start')&#125;] CQLå‡½æ•° å®˜ç½‘ 12%%cypherreturn datetime() [&#123;'datetime()': '2022-11-04T07:36:17.068Z'&#125;] 123%%cypherSHOW FUNCTIONS yield name,category,descriptionlimit 5 1234%%cypherMATCH (a)-[movie:ACTED_IN]-&gt;(b) RETURN STARTNODE(movie),ENDNODE(movie)limit 5 [&#123;'STARTNODE(movie)': Node('Person', born=1964, name='Keanu Reeves'), 'ENDNODE(movie)': Node('Movie', released=2003, title=&quot;Something's Gotta Give&quot;)&#125;, &#123;'STARTNODE(movie)': Node('Person', born=1964, name='Keanu Reeves'), 'ENDNODE(movie)': Node('Movie', released=2000, tagline='Pain heals, Chicks dig scars... Glory lasts forever', title='The Replacements')&#125;, &#123;'STARTNODE(movie)': Node('Person', born=1964, name='Keanu Reeves'), 'ENDNODE(movie)': Node('Movie', released=1995, tagline='The hottest data on earth. In the coolest head in town', title='Johnny Mnemonic')&#125;, &#123;'STARTNODE(movie)': Node('Person', born=1964, name='Keanu Reeves'), 'ENDNODE(movie)': Node('Movie', released=1997, tagline='Evil has its winning ways', title=&quot;The Devil's Advocate&quot;)&#125;, &#123;'STARTNODE(movie)': Node('Person', born=1964, name='Keanu Reeves'), 'ENDNODE(movie)': Node('Movie', released=2003, tagline='Everything that has a beginning has an end', title='The Matrix Revolutions')&#125;] 12345%%cypherMATCH (a)-[movie:ACTED_IN]-&gt;(b) RETURN ID(movie),TYPE(movie)limit 5//type åªèƒ½çœ‹relation [&#123;'ID(movie)': 221, 'TYPE(movie)': 'ACTED_IN'&#125;, &#123;'ID(movie)': 114, 'TYPE(movie)': 'ACTED_IN'&#125;, &#123;'ID(movie)': 132, 'TYPE(movie)': 'ACTED_IN'&#125;, &#123;'ID(movie)': 22, 'TYPE(movie)': 'ACTED_IN'&#125;, &#123;'ID(movie)': 15, 'TYPE(movie)': 'ACTED_IN'&#125;] åˆ›å»ºç´¢å¼• 12%%cypherCREATE INDEX ON :Movie (title) [] 12%%cypherDROP INDEX ON :Movie (title) [] åˆ›å»ºçº¦æŸ 1234%%cypherMATCH (cc:CreditCard) RETURN cc.id,cc.number,cc.name,cc.expiredate,cc.cvvlimit 5 1234%%cypherCREATE CONSTRAINT ON (cc:CreditCard)ASSERT cc.id IS UNIQUE//å¦‚æœå·²ç»å­˜åœ¨é‡å¤çš„å°±ä¸èƒ½åˆ›å»º,æŠŠé‡å¤çš„åˆ é™¤ [] 123%%cyphercreate (cc:CreditCard&#123;id:666&#125;)//Node(246) already exists with label `CreditCard` and property `id` = 14 [] 123%%cypherDROP CONSTRAINT ON (cc:CreditCard)ASSERT cc.id IS UNIQUE [] 12%%cyphercreate (cc:CreditCard&#123;id:666&#125;) [] è¡¥å…… WITH allows query parts to be chained together 12345%%cypherMATCH (david &#123;name: &#x27;Jessica Thompson&#x27;&#125;)--(otherPerson)--()WITH otherPerson, count(*) AS foafWHERE foaf &gt; 0RETURN otherPerson.name [&#123;'otherPerson.name': 'Angela Scope'&#125;, &#123;'otherPerson.name': 'Angela Scope'&#125;] UNWIND expands a list into a sequence of rows. 123%%cypherUNWIND [1, 2, 3, null] AS xRETURN x, &#x27;val&#x27; AS y [&#123;'x': 1, 'y': 'val'&#125;, &#123;'x': 2, 'y': 'val'&#125;, &#123;'x': 3, 'y': 'val'&#125;, &#123;'x': None, 'y': 'val'&#125;] 123456%%cypherWITH [1, 1, 2, 2] AS collUNWIND coll AS xWITH DISTINCT xRETURN collect(x) AS setOfVals//åˆ—è¡¨å»é‡ [&#123;'setOfVals': [1, 2]&#125;] 123456%%cypherWITH [1, 2] AS a, [3, 4] AS bUNWIND (a + b) AS xRETURN x [&#123;'x': 1&#125;, &#123;'x': 2&#125;, &#123;'x': 3&#125;, &#123;'x': 4&#125;] 123456%%cypherWITH [[1, 2], [3, 4], 5] AS nestedUNWIND nested AS xUNWIND x AS yRETURN y//ä¸¤é‡å¾ªç¯ [&#123;'y': 1&#125;, &#123;'y': 2&#125;, &#123;'y': 3&#125;, &#123;'y': 4&#125;, &#123;'y': 5&#125;] 123456789%%cypherWITH [] AS listUNWIND CASE WHEN list = [] THEN [null] ELSE list END AS emptylistRETURN emptylist//é¿å…åˆ—è¡¨ä¸ºç©º [&#123;'emptylist': None&#125;] FOREACH 1234%%cypherMATCH p=(start)-[*]-&gt;(finish)WHERE start.name = &#x27;Tom Hanks&#x27; AND finish.title starts with &#x27;C&#x27;FOREACH (n IN nodes(p) | SET n.marked = true) 1234%%cypherMATCH (a &#123;name: &#x27;Tom Hanks&#x27; &#125;)FOREACH (name IN [&#x27;Mike&#x27;, &#x27;Carl&#x27;, &#x27;Bruce&#x27;] |CREATE (a)-[:FRIEND]-&gt;(:Person &#123;name: name&#125;)) [] CALL CALL {} CALL procedure 1234567%%cypherUNWIND [0, 1, 2] AS xCALL &#123; WITH x RETURN x * 10 AS y&#125;RETURN x, y [&#123;'x': 0, 'y': 0&#125;, &#123;'x': 1, 'y': 10&#125;, &#123;'x': 2, 'y': 20&#125;] LOAD CSV LOAD CSV FROM â€˜file:///artists.csvâ€™ AS line -æ­£å¸¸æ•°æ® USING PERIODIC COMMIT 1000 LOAD CSV FROM â€˜file:///artists.csvâ€™ AS line -å¤§æ•°æ®,1000æäº¤ä¸€æ¬¡äº‹ç‰© 12# SHOW PROCEDURES YIELD *.# SHOW FUNCTIONS YIELD *.","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Cypher","slug":"Cypher","permalink":"https://gladdduck.github.io/tags/Cypher/"}]},{"title":"Neo4jæµè§ˆå™¨ç«¯å¿«æ·é”®","slug":"æ‚è°ˆ-Neo4jæµè§ˆå™¨ç«¯å¿«æ·é”®","date":"2022-11-04T09:24:08.889Z","updated":"2023-11-26T05:21:56.934Z","comments":true,"path":"2022/11/04/æ‚è°ˆ-Neo4jæµè§ˆå™¨ç«¯å¿«æ·é”®/","link":"","permalink":"https://gladdduck.github.io/2022/11/04/%E6%9D%82%E8%B0%88-Neo4j%E6%B5%8F%E8%A7%88%E5%99%A8%E7%AB%AF%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"","text":"1ã€ æ‰§è¡Œå½“å‰å‘½ä»¤ï¼š ctrl+enter 2ã€ å†å²ä¸Šä¸€ä¸ªå‘½ä»¤ï¼šctrl+å‘ä¸Šç®­å¤´ 3ã€ åˆ‡æ¢åˆ°å¤šè¡Œç¼–è¾‘ï¼šshift+enter 4ã€ å°†ç„¦ç‚¹è½¬ç§»åˆ°ç¼–è¾‘å™¨ï¼š / 5ã€ åˆ‡æ¢åˆ°å…¨å±ç¼–è¾‘ï¼š esc","categories":[{"name":"å¿«æ·å‘½ä»¤","slug":"å¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/categories/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}],"tags":[{"name":"Neo4jå¿«æ·å‘½ä»¤","slug":"Neo4jå¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/tags/Neo4j%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}]},{"title":"Neo4j&JDKå®‰è£…è¸©å‘","slug":"é…ç½®-Neo4jå®‰è£…","date":"2022-11-03T09:31:04.917Z","updated":"2022-11-03T10:35:37.710Z","comments":true,"path":"2022/11/03/é…ç½®-Neo4jå®‰è£…/","link":"","permalink":"https://gladdduck.github.io/2022/11/03/%E9%85%8D%E7%BD%AE-Neo4j%E5%AE%89%E8%A3%85/","excerpt":"","text":"å‰è¨€ æœ€è¿‘è¦å¼€å§‹æ‰“å·¥äº† ğŸ˜Ÿ ğŸ˜Ÿ ğŸ˜Ÿ ğŸ˜Ÿ åˆ›å»ºä¸€ä¸ªçŸ¥è¯†å›¾è°±(å¯è§†åŒ–)åµŒå…¥åˆ°ä¸€ä¸ªç³»ç»Ÿé‡Œé¢,å½“ä½œå­ç³»ç»Ÿ. æœŸå¾…çš„æ•ˆæœæ˜¯ç™¾åº¦ç™¾ç§‘å½±è§†å›¾è°±,ä»»åŠ¡å¤ªè‰°å·¨äº†. ğŸ˜” ğŸ˜” ğŸ˜” ğŸ˜” å¦‚æœä½ çœ‹åˆ°äº†è¿™ç¯‡åšå®¢,æœ‰å¥½çš„è§£å†³æ–¹æ¡ˆéƒ½å¯ä»¥å¸®å¸®æˆ‘. ğŸ˜˜ ğŸ˜˜ ğŸ˜˜ ğŸ˜˜ æ­£æ–‡ è¸©å‘ ğŸ˜­ğŸ˜­ğŸ˜­ğŸ˜­ é—®é¢˜: 123æƒ³åˆ›å»ºå¤šä¸ªæ•°æ®åº“ç”¨,åˆšå¼€å§‹é»˜è®¤æœ‰ä¸¤ä¸ª,ä¸€ä¸ªneo4j,ä¸€ä¸ªsystem.å¸Œæœ›åˆ›å»ºåˆ«çš„æ•°æ®åº“.æ¯”å¦‚: ç½‘ä¸Šæœç´¢äº†å¾ˆå¤šåŠæ³•,æœ€å‘çš„ä¸€ä¸ª: 12åˆ›å»º:create database nameåˆ é™¤:drop database name çœ‹ç€æŒºå¥½,è¯•äº†å¾ˆå¤šéæŠ¥é”™ çœ‹äº†æ–‡æ¡£æ‰çŸ¥é“,è¿™æ˜¯ä¼ä¸šç‰ˆä¸“å±å‘½ä»¤,ç¤¾åŒºç‰ˆç”¨ä¸äº†â€¦ è§£å†³: neo4jå®˜ç½‘ æ–°å»ºæ•°æ®åº“ åœ¨ neo4j\\conf\\neo4j.confä¸­, æ‰¾åˆ° dbms.default_database=defaultdatabase ä¿®æ”¹åé¢çš„åå­— å¦‚æœæ•°æ®åº“ä¸å­˜åœ¨,å°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ å¦‚æœå­˜åœ¨,å¯åŠ¨ä¹‹åå°±ä¼šè®¾ä¸ºé»˜è®¤çš„æ•°æ®åº“ ä½†æ˜¯æœ‰ä¸€ä¸ªå¼Šç«¯: è¿™ç§æ–¹å¼è¿˜æ˜¯åˆ‡æ¢ä¸äº†æ•°æ®åº“ cypherå‘½ä»¤ use databasenameä¹Ÿä¸èƒ½ç”¨ ä¸Šé¢ä¸¤ç§æ–¹æ³•éƒ½ä¼šæŠ¥é”™ å› ä¸ºç¤¾åŒºç‰ˆåªèƒ½å¼€å¯ä¸€ä¸ªç”¨æˆ·æ•°æ®åº“â€¦ å¦‚æœæƒ³åˆ‡æ¢æ•°æ®åº“åªèƒ½ä¿®æ”¹é…ç½®æ–‡ä»¶,ç„¶åé‡å¯(neo4j restart)æˆ–è€…å¼€ä¸€ä¸ªæ–°çš„è¿›ç¨‹(neo4j start). åˆ é™¤æ•°æ®åº“ æŠŠ neo4j\\data\\æ–‡ä»¶å¤¹ä¸‹é¢çš„ å¯¹åº”çš„æ•°æ®åº“åå­—åˆ é™¤,å³å¯. é…ç½®å‰é¡»çŸ¥ neo4jç°åœ¨å·²ç»åˆ°5.xäº†, neo4j 3.xç‰ˆæœ¬éœ€è¦jdk8 neo4j 4.xç‰ˆæœ¬éœ€è¦jdk11 å®‰è£…ä¹‹å‰éœ€è¦æŠŠjdkå®‰è£…å¥½,æˆ‘ç”¨çš„neo4j4.3.19, jdk11.2 JDKå®‰è£… jdkæœ‰å¾ˆå¤šèµ„æ–™,å»ºè®®æ‰¾ä¸€ä¸ªæ—¶é—´æœ€è¿‘çš„,ä¸è¦æ‰¾å¥½å‡ å¹´å‰çš„. ä¸‹è½½jdkå®‰è£…åŒ… å®˜ç½‘ä¸‹è½½éœ€è¦æ³¨å†Œ,å¯ä»¥ç”¨å…¶ä»–é•œåƒ å¦‚æœéœ€è¦,æ›´æ”¹è·¯å¾„,ä½†æ˜¯è¦è®°ä½ (æ²¡å›¾äº†,ç½‘ä¸Šæ‰¾çš„å›¾) ä¸€è·¯nextä¹‹å,å¦‚æœjdkç›®å½•é‡Œæ²¡æœ‰jre å‘½ä»¤: bin\\jlink.exe --module-path jmods --add-modules java desktop --output jre å°±å¤šäº†ä¸€ä¸ªjreæ–‡ä»¶å¤¹ é…ç½®ç¯å¢ƒå˜é‡ 12%JAVA_HOME%\\bin%JAVA_HOME%\\jre\\bin 1.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar è§£é‡Šæ¯ä¸ªå˜é‡çš„ä½œç”¨ 123456789101112131415161718192021222324252627282930JAVA_HOME å˜é‡åï¼šJAVA_HOME å˜é‡å€¼ï¼šC:\\develop\\Java\\jdk1.8.0_191 ç”¨é€”ï¼šå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œä¾›å…¶ä»–åœ°æ–¹ä½¿ç”¨Path å˜é‡åï¼šPath å˜é‡å€¼ï¼š%JAVA_HOME%\\bin;%JAVA_HOME%\\jre\\bin; ç”¨é€”ï¼šè®©ç³»ç»Ÿåœ¨ä»»ä½•è·¯å¾„ä¸‹éƒ½å¯ä»¥è¯†åˆ«javaã€javacã€javapç­‰å‘½ä»¤CLASSPATH å˜é‡åï¼šCLASSPATH å˜é‡å€¼ï¼š.;%JAVA_HOME%\\lib\\dt.jar;%JAVA_HOME%\\lib\\tools.jar ç”¨é€”ï¼šå‘Šè¯‰jvmè¦ä½¿ç”¨æˆ–æ‰§è¡Œçš„classæ”¾åœ¨ä»€ä¹ˆè·¯å¾„ä¸Šï¼Œä¾¿äºJVMåŠ è½½classæ–‡ä»¶ï¼Œ.;è¡¨ç¤ºå½“å‰è·¯å¾„ï¼Œtools.jarå’Œdt.jarä¸ºç±»åº“è·¯å¾„CLASSPATHè¯¦è§£ - tools.jar å·¥å…·ç±»åº“(ç¼–è¯‘å’Œè¿è¡Œç­‰)ï¼Œå®ƒè·Ÿæˆ‘ä»¬ç¨‹åºä¸­ç”¨åˆ°çš„åŸºç¡€ç±»åº“æ²¡æœ‰å…³ç³»ã€‚æˆ‘ä»¬æ³¨æ„åˆ°åœ¨Pathä¸­å˜é‡å€¼binç›®å½•ä¸‹çš„å„ä¸ªexeå·¥å…·çš„å¤§å°éƒ½å¾ˆå°ï¼Œä¸€èˆ¬éƒ½åœ¨27KBå·¦å³ï¼Œè¿™æ˜¯å› ä¸ºå®ƒä»¬å®é™…ä¸Šä»…ä»…ç›¸å½“äºæ˜¯ä¸€å±‚ä»£ç çš„åŒ…è£…ï¼Œè¿™äº›å·¥å…·çš„å®ç°æ‰€è¦ç”¨åˆ°çš„ç±»åº“éƒ½åœ¨tools.jarä¸­ï¼Œç”¨å‹ç¼©è½¯ä»¶æ‰“å¼€tools.jarï¼Œä½ ä¼šå‘ç°æœ‰å¾ˆå¤šæ–‡ä»¶æ˜¯å’Œbinç›®å½•ä¸‹çš„exeå·¥å…·ç›¸å¯¹æ€§çš„ã€‚å½“ç„¶ï¼Œå¦‚æœtools.jarçš„åŠŸèƒ½åªæœ‰è¿™äº›çš„è¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ ¹æœ¬ä¸ç”¨æŠŠå®ƒåŠ å…¥åˆ°CLASSPATHå˜é‡ä¸­ï¼Œå› ä¸ºbinç›®å½•ä¸‹çš„å·¥å…·è‡ªå·±å¯ä»¥å®Œæˆå¯¹è¿™äº›ç±»åº“çš„è°ƒç”¨ï¼Œå› æ­¤tools.jaråº”è¯¥è¿˜æœ‰å…¶ä»–çš„åŠŸèƒ½ã€‚åœ¨é‡Œé¢è¿˜å¯ä»¥çœ‹åˆ°æœ‰Appletå’ŒRMIç­‰ç›¸å…³çš„æ–‡ä»¶ï¼Œå› æ­¤tools.jaråº”è¯¥è¿˜æ˜¯è¿œç¨‹è°ƒç”¨ç­‰å¿…é¡»çš„jaråŒ…ã€‚tools.jarçš„å…¶ä»–ä½œç”¨å¯ä»¥æŸ¥çœ‹å…¶ä»–èµ„æ–™ã€‚ - dt.jar è¿è¡Œç¯å¢ƒç±»åº“ï¼Œä¸»è¦æ˜¯SwingåŒ…ï¼Œè¿™ä¸€ç‚¹é€šè¿‡ç”¨å‹ç¼©è½¯ä»¶æ‰“å¼€dt.jarä¹Ÿå¯ä»¥çœ‹åˆ°ã€‚å¦‚æœåœ¨å¼€å‘æ—¶å€™æ²¡æœ‰ç”¨åˆ°SwingåŒ…ï¼Œé‚£ä¹ˆå¯ä»¥ä¸ç”¨å°†dt.jaræ·»åŠ åˆ°CLASSPATHå˜é‡ä¸­ã€‚ CLASSPATHä¸­çš„ç±»åº“æ˜¯ç”±Application ClassLoaderæˆ–è€…æˆ‘ä»¬è‡ªå®šä¹‰çš„ç±»åŠ è½½å™¨æ¥åŠ è½½çš„ï¼Œè¿™é‡Œå½“ç„¶ä¸èƒ½åŒ…æ‹¬åŸºç¡€ç±»åº“ï¼Œå¦‚æœåŒ…æ‹¬åŸºç¡€ç±»åº“çš„è¯ï¼Œå¹¶ç”¨ä¸¤ä¸ªä¸åŒçš„è‡ªå®šä¹‰ç±»åŠ è½½å™¨å»åŠ è½½è¯¥åŸºç¡€ç±»ï¼Œé‚£å®ƒå¾—åˆ°çš„è¯¥åŸºç¡€ç±»å°±ä¸æ˜¯å”¯ä¸€çš„äº†ï¼Œè¿™æ ·ä¾¿ä¸èƒ½ä¿è¯Javaç±»çš„å®‰å…¨æ€§ã€‚ - åŸºæœ¬ç±»åº“å’Œæ‰©å±•ç±»åº“rt.jar åŸºæœ¬ç±»åº“æ˜¯æ‰€æœ‰çš„ import java.* å¼€å¤´çš„ç±»ï¼Œåœ¨ %JAVA_HOME%\\jre\\lib ç›®å½•ä¸‹ï¼ˆå¦‚å…¶ä¸­çš„ rt.jarã€resource.jar ï¼‰ï¼Œç±»åŠ è½½æœºåˆ¶æåˆ°ï¼Œè¯¥ç›®å½•ä¸‹çš„ç±»ä¼šç”± Bootstrap ClassLoader è‡ªåŠ¨åŠ è½½ï¼Œå¹¶é€šè¿‡äº²å§”æ´¾æ¨¡å‹ä¿è¯äº†åŸºç¡€ç±»åº“åªä¼šè¢«Bootstrap ClassLoaderåŠ è½½ï¼Œè¿™ä¹Ÿå°±ä¿è¯äº†åŸºç¡€ç±»çš„å”¯ä¸€æ€§ã€‚ - æ‰©å±•ç±»åº“æ˜¯æ‰€æœ‰çš„ import javax.* å¼€å¤´çš„ç±»ï¼Œåœ¨ %JAVA_HOME%\\jre\\lib\\ext ç›®å½•ä¸‹ï¼Œè¯¥ç›®å½•ä¸‹çš„ç±»æ˜¯ç”±Extension ClassLoader è‡ªåŠ¨åŠ è½½ï¼Œä¸éœ€è¦æˆ‘ä»¬æŒ‡å®šã€‚ - rt.jar é»˜è®¤å°±åœ¨æ ¹ClassLoaderçš„åŠ è½½è·¯å¾„é‡Œé¢ï¼Œæ”¾åœ¨CLASSPATHä¹Ÿæ˜¯å¤šæ­¤ä¸€ä¸¾ã€‚ éªŒè¯ 123cmdé‡Œè¾“å…¥:java -versionjavac -version neo4jå®‰è£… 1234neo4jæœ‰ä¸‰ä¸ªç‰ˆæœ¬ä¸€ä¸ªæ˜¯ç¤¾åŒºç‰ˆ:å’Œæ¡Œé¢ç‰ˆåŸºæœ¬ä¸Šæ²¡åŒºåˆ«,æ¡Œé¢ç‰ˆå°±æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åº,ç¤¾åŒºç‰ˆéœ€è¦ç”¨å‘½ä»¤è¡Œå¯åŠ¨ä¸€ä¸ªæ˜¯ä¼ä¸šç‰ˆ:æ”¶è´¹,æ²¡ç”¨è¿‡,åŠŸèƒ½å¾ˆå¤š,ä¸Šé¢æœ‰ä½“ä¼šä¸€ä¸ªæ˜¯æ¡Œé¢ç‰ˆ:æœ‰å¯ä»¥æ“ä½œçš„é¡µé¢,æ–¹ä¾¿,ä½†æ˜¯ä¼šæœ‰ç‚¹æ…¢ å®˜ç½‘ä¸‹è½½,æ‰¾å¯¹åº”çš„å®‰è£…zip(ç¤¾åŒºç‰ˆ) ä¸‹è½½è§£å‹ é…ç½®ç¯å¢ƒå˜é‡ cmdä¸­è¾“å…¥:neo4j start å°±å¯ä»¥å¯åŠ¨äº†,æµè§ˆå™¨è¾“å…¥è®¿é—® 1http://localhost:7474/browser/ é»˜è®¤ç”¨æˆ·åå¯†ç éƒ½æ˜¯neo4j","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"neo4jå®‰è£…","slug":"neo4jå®‰è£…","permalink":"https://gladdduck.github.io/tags/neo4j%E5%AE%89%E8%A3%85/"}]},{"title":"å¤šä¸ªåŸŸåè®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨","slug":"é…ç½®-ä¸€ä¸ªæœåŠ¡å™¨ä½¿ç”¨å¤šä¸ªåŸŸå","date":"2022-10-26T07:22:34.389Z","updated":"2023-11-26T05:18:09.953Z","comments":true,"path":"2022/10/26/é…ç½®-ä¸€ä¸ªæœåŠ¡å™¨ä½¿ç”¨å¤šä¸ªåŸŸå/","link":"","permalink":"https://gladdduck.github.io/2022/10/26/%E9%85%8D%E7%BD%AE-%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E5%9F%9F%E5%90%8D/","excerpt":"","text":"éœ€æ±‚ æœ‰æ—¶å€™æœåŠ¡å™¨å°‘ï¼Œä½†æ˜¯é¡¹ç›®å¤šï¼Œå¥½å‡ ä¸ªé¡¹ç›®éƒ¨ç½²åˆ°ä¸€ä¸ªæœåŠ¡å™¨ä¸Šã€‚ æˆ–è€…ä¸åŒçš„é¡¹ç›®æœ‰ä¸åŒçš„ç«¯å£ã€‚ ä½†æ˜¯åªæœ‰ä¸€ä¸ªåŸŸåï¼Œæ˜¯ä¸æ˜¯åªèƒ½ç”¨ä¸€ä¸ªé¡¹ç›®å‘¢ï¼Ÿ NONONO ğŸ™…ğŸ™…ğŸ™…ğŸ™…ğŸ™… æ¯”å¦‚ æˆ‘æœ‰ä¸‰ä¸ªåŸŸå(A,B,C)(æ€ä¹ˆæŠŠä¸€ä¸ªåŸŸåå˜æˆä¸‰ä¸ªåŸŸåï¼Œåœ¨æœ‰åŠæ³•)ï¼Œä¸‰ä¸ªé¡¹ç›®åœ¨æœåŠ¡å™¨ä¸Š(a,b,c) ç ”ç©¶ä¸€ä¸‹æ€ä¹ˆæŠŠA-aï¼ŒB-bï¼ŒC-c é¦–å…ˆï¼ŒæŠŠä¸€ä¸ªåŸŸåå˜æˆå¤šä¸ª æ¯”å¦‚ï¼Œæˆ‘åœ¨è…¾è®¯äº‘ä¸Šç”³è¯·äº†ä¸€ä¸ªyayan.xyzçš„åŸŸå(å…¶ä»–äº‘æ²¡æè¿‡ï¼Œä½†æ˜¯åŒç†)ã€‚ æ‰“å¼€è…¾è®¯äº‘çš„æ§åˆ¶å°ï¼ŒåŸŸåè§£æï¼Œç‚¹è¿›è¦è§£æçš„åŸŸå è®²è§£ä¸€ä¸‹é‡è¦çš„å­—æ®µ 1234ä¸»æœºè®°å½•ï¼šå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„åŸŸåï¼Œæ¯”å¦‚ä¸»æœºè®°å½•å¡«&quot;aaa&quot;,é‚£ä¹ˆå°±æœ‰ä¸€ä¸ªæ–°çš„åŸŸåaaa.yayan.xyzè®°å½•ç±»å‹:ç”¨çš„ä¸å¤šï¼Œé€‰Aå°±è¡Œï¼Œæœ‰CHAME(åŠ é€Ÿ?)ï¼ŒTXT(éªŒè¯?),NS(DNS)?è®°å½•å€¼:å¦‚æœæ˜¯Aå°±æ˜¯è‡ªå·±åŸŸåç»‘å®šçš„ipï¼Œå…¶ä»–çš„è¦æ ¹æ®ä½ å¹²å•¥å¡«TTL:è·¯ç”±è·³è½¬çš„æœ€å¤§è·³æ•°ï¼Œä¸é‡è¦å§? ç‚¹å‡»æ–°å¢å­—æ®µï¼Œè¾“å…¥è‡ªå·±æƒ³è¦çš„åŸŸåï¼Œç¡®å®šä¹‹åï¼Œå‡ åˆ†é’Ÿå°±è¡Œäº† ç„¶åï¼ŒæœåŠ¡å™¨é…ç½® æœåŠ¡å™¨ä¸‹ä¸ªnginx(ä¹‹å‰è§‰å¾—éº»çƒ¦ï¼Œæ²¡æƒ³åˆ°è¿™ä¹ˆå¥½ç”¨) è¿™ä¸ªç½‘ä¸Šå¾ˆå¤šï¼Œä¸€ä¸ªå‘½ä»¤å°±è¡Œäº†ï¼Œå¿˜äº†æ˜¯å•¥äº†ï¼Œå¯ä»¥æœæœ ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ æˆ‘çš„æ˜¯ï¼š 1/etc/nginx/sites-available/default vscodeè¿æ¥æœåŠ¡å™¨çš„åœ¨å‰ä¸€ç¯‡ ä¿®æ”¹ç›‘å¬ç«¯å£å¯¹åº”çš„åŸŸå æˆ‘ç”¨çš„httpæ‰€ä»¥æ˜¯80ï¼Œ httpsåº”è¯¥æ˜¯443 ä¸€ä¸ªä¾‹å­ 1234567891011121314151617server &#123; listen 80; listen [::]:80; server_name unsplash.yayan.xyz; location / &#123; proxy_pass http://æœåŠ¡å™¨ip:6666; &#125;&#125;server &#123; listen 80; listen [::]:80; server_name www.yayan.xyz; location / &#123; root /anaconda/pythoncode/ChargingMonitor; index index.html index.php index.jsp; &#125;&#125; é‡å¯nginxæœåŠ¡ 1service nginx restart ç°åœ¨ï¼š è®¿é—®unsplash.yayan.xyz å°±ä¼šè·³è½¬åˆ°6666ç«¯å£å¯¹åº”çš„æœåŠ¡ï¼Œæ¯”å¦‚gradioæˆ–è€…flaskæ­çš„é¡¹ç›®æ¥å£ è®¿é—® www.yayan.xyz å°±ä¼šè·³è½¬åˆ°/anaconda/pythoncode/ChargingMonitoræ–‡ä»¶å¤¹ä¸‹å¯¹åº”çš„index.htmlæˆ–è€…å…¶ä»– ğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ªğŸ’ª","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"å¤šä¸ªåŸŸåè®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨","slug":"å¤šä¸ªåŸŸåè®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨","permalink":"https://gladdduck.github.io/tags/%E5%A4%9A%E4%B8%AA%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE%E5%90%8C%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8/"}]},{"title":"Vscodeè¿æ¥é˜¿é‡Œäº‘æœåŠ¡å™¨","slug":"é…ç½®-Vscodeè¿æ¥é˜¿é‡Œäº‘","date":"2022-10-26T06:43:08.377Z","updated":"2023-11-20T04:45:41.465Z","comments":true,"path":"2022/10/26/é…ç½®-Vscodeè¿æ¥é˜¿é‡Œäº‘/","link":"","permalink":"https://gladdduck.github.io/2022/10/26/%E9%85%8D%E7%BD%AE-Vscode%E8%BF%9E%E6%8E%A5%E9%98%BF%E9%87%8C%E4%BA%91/","excerpt":"","text":"æœ‰ä¸ªé˜¿é‡Œäº‘ECSæœåŠ¡å™¨ï¼Œä¹‹å‰ä¸€ç›´ç”¨å®å¡”é¢æ¿è¿æ¥ï¼Œæ–¹ä¾¿æ—¶æ–¹ä¾¿ï¼Œä½†æ˜¯æœ‰æ—¶å€™å¤ªå å†…å®¹äº†ã€‚ æœ¬æ¥æœåŠ¡å™¨å°±å°ï¼Œä¸€ä¸ªå®å¡”å çš„å·®ä¸å¤šäº†ã€‚ åæœŸæ”¹æˆVscodeã€‚ å…¶ä»–èƒ½è¿œç¨‹è¿æ¥çš„è½¯ä»¶å¾ˆå¤šï¼Œä½†æ˜¯vscodeæ˜¯ä¸ªç¥å™¨ï¼Œå¾ˆæ¨èã€‚ æ–¹æ³•1ï¼šå¯†é’¥å¯¹ ç”¨å¯†é’¥å¯¹ä¸ªäººè§‰å¾—æœ‰ç‚¹ï¼Œç±»ä¼¼hexoåšå®¢æ­å»ºé‡Œé¢è¿æ¥github. åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ï¼Œæ‰¾åˆ°å¯†é’¥å¯¹ï¼Œç‚¹è¿›å»åˆ›å»ºå¯†é’¥å¯¹ åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œåå­—éšä¾¿èµ· ç»‘å®šåˆ°å®ä¾‹ä¸­ï¼Œç„¶åé‡å¯ ç»‘å®šå®Œä¼šè‡ªåŠ¨ä¸‹è½½ä¸€ä¸ª.pemæ–‡ä»¶ï¼Œå°½é‡å­˜åˆ°C:\\user\\usernameé‡Œé¢çš„ä¸€ä¸ªé—®ä»·å¤¹ å¦‚æœç›´æ¥æ”¾æ¡Œé¢æˆ–è€…å…¬å…±æ–‡ä»¶å¤¹ï¼ŒåæœŸä¼šæŠ¥ä¸€ä¸ªtoo opençš„é”™è¯¯ æ‰“å¼€vscodeï¼Œä¸‹è½½remote-sshæ’ä»¶ï¼Œæ‰“å¼€sshçš„é…ç½®æ–‡ä»¶ åº”è¯¥æ˜¯C:\\Users\\username\\.ssh\\config åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  1234Host èµ·ä¸ªåå­— HostName æœåŠ¡å™¨çš„ip(192.168.1.1) IdentityFile pemçš„è·¯å¾„\\xxx.pem User ç”¨æˆ·å(root) æˆ–è€…ç‚¹å‡»â€+â€œå·ï¼Œè¾“å…¥å‘½ä»¤ï¼š 1ssh -i &quot;pemè·¯å¾„&quot; root@æœåŠ¡å™¨ip é…ç½®å®Œæˆï¼Œæ‰“å¼€å°±è¡Œäº†,åé¢ä¼šé€‰æ“ä½œç³»ç»Ÿï¼Œé€‰ä¸ªcontinueï¼Œå¿˜è®°è¦ä¸è¦è¾“å¯†ç äº† ç›®å‰å•å°äº‘æœåŠ¡å™¨åªæ”¯æŒç»‘å®šå•ä¸ªå¯†é’¥å¯¹ã€‚è‹¥æ‚¨é€‰æ‹©å·²ç»ç»‘å®šè¿‡å…¶ä»–å¯†é’¥å¯¹çš„äº‘æœåŠ¡å™¨ï¼Œæ–°ç»‘å®šçš„å¯†é’¥å¯¹å°†ä¼šè¦†ç›–ä»¥å‰ç»‘å®šçš„å¯†é’¥å¯¹ã€‚ç»‘å®š/è§£ç»‘å¯†é’¥å¯¹éœ€è¦åœ¨æ§åˆ¶å°é‡å¯ECSå®ä¾‹æ‰èƒ½ç”Ÿæ•ˆ å¤ªéº»çƒ¦äº†ï¼Œè€Œä¸”æˆ‘è‡ªå·±ç”¨çš„æ—¶å€™å¾ˆå¤šæ¬¡æ˜¾ç¤ºPermission denied (publickey).æ— è§£ï¼Œ å¼ºçƒˆæ¨èä¸‹é¢ä¸€ç§æ–¹å¼ æ–¹æ³•2ï¼šç”¨æˆ·åå¯†ç è¿æ¥ å…ˆè´´ä¸€ä¸ªé˜¿é‡Œäº‘å®˜ç½‘æ–‡æ¡£ï¼Œé€šè¿‡å¯†ç æˆ–å¯†é’¥è®¤è¯ç™»å½•Linuxå®ä¾‹-ä¸ºLinuxå®ä¾‹å¼€å¯rootç”¨æˆ·è¿œç¨‹ç™»å½• å…ˆç”¨VNCè¿æ¥ä¸€ä¸‹ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ è¾“å…¥ç”¨æˆ·åå¯†ç ã€‚ å¦‚æœå¯†ç å¿˜äº†ï¼Œåœ¨èœå•æ çš„å®ä¾‹ä¸­ï¼Œä¿®æ”¹å¯†ç  ç»ˆç«¯ä¸­ï¼Œè¾“å…¥ 123vi /etc/ssh/sshd_config# å¦‚æœä¸æ˜¯rootï¼Œå°±è¾“å…¥sudo vi /etc/ssh/sshd_config å¾€ä¸‹ç¿»ï¼ŒåŸºæœ¬ä¸Šåœ¨æœ€å 123456# PermitRootLogin noä¿®æ”¹ä¸ºPermitRootLogin yesã€‚# PasswordAuthentication noä¿®æ”¹ä¸ºPasswordAuthentication yesã€‚# ä¿®æ”¹æ–¹æ³•ï¼š# 1. æ‰¾åˆ°è¦ä¿®æ”¹çš„ä½ç½®ï¼Œç‚¹å‡»&quot;i&quot;,å°±è¿›å…¥ç¼–è¾‘æ¨¡å¼äº†# 2. ä¿®æ”¹æ”¹å®Œä¹‹åæŒ‰Escé”®ï¼Œè¾“å…¥:wqä¿å­˜ä¿®æ”¹ã€‚# å¦‚æœä¸æ˜¯rootï¼Œè¾“å…¥:wq!ä¿å­˜ é‡å¯sshdæœåŠ¡ 1service sshd restart åœ¨vscodeçš„è¿œç¨‹è¿æ¥ä¸­ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶æˆ–è€…ç›´æ¥è¾“å…¥ 1234Host èµ·ä¸ªåå­— HostName æœåŠ¡å™¨çš„ip(192.168.1.1) User ç”¨æˆ·å(root)# æˆ–è€…è¾“å…¥ ssh root@æœåŠ¡å™¨ip è¾“å…¥å®ä¾‹å¯†ç å°±è¿æ¥æˆåŠŸäº†ï¼ ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘","categories":[{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"Vscode é˜¿é‡Œäº‘","slug":"Vscode-é˜¿é‡Œäº‘","permalink":"https://gladdduck.github.io/tags/Vscode-%E9%98%BF%E9%87%8C%E4%BA%91/"}]},{"title":"","slug":"æ‚è°ˆ-markdownå¿«æ·é”®","date":"2022-10-22T00:58:32.349Z","updated":"2022-10-20T06:17:32.000Z","comments":true,"path":"2022/10/22/æ‚è°ˆ-markdownå¿«æ·é”®/","link":"","permalink":"https://gladdduck.github.io/2022/10/22/%E6%9D%82%E8%B0%88-markdown%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"","text":"1title:markdownè®°å½• å‡†å¤‡è®°å½•ä»¥ä¸‹markdownåœ¨vscodeä¸­çš„ä¸€äº›å¿«æ·æ“ä½œã€‚","categories":[],"tags":[]},{"title":"ç¬¬ä¸€ç¯‡åšå®¢è®°å½•","slug":"æ‚è°ˆ-ç¬¬ä¸€ç¯‡åšå®¢è®°å½•","date":"2022-10-22T00:58:32.349Z","updated":"2023-11-26T04:43:28.513Z","comments":true,"path":"2022/10/22/æ‚è°ˆ-ç¬¬ä¸€ç¯‡åšå®¢è®°å½•/","link":"","permalink":"https://gladdduck.github.io/2022/10/22/%E6%9D%82%E8%B0%88-%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%E8%AE%B0%E5%BD%95/","excerpt":"","text":"ğŸ˜ğŸ˜ğŸ˜ ç¬¬ä¸€ç¯‡åšå®¢ï¼Œè´¹å°½äº†åƒè¾›ä¸‡è‹¦ã€‚ è¿˜æœ‰å¾ˆå¤šæ²¡å®Œå–„çš„åœ°æ–¹ï¼Œå…ˆç”¨ç€ï¼Œåç»­å†æ”¹ã€‚ å› ä¸ºè‡ªå·±å†™ä»£ç çš„è¿‡ç¨‹ä¸­é‡è§äº†å¾ˆå¤šé‡å¤çš„é”™è¯¯ï¼Œæ¯æ¬¡æ”¹bugéƒ½è¦æµªè´¹æ—¶é—´ã€‚ ç´¢æ€§æ²¡è§ä¸€ä¸ªéƒ½ç»™ä»–è®°å½•ä¸‹æ¥ã€‚ è¿™ç¯‡åšå®¢æ˜¯ç”¨Github+hexoï¼Œç”¨çš„pureä¸»é¢˜ã€‚æ­å»ºè¿‡ç¨‹ä¸­ä¹Ÿé‡åˆ°äº†å¾ˆå¤šé—®é¢˜ã€‚åç»­éƒ½ä¼šå†™å‡ºæ¥ã€‚ ğŸ˜†ğŸ˜†ğŸ˜† å…ˆè®°å½•ä¸€ä¸‹ï¼švscodeå†™markdownåŠ å…¥è¡¨æƒ… Markdown Emoji ï¼Œ è¿˜æœ‰è¿™ï¼Œ è¿˜æœ‰è¿™ ğŸ˜ğŸ˜ğŸ˜ ğŸ˜´ğŸ˜´ğŸ˜´ ç»“æŸï¼Œç¡å¤§è§‰å»å’¯ã€‚ ğŸ˜ ğŸ˜ ğŸ˜  ï¼ï¼ï¼ï¼ ä¸€å®šä¸€å®š ä¸è¦ç”¨gitçš„shellæ‰§è¡Œnpmæˆ–è€…hexo npmåœ¨cmdå®‰è£…çš„åŒ…å’Œåœ¨gitshellå®‰è£…çš„åŒ…æ˜¯ç‹¬ç«‹çš„ï¼ï¼ï¼ å¦‚æœæ‰“å¼€é¡µé¢connot getï¼Œçœ‹çœ‹publicé‡Œæœ‰æ²¡æœ‰htmlæ–‡ä»¶ï¼Œæ²¡æœ‰å°±å®‰è£…ä¸€äº›åŒ…ã€‚ æ¯”å¦‚ï¼Œä¸æ¯”å¦‚äº†(hello-hexoæ–‡ç« é‡Œæœ‰è¯¦ç»†è¯´æ˜)ï¼Œæœ‰æ—¶å€™åœ¨cmdé‡Œæ‰§è¡Œå‘½ä»¤ä¼šå‡ºç°æŠ¥é”™ï¼Œè¿˜å¾—æ»šå›gitshellé‡Œç”¨ï¼Œ æ¨¡æ¨¡ç³Šç³Šä¹Ÿä¸çŸ¥é“ä¸ºå•¥ï¼Œå¯èƒ½æ˜¯å®‰è£…çš„æ—¶å€™ä½¿ç”¨-g å’Œâ€“saveå‘½ä»¤çš„åŒºåˆ« æœ‰æ—¶é—´æŸ¥æŸ¥è¿™ä¸¤ä¸ªå‚æ•°ææ¸…æ¥š ğŸ’¢ğŸ’¢ğŸ’¢ğŸ’¢ ç¡å¤§è§‰å»äº† ğŸ·ğŸ·ğŸ·ğŸ· markdownè¿˜èƒ½ç”¨ç‚¹å•¥å¥½ç©çš„å‘¢ è¡¨æƒ…å·²ç»æ»¡è¶³ä¸äº†æˆ‘çš„ä½¿ç”¨äº† ğŸ¤£ğŸ¤£ğŸ¤£ å‘ç°äº† windowsä¸‹ï¼Œä¸­æ–‡è¾“å…¥æ³•è¾“ä¸€ä¸ªiï¼Œé‡Œé¢çš„è¡¨æƒ…ä¹Ÿéƒ½èƒ½ç”¨i ï¼Œé€‰è¡¨æƒ…æˆªä¸äº†å›¾ã€‚ ğŸ‘€ğŸ‘€ğŸ‘€ 123456789101112# google colab!pip install kaggleimport jsontoken = &#123;&quot;username&quot;:&quot;coderduck&quot;,&quot;key&quot;:&quot;xxx&quot;&#125;with open(&#x27;/content/kaggle.json&#x27;, &#x27;w&#x27;) as file: json.dump(token, file)!mkdir -p ~/.kaggle!cp /content/kaggle.json ~/.kaggle/!chmod 600 ~/.kaggle/kaggle.json!kaggle config set -n path -v /content!kaggle competitions download -c dogs-vs-cats","categories":[{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E8%B0%88/"}],"tags":[{"name":"æ­å»ºåšå®¢","slug":"æ­å»ºåšå®¢","permalink":"https://gladdduck.github.io/tags/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"}]},{"title":"print(Hello gitalk)","slug":"é…ç½®-hello-gitalké…ç½®","date":"2022-10-22T00:58:32.349Z","updated":"2022-10-22T02:40:50.609Z","comments":true,"path":"2022/10/22/é…ç½®-hello-gitalké…ç½®/","link":"","permalink":"https://gladdduck.github.io/2022/10/22/%E9%85%8D%E7%BD%AE-hello-gitalk%E9%85%8D%E7%BD%AE/","excerpt":"","text":"Githubä¸Šé…ç½® xxx.github.ioä»“åº“å†…ï¼Œæ‰¾åˆ°issues-labels 2. æ–°å»ºä¸€ä¸ªlabel åå­—ä¸€å®šæ˜¯gitalk ç”¨æ¥å­˜æ”¾æäº¤çš„è¯„è®º æ–°å»ºä¸€ä¸ªapplicationæˆæƒ æ‰“å¼€å³ä¸Šè§’å¤´åƒï¼Œã€Settingsã€‘-&gt;ã€Developer settingsã€‘-&gt;ã€OAuth Appsã€‘-&gt;ã€New OAuth Appã€‘ Homepage URLå’ŒAuthorization callback URL ä¸€å®šæ˜¯xxxx.github.io ,å…¶ä»–çš„éšä¾¿å¡«ã€‚ å¤åˆ¶ä¸‹æ¥ç”Ÿæˆçš„Client IDå’ŒClient secrets ä¸»é¢˜ä¸­é…ç½® é…ç½®æ–‡ä»¶_config.ymlä¸­çš„è®¾ç½® 123456789101112131415comment: type: gitalk # å¯ç”¨å“ªç§è¯„è®ºç³»ç»Ÿ gitalk: enable: true å¼€å¯gitalkè¯„è®ºï¼Œä¸éœ€è¦é…ç½® owner: githubç”¨æˆ·å admin: githubç”¨æˆ·å repo: åšå®¢çš„ä»“åº“åç§°(æ³¨æ„ä¸æ˜¯åœ°å€) ClientID: ä¸Šé¢ç”Ÿæˆçš„Client ID ClientSecret: ä¸Šé¢ç”Ÿæˆçš„Client Secret labels: &#x27;gitalk&#x27; github issue å¯¹åº”çš„issueæ ‡ç­¾ï¼ˆä¸Šé¢æ–°å»ºçš„ï¼‰ distractionFreeMode: true æ— å¹²æ‰°æ¨¡å¼ï¼Œä¸éœ€è¦æ›´æ”¹ language: zh-CN # proxy å¦‚æœè®¾ç½®ä¹‹ågitalkåŠ è½½ä¸å‡ºæ¥å°±è®¾ç½®ï¼Œå…·ä½“é”™è¯¯æ˜¯ä»€ä¹ˆå¿˜è®°äº† proxy: &#x27;https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token&#x27; å…¶ä»–é…ç½®æ–‡ä»¶ åœ¨ ã€themeã€‘-&gt;ã€pureã€‘-&gt;ã€layoutã€‘-&gt;ã€_partialã€‘-&gt;ã€postã€‘æ–‡ä»¶å¤¹ä¸­ï¼Œæ–°å»ºgitalk.ejs 123456789101112131415&lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/gitalk@latest/dist/gitalk.css&quot;&gt;&lt;script src=&quot;https://unpkg.com/gitalk@latest/dist/gitalk.min.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;https://priesttomb.github.io/js/md5.min.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt; new Gitalk(&#123; clientID: &#x27;ä¸Šè¿°&#x27;, clientSecret: &#x27;ä¸Šè¿°&#x27;, repo: &#x27;xxxx.github.io&#x27;, owner: &#x27;xxxx&#x27;, admin: &#x27;xxxx&#x27;, id: md5(location.pathname), distractionFreeMode: true, enable: true &#125;).render(&#x27;gitalk-container&#x27;)&lt;/script&gt; åœ¨ ã€themeã€‘-&gt;ã€pureã€‘-&gt;ã€layoutã€‘-&gt;ã€_partialã€‘ä¸‹çš„article.ejsæ–°å¢ä»¥ä¸‹ï¼š(æˆ‘æŠ¥é”™enableæ˜¯undefinedï¼Œæˆ‘ç›´æ¥æŠŠè¿™ä¸ªå»æ‰äº†æ²¡æƒ³åˆ°ä¹Ÿè¡Œ) 12345&lt;% if (theme.gitalk.enable)&#123; %&gt; &lt;div id=&quot;gitalk-container&quot;&gt;&lt;/div&gt; &lt;%- include post/gitalk.ejs %&gt;&lt;% &#125; %&gt; è¿è¡Œ ç°åœ¨è¿è¡Œhexo såº”è¯¥å°±å¯ä»¥äº† ç¬¬ä¸€æ¬¡ç™»é™†éœ€è¦æˆæƒï¼Œåç»­å°±ä¸éœ€è¦äº† å¯èƒ½ä¼šå‡ºç°443æˆ–è€…128é”™è¯¯ï¼Œå°±é…ç½®ä¸Šé¢çš„proxy","categories":[{"name":"hexoåšå®¢é…ç½®","slug":"hexoåšå®¢é…ç½®","permalink":"https://gladdduck.github.io/categories/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"hexoåšå®¢é…ç½®gitalk","slug":"hexoåšå®¢é…ç½®gitalk","permalink":"https://gladdduck.github.io/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AEgitalk/"}]},{"title":"emojiåœ¨markdownçš„è¡¨æƒ…å¤§å…¨","slug":"æ‚è°ˆ-emojiè¡¨æƒ…ä»£ç ","date":"2022-10-22T00:58:32.348Z","updated":"2023-11-26T05:20:32.764Z","comments":true,"path":"2022/10/22/æ‚è°ˆ-emojiè¡¨æƒ…ä»£ç /","link":"","permalink":"https://gladdduck.github.io/2022/10/22/%E6%9D%82%E8%B0%88-emoji%E8%A1%A8%E6%83%85%E4%BB%A3%E7%A0%81/","excerpt":"","text":"People :bowtie::bowtie: ğŸ˜„:smile: ğŸ˜†:laughing: ğŸ˜Š:blush: ğŸ˜ƒ:smiley: â˜ºï¸:relaxed: ğŸ˜:smirk: ğŸ˜:heart_eyes: ğŸ˜˜:kissing_heart: ğŸ˜š:kissing_closed_eyes: ğŸ˜³:flushed: ğŸ˜Œ:relieved: ğŸ˜†:satisfied: ğŸ˜:grin: ğŸ˜‰:wink: ğŸ˜œ:stuck_out_tongue_winking_eye: ğŸ˜:stuck_out_tongue_closed_eyes: ğŸ˜€:grinning: ğŸ˜—:kissing: ğŸ˜™:kissing_smiling_eyes: ğŸ˜›:stuck_out_tongue: ğŸ˜´:sleeping: ğŸ˜Ÿ:worried: ğŸ˜¦:frowning: ğŸ˜§:anguished: ğŸ˜®:open_mouth: ğŸ˜¬:grimacing: ğŸ˜•:confused: ğŸ˜¯:hushed: ğŸ˜‘:expressionless: ğŸ˜’:unamused: ğŸ˜…:sweat_smile: ğŸ˜“:sweat: ğŸ˜¥:disappointed_relieved: ğŸ˜©:weary: ğŸ˜”:pensive: ğŸ˜:disappointed: ğŸ˜–:confounded: ğŸ˜¨:fearful: ğŸ˜°:cold_sweat: ğŸ˜£:persevere: ğŸ˜¢:cry: ğŸ˜­:sob: ğŸ˜‚:joy: ğŸ˜²:astonished: ğŸ˜±:scream: :neckbeard::neckbeard: ğŸ˜«:tired_face: ğŸ˜ :angry: ğŸ˜¡:rage: ğŸ˜¤:triumph: ğŸ˜ª:sleepy: ğŸ˜‹:yum: ğŸ˜·:mask: ğŸ˜:sunglasses: ğŸ˜µ:dizzy_face: ğŸ‘¿:imp: ğŸ˜ˆ:smiling_imp: ğŸ˜:neutral_face: ğŸ˜¶:no_mouth: ğŸ˜‡:innocent: ğŸ‘½:alien: ğŸ’›:yellow_heart: ğŸ’™:blue_heart: ğŸ’œ:purple_heart: â¤ï¸:heart: ğŸ’š:green_heart: ğŸ’”:broken_heart: ğŸ’“:heartbeat: ğŸ’—:heartpulse: ğŸ’•:two_hearts: ğŸ’:revolving_hearts: ğŸ’˜:cupid: ğŸ’–:sparkling_heart: âœ¨:sparkles: â­ï¸:star: ğŸŒŸ:star2: ğŸ’«:dizzy: ğŸ’¥:boom: ğŸ’¥:collision: ğŸ’¢:anger: â—ï¸:exclamation: â“:question: â•:grey_exclamation: â”:grey_question: ğŸ’¤:zzz: ğŸ’¨:dash: ğŸ’¦:sweat_drops: ğŸ¶:notes: ğŸµ:musical_note: ğŸ”¥:fire: ğŸ’©:hankey: ğŸ’©:poop: ğŸ’©:shit: ğŸ‘:+1: ğŸ‘:thumbsup: ğŸ‘:-1: ğŸ‘:thumbsdown: ğŸ‘Œ:ok_hand: ğŸ‘Š:punch: ğŸ‘Š:facepunch: âœŠ:fist: âœŒï¸:v: ğŸ‘‹:wave: âœ‹:hand: âœ‹:raised_hand: ğŸ‘:open_hands: â˜ï¸:point_up: ğŸ‘‡:point_down: ğŸ‘ˆ:point_left: ğŸ‘‰:point_right: ğŸ™Œ:raised_hands: ğŸ™:pray: ğŸ‘†:point_up_2: ğŸ‘:clap: ğŸ’ª:muscle: ğŸ¤˜:metal: ğŸ–•:fu: ğŸš¶:walking: ğŸƒ:runner: ğŸƒ:running: ğŸ‘«:couple: ğŸ‘ª:family: ğŸ‘¬:two_men_holding_hands: ğŸ‘­:two_women_holding_hands: ğŸ’ƒ:dancer: ğŸ‘¯:dancers: ğŸ™†:ok_woman: ğŸ™…:no_good: ğŸ’:information_desk_person: ğŸ™‹:raising_hand: ğŸ‘°:bride_with_veil: ğŸ™:person_with_pouting_face: ğŸ™:person_frowning: ğŸ™‡:bow: ğŸ’:couplekiss: ğŸ’‘:couple_with_heart: ğŸ’†:massage: ğŸ’‡:haircut: ğŸ’…:nail_care: ğŸ‘¦:boy: ğŸ‘§:girl: ğŸ‘©:woman: ğŸ‘¨:man: ğŸ‘¶:baby: ğŸ‘µ:older_woman: ğŸ‘´:older_man: ğŸ‘±:person_with_blond_hair: ğŸ‘²:man_with_gua_pi_mao: ğŸ‘³:man_with_turban: ğŸ‘·:construction_worker: ğŸ‘®:cop: ğŸ‘¼:angel: ğŸ‘¸:princess: ğŸ˜º:smiley_cat: ğŸ˜¸:smile_cat: ğŸ˜»:heart_eyes_cat: ğŸ˜½:kissing_cat: ğŸ˜¼:smirk_cat: ğŸ™€:scream_cat: ğŸ˜¿:crying_cat_face: ğŸ˜¹:joy_cat: ğŸ˜¾:pouting_cat: ğŸ‘¹:japanese_ogre: ğŸ‘º:japanese_goblin: ğŸ™ˆ:see_no_evil: ğŸ™‰:hear_no_evil: ğŸ™Š:speak_no_evil: ğŸ’‚:guardsman: ğŸ’€:skull: ğŸ¾:feet: ğŸ‘„:lips: ğŸ’‹:kiss: ğŸ’§:droplet: ğŸ‘‚:ear: ğŸ‘€:eyes: ğŸ‘ƒ:nose: ğŸ‘…:tongue: ğŸ’Œ:love_letter: ğŸ‘¤:bust_in_silhouette: ğŸ‘¥:busts_in_silhouette: ğŸ’¬:speech_balloon: ğŸ’­:thought_balloon: :feelsgood::feelsgood: :finnadie::finnadie: :goberserk::goberserk: :godmode::godmode: :hurtrealbad::hurtrealbad: :rage1::rage1: :rage2::rage2: :rage3::rage3: :rage4::rage4: :suspect::suspect: :trollface: :trollface: Nature â˜€ï¸:sunny: â˜”ï¸:umbrella: â˜ï¸:cloud: â„ï¸:snowflake: â›„ï¸:snowman: âš¡ï¸:zap: ğŸŒ€:cyclone: ğŸŒ:foggy: ğŸŒŠ:ocean: ğŸ±:cat: ğŸ¶:dog: ğŸ­:mouse: ğŸ¹:hamster: ğŸ°:rabbit: ğŸº:wolf: ğŸ¸:frog: ğŸ¯:tiger: ğŸ¨:koala: ğŸ»:bear: ğŸ·:pig: ğŸ½:pig_nose: ğŸ®:cow: ğŸ—:boar: ğŸµ:monkey_face: ğŸ’:monkey: ğŸ´:horse: ğŸ:racehorse: ğŸ«:camel: ğŸ‘:sheep: ğŸ˜:elephant: ğŸ¼:panda_face: ğŸ:snake: ğŸ¦:bird: ğŸ¤:baby_chick: ğŸ¥:hatched_chick: ğŸ£:hatching_chick: ğŸ”:chicken: ğŸ§:penguin: ğŸ¢:turtle: ğŸ›:bug: ğŸ:honeybee: ğŸœ:ant: ğŸ:beetle: ğŸŒ:snail: ğŸ™:octopus: ğŸ :tropical_fish: ğŸŸ:fish: ğŸ³:whale: ğŸ‹:whale2: ğŸ¬:dolphin: ğŸ„:cow2: ğŸ:ram: ğŸ€:rat: ğŸƒ:water_buffalo: ğŸ…:tiger2: ğŸ‡:rabbit2: ğŸ‰:dragon: ğŸ:goat: ğŸ“:rooster: ğŸ•:dog2: ğŸ–:pig2: ğŸ:mouse2: ğŸ‚:ox: ğŸ²:dragon_face: ğŸ¡:blowfish: ğŸŠ:crocodile: ğŸª:dromedary_camel: ğŸ†:leopard: ğŸˆ:cat2: ğŸ©:poodle: ğŸ¾:paw_prints: ğŸ’:bouquet: ğŸŒ¸:cherry_blossom: ğŸŒ·:tulip: ğŸ€:four_leaf_clover: ğŸŒ¹:rose: ğŸŒ»:sunflower: ğŸŒº:hibiscus: ğŸ:maple_leaf: ğŸƒ:leaves: ğŸ‚:fallen_leaf: ğŸŒ¿:herb: ğŸ„:mushroom: ğŸŒµ:cactus: ğŸŒ´:palm_tree: ğŸŒ²:evergreen_tree: ğŸŒ³:deciduous_tree: ğŸŒ°:chestnut: ğŸŒ±:seedling: ğŸŒ¼:blossom: ğŸŒ¾:ear_of_rice: ğŸš:shell: ğŸŒ:globe_with_meridians: ğŸŒ:sun_with_face: ğŸŒ:full_moon_with_face: ğŸŒš:new_moon_with_face: ğŸŒ‘:new_moon: ğŸŒ’:waxing_crescent_moon: ğŸŒ“:first_quarter_moon: ğŸŒ”:waxing_gibbous_moon: ğŸŒ•:full_moon: ğŸŒ–:waning_gibbous_moon: ğŸŒ—:last_quarter_moon: ğŸŒ˜:waning_crescent_moon: ğŸŒœ:last_quarter_moon_with_face: ğŸŒ›:first_quarter_moon_with_face: ğŸŒ”:moon: ğŸŒ:earth_africa: ğŸŒ:earth_americas: ğŸŒ:earth_asia: ğŸŒ‹:volcano: ğŸŒŒ:milky_way: â›…ï¸:partly_sunny: :octocat: :octocat: :squirrel::squirrel: Objects ğŸ:bamboo: ğŸ’:gift_heart: ğŸ:dolls: ğŸ’:school_satchel: ğŸ“:mortar_board: ğŸ:flags: ğŸ†:fireworks: ğŸ‡:sparkler: ğŸ:wind_chime: ğŸ‘:rice_scene: ğŸƒ:jack_o_lantern: ğŸ‘»:ghost: ğŸ…:santa: ğŸ„:christmas_tree: ğŸ:gift: ğŸ””:bell: ğŸ”•:no_bell: ğŸ‹:tanabata_tree: ğŸ‰:tada: ğŸŠ:confetti_ball: ğŸˆ:balloon: ğŸ”®:crystal_ball: ğŸ’¿:cd: ğŸ“€:dvd: ğŸ’¾:floppy_disk: ğŸ“·:camera: ğŸ“¹:video_camera: ğŸ¥:movie_camera: ğŸ’»:computer: ğŸ“º:tv: ğŸ“±:iphone: â˜ï¸:phone: â˜ï¸:telephone: ğŸ“:telephone_receiver: ğŸ“Ÿ:pager: ğŸ“ :fax: ğŸ’½:minidisc: ğŸ“¼:vhs: ğŸ”‰:sound: ğŸ”ˆ:speaker: ğŸ”‡:mute: ğŸ“¢:loudspeaker: ğŸ“£:mega: âŒ›ï¸:hourglass: â³:hourglass_flowing_sand: â°:alarm_clock: âŒšï¸:watch: ğŸ“»:radio: ğŸ“¡:satellite: â¿:loop: ğŸ”:mag: ğŸ”:mag_right: ğŸ”“:unlock: ğŸ”’:lock: ğŸ”:lock_with_ink_pen: ğŸ”:closed_lock_with_key: ğŸ”‘:key: ğŸ’¡:bulb: ğŸ”¦:flashlight: ğŸ”†:high_brightness: ğŸ”…:low_brightness: ğŸ”Œ:electric_plug: ğŸ”‹:battery: ğŸ“²:calling: âœ‰ï¸:email: ğŸ“«:mailbox: ğŸ“®:postbox: ğŸ›€:bath: ğŸ›:bathtub: ğŸš¿:shower: ğŸš½:toilet: ğŸ”§:wrench: ğŸ”©:nut_and_bolt: ğŸ”¨:hammer: ğŸ’º:seat: ğŸ’°:moneybag: ğŸ’´:yen: ğŸ’µ:dollar: ğŸ’·:pound: ğŸ’¶:euro: ğŸ’³:credit_card: ğŸ’¸:money_with_wings: ğŸ“§:e-mail: ğŸ“¥:inbox_tray: ğŸ“¤:outbox_tray: âœ‰ï¸:envelope: ğŸ“¨:incoming_envelope: ğŸ“¯:postal_horn: ğŸ“ª:mailbox_closed: ğŸ“¬:mailbox_with_mail: ğŸ“­:mailbox_with_no_mail: ğŸšª:door: ğŸš¬:smoking: ğŸ’£:bomb: ğŸ”«:gun: ğŸ”ª:hocho: ğŸ’Š:pill: ğŸ’‰:syringe: ğŸ“„:page_facing_up: ğŸ“ƒ:page_with_curl: ğŸ“‘:bookmark_tabs: ğŸ“Š:bar_chart: ğŸ“ˆ:chart_with_upwards_trend: ğŸ“‰:chart_with_downwards_trend: ğŸ“œ:scroll: ğŸ“‹:clipboard: ğŸ“†:calendar: ğŸ“…:date: ğŸ“‡:card_index: ğŸ“:file_folder: ğŸ“‚:open_file_folder: âœ‚ï¸:scissors: ğŸ“Œ:pushpin: ğŸ“:paperclip: âœ’ï¸:black_nib: âœï¸:pencil2: ğŸ“:straight_ruler: ğŸ“:triangular_ruler: ğŸ“•:closed_book: ğŸ“—:green_book: ğŸ“˜:blue_book: ğŸ“™:orange_book: ğŸ““:notebook: ğŸ“”:notebook_with_decorative_cover: ğŸ“’:ledger: ğŸ“š:books: ğŸ”–:bookmark: ğŸ“›:name_badge: ğŸ”¬:microscope: ğŸ”­:telescope: ğŸ“°:newspaper: ğŸˆ:football: ğŸ€:basketball: âš½ï¸:soccer: âš¾ï¸:baseball: ğŸ¾:tennis: ğŸ±:8ball: ğŸ‰:rugby_football: ğŸ³:bowling: â›³ï¸:golf: ğŸšµ:mountain_bicyclist: ğŸš´:bicyclist: ğŸ‡:horse_racing: ğŸ‚:snowboarder: ğŸŠ:swimmer: ğŸ„:surfer: ğŸ¿:ski: â™ ï¸:spades: â™¥ï¸:hearts: â™£ï¸:clubs: â™¦ï¸:diamonds: ğŸ’:gem: ğŸ’:ring: ğŸ†:trophy: ğŸ¼:musical_score: ğŸ¹:musical_keyboard: ğŸ»:violin: ğŸ‘¾:space_invader: ğŸ®:video_game: ğŸƒ:black_joker: ğŸ´:flower_playing_cards: ğŸ²:game_die: ğŸ¯:dart: ğŸ€„ï¸:mahjong: ğŸ¬:clapper: ğŸ“:memo: ğŸ“:pencil: ğŸ“–:book: ğŸ¨:art: ğŸ¤:microphone: ğŸ§:headphones: ğŸº:trumpet: ğŸ·:saxophone: ğŸ¸:guitar: ğŸ‘:shoe: ğŸ‘¡:sandal: ğŸ‘ :high_heel: ğŸ’„:lipstick: ğŸ‘¢:boot: ğŸ‘•:shirt: ğŸ‘•:tshirt: ğŸ‘”:necktie: ğŸ‘š:womans_clothes: ğŸ‘—:dress: ğŸ½:running_shirt_with_sash: ğŸ‘–:jeans: ğŸ‘˜:kimono: ğŸ‘™:bikini: ğŸ€:ribbon: ğŸ©:tophat: ğŸ‘‘:crown: ğŸ‘’:womans_hat: ğŸ‘:mans_shoe: ğŸŒ‚:closed_umbrella: ğŸ’¼:briefcase: ğŸ‘œ:handbag: ğŸ‘:pouch: ğŸ‘›:purse: ğŸ‘“:eyeglasses: ğŸ£:fishing_pole_and_fish: â˜•ï¸:coffee: ğŸµ:tea: ğŸ¶:sake: ğŸ¼:baby_bottle: ğŸº:beer: ğŸ»:beers: ğŸ¸:cocktail: ğŸ¹:tropical_drink: ğŸ·:wine_glass: ğŸ´:fork_and_knife: ğŸ•:pizza: ğŸ”:hamburger: ğŸŸ:fries: ğŸ—:poultry_leg: ğŸ–:meat_on_bone: ğŸ:spaghetti: ğŸ›:curry: ğŸ¤:fried_shrimp: ğŸ±:bento: ğŸ£:sushi: ğŸ¥:fish_cake: ğŸ™:rice_ball: ğŸ˜:rice_cracker: ğŸš:rice: ğŸœ:ramen: ğŸ²:stew: ğŸ¢:oden: ğŸ¡:dango: ğŸ¥š:egg: ğŸ:bread: ğŸ©:doughnut: ğŸ®:custard: ğŸ¦:icecream: ğŸ¨:ice_cream: ğŸ§:shaved_ice: ğŸ‚:birthday: ğŸ°:cake: ğŸª:cookie: ğŸ«:chocolate_bar: ğŸ¬:candy: ğŸ­:lollipop: ğŸ¯:honey_pot: ğŸ:apple: ğŸ:green_apple: ğŸŠ:tangerine: ğŸ‹:lemon: ğŸ’:cherries: ğŸ‡:grapes: ğŸ‰:watermelon: ğŸ“:strawberry: ğŸ‘:peach: ğŸˆ:melon: ğŸŒ:banana: ğŸ:pear: ğŸ:pineapple: ğŸ :sweet_potato: ğŸ†:eggplant: ğŸ…:tomato: ğŸŒ½:corn: Places ğŸ :house: ğŸ¡:house_with_garden: ğŸ«:school: ğŸ¢:office: ğŸ£:post_office: ğŸ¥:hospital: ğŸ¦:bank: ğŸª:convenience_store: ğŸ©:love_hotel: ğŸ¨:hotel: ğŸ’’:wedding: â›ªï¸:church: ğŸ¬:department_store: ğŸ¤:european_post_office: ğŸŒ‡:city_sunrise: ğŸŒ†:city_sunset: ğŸ¯:japanese_castle: ğŸ°:european_castle: â›ºï¸:tent: ğŸ­:factory: ğŸ—¼:tokyo_tower: ğŸ—¾:japan: ğŸ—»:mount_fuji: ğŸŒ„:sunrise_over_mountains: ğŸŒ…:sunrise: ğŸŒ :stars: ğŸ—½:statue_of_liberty: ğŸŒ‰:bridge_at_night: ğŸ :carousel_horse: ğŸŒˆ:rainbow: ğŸ¡:ferris_wheel: â›²ï¸:fountain: ğŸ¢:roller_coaster: ğŸš¢:ship: ğŸš¤:speedboat: â›µï¸:boat: â›µï¸:sailboat: ğŸš£:rowboat: âš“ï¸:anchor: ğŸš€:rocket: âœˆï¸:airplane: ğŸš:helicopter: ğŸš‚:steam_locomotive: ğŸšŠ:tram: ğŸš:mountain_railway: ğŸš²:bike: ğŸš¡:aerial_tramway: ğŸšŸ:suspension_railway: ğŸš :mountain_cableway: ğŸšœ:tractor: ğŸš™:blue_car: ğŸš˜:oncoming_automobile: ğŸš—:car: ğŸš—:red_car: ğŸš•:taxi: ğŸš–:oncoming_taxi: ğŸš›:articulated_lorry: ğŸšŒ:bus: ğŸš:oncoming_bus: ğŸš¨:rotating_light: ğŸš“:police_car: ğŸš”:oncoming_police_car: ğŸš’:fire_engine: ğŸš‘:ambulance: ğŸš:minibus: ğŸšš:truck: ğŸš‹:train: ğŸš‰:station: ğŸš†:train2: ğŸš…:bullettrain_front: ğŸš„:bullettrain_side: ğŸšˆ:light_rail: ğŸš:monorail: ğŸšƒ:railway_car: ğŸš:trolleybus: ğŸ«:ticket: â›½ï¸:fuelpump: ğŸš¦:vertical_traffic_light: ğŸš¥:traffic_light: âš ï¸:warning: ğŸš§:construction: ğŸ”°:beginner: ğŸ§:atm: ğŸ°:slot_machine: ğŸš:busstop: ğŸ’ˆ:barber: â™¨ï¸:hotsprings: ğŸ:checkered_flag: ğŸŒ:crossed_flags: ğŸ®:izakaya_lantern: ğŸ—¿:moyai: ğŸª:circus_tent: ğŸ­:performing_arts: ğŸ“:round_pushpin: ğŸš©:triangular_flag_on_post: ğŸ‡¯ğŸ‡µ:jp: ğŸ‡°ğŸ‡·:kr: ğŸ‡¨ğŸ‡³:cn: ğŸ‡ºğŸ‡¸:us: ğŸ‡«ğŸ‡·:fr: ğŸ‡ªğŸ‡¸:es: ğŸ‡®ğŸ‡¹:it: ğŸ‡·ğŸ‡º:ru: ğŸ‡¬ğŸ‡§:gb: ğŸ‡¬ğŸ‡§:uk: ğŸ‡©ğŸ‡ª:de: Symbols 1ï¸âƒ£:one: 2ï¸âƒ£:two: 3ï¸âƒ£:three: 4ï¸âƒ£:four: 5ï¸âƒ£:five: 6ï¸âƒ£:six: 7ï¸âƒ£:seven: 8ï¸âƒ£:eight: 9ï¸âƒ£:nine: ğŸ”Ÿ:keycap_ten: ğŸ”¢:1234: 0ï¸âƒ£:zero: #ï¸âƒ£:hash: ğŸ”£:symbols: â—€ï¸:arrow_backward: â¬‡ï¸:arrow_down: â–¶ï¸:arrow_forward: â¬…ï¸:arrow_left: ğŸ” :capital_abcd: ğŸ”¡:abcd: ğŸ”¤:abc: â†™ï¸:arrow_lower_left: â†˜ï¸:arrow_lower_right: â¡ï¸:arrow_right: â¬†ï¸:arrow_up: â†–ï¸:arrow_upper_left: â†—ï¸:arrow_upper_right: â¬:arrow_double_down: â«:arrow_double_up: ğŸ”½:arrow_down_small: â¤µï¸:arrow_heading_down: â¤´ï¸:arrow_heading_up: â†©ï¸:leftwards_arrow_with_hook: â†ªï¸:arrow_right_hook: â†”ï¸:left_right_arrow: â†•ï¸:arrow_up_down: ğŸ”¼:arrow_up_small: ğŸ”ƒ:arrows_clockwise: ğŸ”„:arrows_counterclockwise: âª:rewind: â©:fast_forward: â„¹ï¸:information_source: ğŸ†—:ok: ğŸ”€:twisted_rightwards_arrows: ğŸ”:repeat: ğŸ”‚:repeat_one: ğŸ†•:new: ğŸ”:top: ğŸ†™:up: ğŸ†’:cool: ğŸ†“:free: ğŸ†–:ng: ğŸ¦:cinema: ğŸˆ:koko: ğŸ“¶:signal_strength: ğŸˆ¹:u5272: ğŸˆ´:u5408: ğŸˆº:u55b6: ğŸˆ¯ï¸:u6307: ğŸˆ·ï¸:u6708: ğŸˆ¶:u6709: ğŸˆµ:u6e80: ğŸˆšï¸:u7121: ğŸˆ¸:u7533: ğŸˆ³:u7a7a: ğŸˆ²:u7981: ğŸˆ‚ï¸:sa: ğŸš»:restroom: ğŸš¹:mens: ğŸšº:womens: ğŸš¼:baby_symbol: ğŸš­:no_smoking: ğŸ…¿ï¸:parking: â™¿ï¸:wheelchair: ğŸš‡:metro: ğŸ›„:baggage_claim: ğŸ‰‘:accept: ğŸš¾:wc: ğŸš°:potable_water: ğŸš®:put_litter_in_its_place: ãŠ™ï¸:secret: ãŠ—ï¸:congratulations: â“‚ï¸:m: ğŸ›‚:passport_control: ğŸ›…:left_luggage: ğŸ›ƒ:customs: ğŸ‰:ideograph_advantage: ğŸ†‘:cl: ğŸ†˜:sos: ğŸ†”:id: ğŸš«:no_entry_sign: ğŸ”:underage: ğŸ“µ:no_mobile_phones: ğŸš¯:do_not_litter: ğŸš±:non-potable_water: ğŸš³:no_bicycles: ğŸš·:no_pedestrians: ğŸš¸:children_crossing: â›”ï¸:no_entry: âœ³ï¸:eight_spoked_asterisk: âœ´ï¸:eight_pointed_black_star: ğŸ’Ÿ:heart_decoration: ğŸ†š:vs: ğŸ“³:vibration_mode: ğŸ“´:mobile_phone_off: ğŸ’¹:chart: ğŸ’±:currency_exchange: â™ˆï¸:aries: â™‰ï¸:taurus: â™Šï¸:gemini: â™‹ï¸:cancer: â™Œï¸:leo: â™ï¸:virgo: â™ï¸:libra: â™ï¸:scorpius: â™ï¸:sagittarius: â™‘ï¸:capricorn: â™’ï¸:aquarius: â™“ï¸:pisces: â›:ophiuchus: ğŸ”¯:six_pointed_star: â:negative_squared_cross_mark: ğŸ…°ï¸:a: ğŸ…±ï¸:b: ğŸ†:ab: ğŸ…¾ï¸:o2: ğŸ’ :diamond_shape_with_a_dot_inside: â™»ï¸:recycle: ğŸ”š:end: ğŸ”›:on: ğŸ”œ:soon: ğŸ•:clock1: ğŸ•œ:clock130: ğŸ•™:clock10: ğŸ•¥:clock1030: ğŸ•š:clock11: ğŸ•¦:clock1130: ğŸ•›:clock12: ğŸ•§:clock1230: ğŸ•‘:clock2: ğŸ•:clock230: ğŸ•’:clock3: ğŸ•:clock330: ğŸ•“:clock4: ğŸ•Ÿ:clock430: ğŸ•”:clock5: ğŸ• :clock530: ğŸ••:clock6: ğŸ•¡:clock630: ğŸ•–:clock7: ğŸ•¢:clock730: ğŸ•—:clock8: ğŸ•£:clock830: ğŸ•˜:clock9: ğŸ•¤:clock930: ğŸ’²:heavy_dollar_sign: Â©ï¸:copyright: Â®ï¸:registered: â„¢ï¸:tm: âŒ:x: â—ï¸:heavy_exclamation_mark: â€¼ï¸:bangbang: â‰ï¸:interrobang: â­•ï¸:o: âœ–ï¸:heavy_multiplication_x: â•:heavy_plus_sign: â–:heavy_minus_sign: â—:heavy_division_sign: ğŸ’®:white_flower: ğŸ’¯:100: âœ”ï¸:heavy_check_mark: â˜‘ï¸:ballot_box_with_check: ğŸ”˜:radio_button: ğŸ”—:link: â°:curly_loop: ã€°ï¸:wavy_dash: ã€½ï¸:part_alternation_mark: ğŸ”±:trident: :black_square::black_square: :white_square::white_square: âœ…:white_check_mark: ğŸ”²:black_square_button: ğŸ”³:white_square_button: âš«ï¸:black_circle: âšªï¸:white_circle: ğŸ”´:red_circle: ğŸ”µ:large_blue_circle: ğŸ”·:large_blue_diamond: ğŸ”¶:large_orange_diamond: ğŸ”¹:small_blue_diamond: ğŸ”¸:small_orange_diamond: ğŸ”º:small_red_triangle: ğŸ”»:small_red_triangle_down: :shipit::shipit:","categories":[{"name":"å¿«æ·å‘½ä»¤","slug":"å¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/categories/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"}],"tags":[{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://gladdduck.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"}]},{"title":"print(Hello hexo) & github connected error","slug":"é…ç½®-hello-hexoé…ç½®","date":"2022-10-22T00:58:32.348Z","updated":"2022-11-03T10:38:27.726Z","comments":true,"path":"2022/10/22/é…ç½®-hello-hexoé…ç½®/","link":"","permalink":"https://gladdduck.github.io/2022/10/22/%E9%85%8D%E7%BD%AE-hello-hexo%E9%85%8D%E7%BD%AE/","excerpt":"","text":"ä¸­é—´è¿‡ç¨‹å¯èƒ½ä¼šå‡ºç°é“¾æ¥ä¸ä¸Šgithubçš„æƒ…å†µï¼Œè¿™ä¸ªå› äººè€Œå¼‚ã€‚ ä¸æ˜¯æ“ä½œé—®é¢˜ï¼Œæ˜¯å¢™çš„é—®é¢˜ã€‚ è‡ªå·±å°è¯•è§£å†³åŠæ³•ã€‚ é…ç½®ç®€å•åšå®¢ å®‰è£…å‰é…ç½® gitå®‰è£…(ä¸‹ä¸€æ­¥è€…)ï¼Œæµ‹è¯•ï¼šgit -v nodejså®‰è£…(ä¸‹ä¸€æ­¥è€…)ï¼Œæµ‹è¯•ï¼šnode -v npmå®‰è£…(è£…å®Œnodeå°±æœ‰)ï¼Œæµ‹è¯•ï¼šnpm -v hexoå®‰è£…(npm install hexo -g)ï¼Œæµ‹è¯•ï¼šhexo -v å…¶ä»–éœ€è¦å®‰è£…çš„ä¾èµ–å¦‚ä¸‹(ä¸»é¢˜éƒ¨åˆ†ä¼šç”¨åˆ°)(npm install depandence)ï¼Œæµ‹è¯•ï¼šnpm init 12345678910111213141516+-- hexo-deployer-git@3.0.0+-- hexo-generator-archive@1.0.0+-- hexo-generator-baidu-sitemap@0.1.9+-- hexo-generator-category@1.0.0+-- hexo-generator-feed@3.0.0+-- hexo-generator-index@2.0.0+-- hexo-generator-json-content@4.2.3+-- hexo-generator-sitemap@3.0.1+-- hexo-generator-tag@1.0.0+-- hexo-renderer-ejs@1.0.0+-- hexo-renderer-markdown-it-plus@1.0.6+-- hexo-renderer-stylus@2.1.0+-- hexo-server@2.0.0+-- hexo-theme-landscape@0.0.3+-- hexo-wordcount@6.0.1+-- hexo@5.4.2 githubä¸Šçš„æ“ä½œ æ–°å»ºä¸€ä¸ªä»“åº“(repository) ä»“åº“åå­—ä¸€å®šæ˜¯è‡ªå·±çš„ç”¨æˆ·å xxxxx.github.io gitå‘½ä»¤æ¿é“¾æ¥ä»“åº“ç”Ÿæˆå…¬é’¥ 1234567#å¦‚æœç¬¬ä¸€æ¬¡ä¸‹gitåº”è¯¥è¦è®¾ç½®ä¸€ä¸‹ï¼Œæˆ‘æ²¡è®¾ç½®åé¢æŠ¥é”™äº†git config --global user.name &quot;username&quot;git config --global user.email &quot;email&quot;# ç”Ÿæˆå…¬é’¥ssh-keygen -t rsa -C &quot;email&quot;# ä¼šåœ¨C:\\Users\\ä½ çš„ç”¨æˆ·å\\.sshä¸‹ç”Ÿæˆid_rsaå’Œid_rsa.pub# å¤åˆ¶id_rsa.pubå†…å®¹ åœ¨settingä¸­ titleå¯ä»¥éšä¾¿å¡«ï¼Œkeyå°±æ˜¯id_rsa.pubä¸­çš„å†…å®¹ ç„¶ååœ¨gitå‘½ä»¤ç‰ˆä¸­æµ‹è¯•ï¼š 1ssh -T git@gitbuh.com ä¸­é—´å¯èƒ½ä¼šè¾“ä¸ªyes çœ‹è§successfullyå°±æˆåŠŸäº† æœ¬åœ°hexoçš„æ“ä½œ æœ¬åœ°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹â€”æš‚ä¸”å«ä»–diræ–¹ä¾¿åé¢è¯´ï¼Œè¿™ä¸ªå°±æ˜¯åšå®¢å…¨éƒ¨å†…å®¹ æ‰§è¡Œå®Œä¸‹é¢å‘½ä»¤ï¼Œæ–‡ä»¶å¤¹å†…ä¼šå¤šå‡ºä¸œè¥¿ï¼Œ 12# å¦‚æœæ‰§è¡Œå¤±è´¥ï¼Œå»githubæ‰¾åˆ°hexo-starterçš„åº“ï¼Œä¸‹è½½è§£å‹ï¼Œè®°å¾—æ”¹åå­—hexo init 3.å¦‚æœä¸éœ€è¦é¢å¤–çš„hexoä¸»é¢˜ï¼Œæ‰§è¡Œä¸‹é¢å‘½ä»¤å°±å¯ä»¥äº†å®Œæˆäº† 123456789# hexo æŠŠæœ¬åœ°çš„ä¸œè¥¿ï¼Œç”Ÿæˆé™æ€æ–‡ä»¶(html,cssè¿™äº›)hexo g# hexo såœ¨æœ¬åœ°è¿è¡Œï¼Œå¯ä»¥è¿›è‡ªå·±çš„æµè§ˆå™¨çœ‹çœ‹hexo s # hexo d éƒ¨ç½²æ–‡ä»¶åˆ°githubhexo d# hexo d -gå¯ä»¥ç›´æ¥ç”Ÿæˆå¹¶éƒ¨ç½²# è®¿é—®xxxxx.github.io å°±èƒ½çœ‹è§è‡ªå·±çš„åšå®¢äº† é…ç½®è‡ªå·±çš„ä¿¡æ¯ ä¿®æ”¹diræ–‡ä»¶å¤¹å†…çš„_config.ymlé…ç½®æ–‡ä»¶ æŠŠé“¾æ¥ä»€ä¹ˆçš„æ”¹æˆè‡ªå·±çš„é“¾æ¥å°±OKäº† ç½‘ç«™çš„é…ç½® å³diræ–‡ä»¶å¤¹ä¸‹é¢çš„_config.yml 12345# 1. é…ç½®ä¸»é¢˜çš„æ–‡å­—ï¼Œä¸ç„¶ä¸»é¢˜éƒ½æ˜¯è‹±æ–‡ï¼Œè¿™ä¸ªå¿…é¡»åœ¨dirä¸­é…ç½®ï¼Œåœ¨ä¸»é¢˜ä¸­é…ç½®æ²¡æœ‰ç”¨language: zh-CN# 2. å¦‚æœç”¨ä¸»é¢˜ï¼Œä¸»é¢˜çš„é…ç½®ï¼Œä¸æ˜¯hexo-theme-pureï¼Œå°±æ˜¯puretheme: pure hexo é…ç½®è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ å¦‚æœä¸æ˜¯è‡ªå·±ç‰¹åˆ«å–œæ¬¢çš„ä¸»é¢˜ï¼Œå»ºè®®æ‰¾ä¸€ä¸ªå¤§ä¼—çš„ç”¨çš„äººå¤šçš„ä¸»é¢˜ï¼Œ å› ä¸ºç”¨çš„äººå¤šï¼Œå‡ºç°çš„é—®é¢˜è§£å†³åŠæ³•å°±å¤š ä»¥pureä¸ºä¾‹ï¼Œæ›´å¤šçš„ä¸»é¢˜è®¿é—®: hexoå®˜ç½‘ åœ¨é…ç½®ä¸»é¢˜è¿‡ç¨‹ä¸­ï¼Œå»ºè®®å‚è€ƒpureå®˜æ–¹æ–‡æ¡£:hhexo-theme-pure å…ˆæŠŠä¸»é¢˜ä¸‹è½½ä¸‹æ¥ï¼Œé™¤äº†gitå‘½ä»¤ï¼Œå…¶ä»–çš„éƒ½å»ºè®®åœ¨windowsçš„cmdä¸­ä½¿ç”¨ 123456789# å¦‚æœå¤±è´¥äº†ï¼ŒåŒæ ·å¯ä»¥å»githubï¼Œhexo-theme-pure ä¸‹è½½è§£å‹ï¼Œæ³¨æ„æ”¹æ–‡ä»¶å¤¹åå­—git clone https://github.com/cofess/hexo-theme-pure.git themes/pure# ç„¶åæŠŠå®˜æ–¹æ–‡æ¡£å»ºè®®çš„ä¸€å¤§å †ä¾èµ–ä¸‹ä¸‹æ¥# ç¬¬ä¸€éƒ¨åˆ†ä¸‹è¿‡çš„å¯ä»¥çœç•¥npm install hexo-wordcount --savenpm install hexo-generator-json-content --savenpm install hexo-generator-feed --savenpm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save ä¿®æ”¹diræ–‡ä»¶å¤¹å†…çš„_config.ymlä¸­çš„theme å¦‚æœæ²¡æœ‰è‡ªå·±æ·»åŠ  1theme: pure æ–‡ç« å¢åˆ æ”¹æŸ¥ å¢åˆ æ”¹æ–‡ä»¶ï¼Œç›´æ¥åœ¨_posté‡Œä¿®æ”¹mdæ–‡ä»¶ï¼Œä¸Šä¼ å³å¯ã€‚ è¸©å‘ ä¸‹é¢è¯´å‡ ä¸ªè‡ªå·±è¸©è¿‡çš„å‘ï¼Œç½‘ç«™é…ç½®è¿˜å¥½ï¼Œ ä¸»é¢˜çš„é…ç½®ä¸€å †ï¼Œè€Œä¸”pureç”¨çš„äººä¸å¤šï¼Œé—®é¢˜å…¨é è‡ªå·±è§£å†³ ä»¥ä¸‹çš„ä¿®æ”¹éƒ½åœ¨theme/pure/_cofig.ymlæ–‡ä»¶ä¸­ ç½‘ç«™çš„é…ç½® ç½‘ç«™çš„åå­—å’Œlogo 123456789101112site: logo: enabled: true width: 40 height: 40 url: ../images/logo.png title: Gladdduck # é¡µé¢title favicon: /favicon.png board: &lt;p&gt;åˆ†äº«æ‰€æ€æ‰€è§æ‰€æƒ³,æ¬¢è¿ç•™è¨€äº¤æµ!6666&lt;/p&gt; # ç«™ç‚¹å…¬å‘Š copyright: false # åº•éƒ¨ç‰ˆæƒä¿¡æ¯# ä¿®æ”¹logoä¸€å®šä¸è¦ä¿®æ”¹logo.urlé‡Œé¢çš„å›¾ç‰‡è·¯å¾„# è¦ä¿®æ”¹faviconçš„è·¯å¾„ï¼Œä¿®æ”¹logo.urlçš„è·¯å¾„æ²¡ç”¨ï¼Œåè€Œæ–‡ç« çš„è¯¦æƒ…é¡µé¢ä¸ä¼šå‡ºç°logoäº† å…³äºhomeï¼Œarchivesç­‰ä¸æ˜¯ä¸­æ–‡çš„é—®é¢˜ 123456789menu: Home: . Archives: archives # å½’æ¡£ Categories: categories # åˆ†ç±» Tags: tags # æ ‡ç­¾ Links: links # å‹é“¾ About: about # å…³äº# æŠŠè¿™ä¸ªåœ°æ–¹çš„Homeç­‰æ”¹äº†ä¸èµ·ä½œç”¨ï¼Œåº”è¯¥ä¿®æ”¹diræ–‡ä»¶å¤¹ä¸‹é¢çš„é…ç½®æ–‡ä»¶ï¼Œå¢åŠ language: zh-CN# ï¼šåé¢çš„æ˜¯è®¿é—®urlè·¯å¾„ï¼Œéœ€è¦å’Œsourceæ–‡ä»¶å¤¹ä¸‹é¢çš„å‡ ä¸ªæ–‡ä»¶å¤¹åå­—å¯¹åº” èœå•æ æ— æ³•è®¿é—® Connot get 12345éœ€è¦æŠŠtheme/pure/sourceæ–‡ä»¶å¤¹ä¸‹é¢çš„å‡ ä¸ªæ–‡ä»¶å¤¹ç§»åŠ¨åˆ°diræ–‡ä»¶å¤¹ä¸‹é¢çš„sourceä¸­# ç°åœ¨hexo s æ‰“å¼€æµè§ˆå™¨åº”è¯¥å°±å¯ä»¥çœ‹è§è‡ªå·±çš„åšå®¢äº†ï¼Œç‚¹å‡»å¯¹åº”çš„èœå•ä¹Ÿä¼šè·³è½¬ å…¶ä»–é…ç½®æ ¹æ®é…ç½®æ–‡ä»¶å†…çš„æ³¨é‡Šä¿®æ”¹å³å¯ â€“ åé¢ä¼šè®°å½• GitHub+gitalké…ç½®è¯„è®º ä¸ƒç‰›äº‘+PicGOé…ç½®å›¾åºŠï¼Œæ–¹ä¾¿markdownä¹¦å†™ è¿æ¥Githubæ˜¾ç¤ºcode128(Time out error) é”™è¯¯ä¿¡æ¯ 1234567891011fatal: unable to access &#x27;https://github.com/gladdduck/gladdduck.github.io.git/&#x27;:Failed to connect to github.com port 443 after 21048 ms: Timed outFATAL &#123; err: Error: Spawn failed at ChildProcess.&lt;anonymous&gt; (D:\\BaiduSyncdisk\\Blog\\node_modules\\hexo-util\\lib\\spawn.js:51:21) at ChildProcess.emit (node:events:513:28) at ChildProcess.cp.emit (D:\\BaiduSyncdisk\\Blog\\node_modules\\cross-spawn\\lib\\enoent.js:34:29) at Process.ChildProcess._handle.onexit (node:internal/child_process:293:12) &#123; code: 128 &#125;&#125; Something&#x27;s wrong. Maybe you can find the solution here: %s https://hexo.io/docs/troubleshooting.html è§£å†³åŠæ³• è®¾ç½®hostæ–‡ä»¶â€“æ²¡ç”¨ å…³é—­VPN-- æ²¡ç”¨ è¿æ‰‹æœºçƒ­ç‚¹â€“å¶å°”æœ‰ç”¨ å–æ¶ˆä»£ç†â€“å¶å°”æœ‰ç”¨ 1234å–æ¶ˆå…¨å±€ä»£ç†ï¼šgit config --global --unset http.proxy git config --global --unset https.proxy é…ç½®hostæ–‡ä»¶ åœ¨C:\\Windows\\System32\\drivers\\etcä¸­çš„hostæ–‡ä»¶ä¸‹æ–°å¢(æ²¡æœ‰è®¿é—®æƒé™å¯ä»¥copyä¸€ä»½åœ¨æ¡Œé¢ä¿®æ”¹å®Œä¹‹åè¦†ç›–) 1234567140.82.113.4 github.com 199.232.69.194 github.global.ssl.fastly.net185.199.108.153 assets-cdn.github.com185.199.109.153 assets-cdn.github.com185.199.110.153 assets-cdn.github.com185.199.111.153 assets-cdn.github.com cmdä¸­ipconfig /flushdnsåˆ·æ–°dnsç¼“å­˜ !!! ğŸ˜³ ğŸ˜³ ğŸ˜³ ğŸ˜³ å•ç‹¬åˆ·æ–°dnsä¹Ÿèƒ½ç”¨! cmdä¸­ipconfig /flushdns ç„¶åhexo d -g å°±å®Œå…¨Okäº† ğŸ˜ ğŸ˜ ğŸ˜ ğŸ˜","categories":[{"name":"hexoåšå®¢é…ç½®","slug":"hexoåšå®¢é…ç½®","permalink":"https://gladdduck.github.io/categories/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"hexoåšå®¢é…ç½®pure","slug":"hexoåšå®¢é…ç½®pure","permalink":"https://gladdduck.github.io/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AEpure/"}]},{"title":"print(Hello picgo)","slug":"é…ç½®-hello-picgoé…ç½®","date":"2022-10-22T00:58:32.348Z","updated":"2022-10-22T02:41:47.930Z","comments":true,"path":"2022/10/22/é…ç½®-hello-picgoé…ç½®/","link":"","permalink":"https://gladdduck.github.io/2022/10/22/%E9%85%8D%E7%BD%AE-hello-picgo%E9%85%8D%E7%BD%AE/","excerpt":"","text":"èµ·å›  åœ¨hexoé…ç½®å®Œæˆå¼€å§‹å†™åšå®¢ï¼Œä½†æ˜¯markdownçš„å›¾ç‰‡åœ¨xxxx.githun.ioä¸­æ˜¾ç¤ºä¸å‡ºæ¥ å„æ–¹æœç´¢ï¼Œè´´ä¸€ä¸ªè§£å†³æ–¹æ³•ã€‚ ä½†æ˜¯ä¸ªäººè§‰å¾—æœ‰ç‚¹éº»çƒ¦ï¼Œè€Œä¸”è€ƒè™‘åˆ°ä»¥åå†™markdownä¹Ÿå®åœ¨ä¸æƒ³å†æä¸ªæ–‡ä»¶å¤¹å­˜å›¾ç‰‡ã€‚ äºæ˜¯ï¼Œæ‰¾åˆ°ä¸ƒç‰›äº‘+picgoé…ç½®å›¾äº‘ï¼ŒæŠŠå›¾ç‰‡è½¬ä¸ºåœ¨çº¿çš„ ä¸ƒç‰›äº‘é…ç½® ç™»é™†æ³¨å†Œç•¥(50Gçš„å›¾ç‰‡ç©ºé—´),ä¸ƒç‰›äº‘ åˆ›å»ºæ–°çš„å­˜å‚¨ç©ºé—´ï¼Œåå­—éšä¾¿èµ· é…ç½®key è®°ä½åˆ†ç»™è‡ªå·±çš„åŸŸå(è¿™ä¸ªèƒ½ç”¨ä¸€ä¸ªæœˆï¼Œä¸€ä¸ªæœˆä¹‹åå’‹åŠæˆ‘ä¸çŸ¥é“) picgoé…ç½® ä¸‹è½½picgo é…ç½®ä¸ƒç‰›äº‘ AccessKeyå’ŒSecretKeyï¼šä¸Šé¢è®°ä½çš„key Bucketï¼šç¬¬2æ­¥è‡ªå·±èµ·çš„åå­— è®¿é—®åœ°å€ï¼šåˆ†é…ç»™è‡ªå·±çš„åŸŸå å­˜å‚¨åŒºåŸŸï¼šä¸ƒç‰›äº‘çš„å­˜å‚¨åŒºåŸŸå¯¹åº”çš„ä»£ç ï¼ˆåä¸œ z0ï¼ŒååŒ— z1ï¼Œåå— z2ï¼ŒåŒ—ç¾ na0ï¼Œä¸œå—äºš as0 ï¼‰ è®¾ä¸ºé»˜è®¤å›¾åºŠä¹‹åå°±å¯ä»¥ä¸Šä¼ äº†ï¼Œå…·ä½“çš„ä½¿ç”¨æ–¹æ³•å¯ä»¥è‡ªå·±æ‘¸ç´¢ è¡¥å……ï¼Œè®¾ç½®ä¸ºé»˜è®¤å›¾åºŠä¹‹ååº”è¯¥è¿˜è¦å†è¾“ä¸€éï¼Œç„¶åç‚¹ç¡®å®š å¤åˆ¶å›¾ç‰‡ä¹‹åç‚¹å‡»ï¼Œå°±å¯ä»¥ç›´æ¥Ctrl+Vç²˜è´´å›¾ç‰‡åœ°å€äº†","categories":[{"name":"hexoåšå®¢é…ç½®","slug":"hexoåšå®¢é…ç½®","permalink":"https://gladdduck.github.io/categories/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"hexoåšå®¢é…ç½®picgo","slug":"hexoåšå®¢é…ç½®picgo","permalink":"https://gladdduck.github.io/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AEpicgo/"}]}],"categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ‚ä¸ƒæ‚å…«é…ç½®","slug":"æ‚ä¸ƒæ‚å…«é…ç½®","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB%E9%85%8D%E7%BD%AE/"},{"name":"è®ºæ–‡è®°å½•","slug":"è®ºæ–‡è®°å½•","permalink":"https://gladdduck.github.io/categories/%E8%AE%BA%E6%96%87%E8%AE%B0%E5%BD%95/"},{"name":"å¿«æ·å‘½ä»¤","slug":"å¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/categories/%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"},{"name":"æ‚è°ˆ","slug":"æ‚è°ˆ","permalink":"https://gladdduck.github.io/categories/%E6%9D%82%E8%B0%88/"},{"name":"hexoåšå®¢é…ç½®","slug":"hexoåšå®¢é…ç½®","permalink":"https://gladdduck.github.io/categories/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AE/"}],"tags":[{"name":"Hadoop","slug":"Hadoop","permalink":"https://gladdduck.github.io/tags/Hadoop/"},{"name":"Kaggle","slug":"Kaggle","permalink":"https://gladdduck.github.io/tags/Kaggle/"},{"name":"Vscode","slug":"Vscode","permalink":"https://gladdduck.github.io/tags/Vscode/"},{"name":"ç®—æ³•åˆ·é¢˜ç¬”è®°","slug":"ç®—æ³•åˆ·é¢˜ç¬”è®°","permalink":"https://gladdduck.github.io/tags/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/"},{"name":"Few-shotObjectDetection","slug":"Few-shotObjectDetection","permalink":"https://gladdduck.github.io/tags/Few-shotObjectDetection/"},{"name":"ä»£ç é˜…è¯»","slug":"ä»£ç é˜…è¯»","permalink":"https://gladdduck.github.io/tags/%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/"},{"name":"Hexo","slug":"Hexo","permalink":"https://gladdduck.github.io/tags/Hexo/"},{"name":"mmfewshot","slug":"mmfewshot","permalink":"https://gladdduck.github.io/tags/mmfewshot/"},{"name":"CSharp","slug":"CSharp","permalink":"https://gladdduck.github.io/tags/CSharp/"},{"name":"PaddleOCRSharp","slug":"PaddleOCRSharp","permalink":"https://gladdduck.github.io/tags/PaddleOCRSharp/"},{"name":"VS2022","slug":"VS2022","permalink":"https://gladdduck.github.io/tags/VS2022/"},{"name":"VSCode Github","slug":"VSCode-Github","permalink":"https://gladdduck.github.io/tags/VSCode-Github/"},{"name":"BingChat","slug":"BingChat","permalink":"https://gladdduck.github.io/tags/BingChat/"},{"name":"çŸ¥è¯†ç‚¹","slug":"çŸ¥è¯†ç‚¹","permalink":"https://gladdduck.github.io/tags/%E7%9F%A5%E8%AF%86%E7%82%B9/"},{"name":"Zero-shot Detection","slug":"Zero-shot-Detection","permalink":"https://gladdduck.github.io/tags/Zero-shot-Detection/"},{"name":"BlazorLocalization","slug":"BlazorLocalization","permalink":"https://gladdduck.github.io/tags/BlazorLocalization/"},{"name":"Blazor","slug":"Blazor","permalink":"https://gladdduck.github.io/tags/Blazor/"},{"name":"Git","slug":"Git","permalink":"https://gladdduck.github.io/tags/Git/"},{"name":"ç›®æ ‡æ£€æµ‹ä¼šè®®","slug":"ç›®æ ‡æ£€æµ‹ä¼šè®®","permalink":"https://gladdduck.github.io/tags/%E7%9B%AE%E6%A0%87%E6%A3%80%E6%B5%8B%E4%BC%9A%E8%AE%AE/"},{"name":"åƒåœ¾æ£€æµ‹","slug":"åƒåœ¾æ£€æµ‹","permalink":"https://gladdduck.github.io/tags/%E5%9E%83%E5%9C%BE%E6%A3%80%E6%B5%8B/"},{"name":"python3 æ ‡å‡†åº“","slug":"python3-æ ‡å‡†åº“","permalink":"https://gladdduck.github.io/tags/python3-%E6%A0%87%E5%87%86%E5%BA%93/"},{"name":"æ­å»ºåšå®¢","slug":"æ­å»ºåšå®¢","permalink":"https://gladdduck.github.io/tags/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"},{"name":"Pythonå­¦ä¹ ç¬”è®°","slug":"Pythonå­¦ä¹ ç¬”è®°","permalink":"https://gladdduck.github.io/tags/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"çŸ¥è¯†å›¾è°±è¡¨ç¤º","slug":"çŸ¥è¯†å›¾è°±è¡¨ç¤º","permalink":"https://gladdduck.github.io/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1%E8%A1%A8%E7%A4%BA/"},{"name":"å¿«é€Ÿå‚…é‡Œå¶å˜æ¢","slug":"å¿«é€Ÿå‚…é‡Œå¶å˜æ¢","permalink":"https://gladdduck.github.io/tags/%E5%BF%AB%E9%80%9F%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2/"},{"name":"Linuxå¿«æ·å‘½ä»¤","slug":"Linuxå¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/tags/Linux%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"},{"name":"æ’åºç®—æ³•","slug":"æ’åºç®—æ³•","permalink":"https://gladdduck.github.io/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/"},{"name":"git Time out","slug":"git-Time-out","permalink":"https://gladdduck.github.io/tags/git-Time-out/"},{"name":"Dataset","slug":"Dataset","permalink":"https://gladdduck.github.io/tags/Dataset/"},{"name":"Dataloader","slug":"Dataloader","permalink":"https://gladdduck.github.io/tags/Dataloader/"},{"name":"Sampler","slug":"Sampler","permalink":"https://gladdduck.github.io/tags/Sampler/"},{"name":"collate_fn","slug":"collate-fn","permalink":"https://gladdduck.github.io/tags/collate-fn/"},{"name":"Cypher","slug":"Cypher","permalink":"https://gladdduck.github.io/tags/Cypher/"},{"name":"Neo4jå¿«æ·å‘½ä»¤","slug":"Neo4jå¿«æ·å‘½ä»¤","permalink":"https://gladdduck.github.io/tags/Neo4j%E5%BF%AB%E6%8D%B7%E5%91%BD%E4%BB%A4/"},{"name":"neo4jå®‰è£…","slug":"neo4jå®‰è£…","permalink":"https://gladdduck.github.io/tags/neo4j%E5%AE%89%E8%A3%85/"},{"name":"å¤šä¸ªåŸŸåè®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨","slug":"å¤šä¸ªåŸŸåè®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨","permalink":"https://gladdduck.github.io/tags/%E5%A4%9A%E4%B8%AA%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE%E5%90%8C%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"Vscode é˜¿é‡Œäº‘","slug":"Vscode-é˜¿é‡Œäº‘","permalink":"https://gladdduck.github.io/tags/Vscode-%E9%98%BF%E9%87%8C%E4%BA%91/"},{"name":"hexoåšå®¢é…ç½®gitalk","slug":"hexoåšå®¢é…ç½®gitalk","permalink":"https://gladdduck.github.io/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AEgitalk/"},{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://gladdduck.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"},{"name":"hexoåšå®¢é…ç½®pure","slug":"hexoåšå®¢é…ç½®pure","permalink":"https://gladdduck.github.io/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AEpure/"},{"name":"hexoåšå®¢é…ç½®picgo","slug":"hexoåšå®¢é…ç½®picgo","permalink":"https://gladdduck.github.io/tags/hexo%E5%8D%9A%E5%AE%A2%E9%85%8D%E7%BD%AEpicgo/"}]}